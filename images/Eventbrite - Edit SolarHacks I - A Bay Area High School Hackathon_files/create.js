// http://stackoverflow.com/questions/2790001/fixing-javascript-array-functions-in-internet-explorer-indexof-foreach-etc
"bind"in Function.prototype||(Function.prototype.bind=function(a){var b=this;if(arguments.length<=1)return function(){return b.apply(a,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){return b.apply(a,0===arguments.length?c:c.concat(Array.prototype.slice.call(arguments)))}}),"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(a,b){void 0===b&&(b=0),0>b&&(b+=this.length),0>b&&(b=0);for(var c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1}),"lastIndexOf"in Array.prototype||(Array.prototype.lastIndexOf=function(a,b){for(void 0===b&&(b=this.length-1),0>b&&(b+=this.length),b>this.length-1&&(b=this.length-1),b++;b-- >0;)if(b in this&&this[b]===a)return b;return-1}),"forEach"in Array.prototype||(Array.prototype.forEach=function(a,b){for(var c=0,d=this.length;d>c;c++)c in this&&a.call(b,this[c],c,this)}),"map"in Array.prototype||(Array.prototype.map=function(a,b){for(var c=new Array(this.length),d=0,e=this.length;e>d;d++)d in this&&(c[d]=a.call(b,this[d],d,this));return c}),"filter"in Array.prototype||(Array.prototype.filter=function(a,b){for(var c=[],d,e=0,f=this.length;f>e;e++)e in this&&a.call(b,d=this[e],e,this)&&c.push(d);return c}),"every"in Array.prototype||(Array.prototype.every=function(a,b){for(var c=0,d=this.length;d>c;c++)if(c in this&&!a.call(b,this[c],c,this))return!1;return!0}),"some"in Array.prototype||(Array.prototype.some=function(a,b){for(var c=0,d=this.length;d>c;c++)if(c in this&&a.call(b,this[c],c,this))return!0;return!1}),/*!
 * jQuery BBQ: Back Button & Query Library - v1.2.1 - 2/17/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
// About: License
// 
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
// 
// About: Examples
// 
// These working examples, complete with fully commented code, illustrate a few
// ways in which this plugin can be used.
// 
// Basic AJAX     - http://benalman.com/code/projects/jquery-bbq/examples/fragment-basic/
// Advanced AJAX  - http://benalman.com/code/projects/jquery-bbq/examples/fragment-advanced/
// jQuery UI Tabs - http://benalman.com/code/projects/jquery-bbq/examples/fragment-jquery-ui-tabs/
// Deparam        - http://benalman.com/code/projects/jquery-bbq/examples/deparam/
// 
// About: Support and Testing
// 
// Information about what version or versions of jQuery this plugin has been
// tested with, what browsers it has been tested in, and where the unit tests
// reside (so you can test it yourself).
// 
// jQuery Versions - 1.3.2, 1.4.1, 1.4.2
// Browsers Tested - Internet Explorer 6-8, Firefox 2-3.7, Safari 3-4,
//                   Chrome 4-5, Opera 9.6-10.1.
// Unit Tests      - http://benalman.com/code/projects/jquery-bbq/unit/
// 
// About: Release History
// 
// 1.2.1 - (2/17/2010) Actually fixed the stale window.location Safari bug from
//         <jQuery hashchange event> in BBQ, which was the main reason for the
//         previous release!
// 1.2   - (2/16/2010) Integrated <jQuery hashchange event> v1.2, which fixes a
//         Safari bug, the event can now be bound before DOM ready, and IE6/7
//         page should no longer scroll when the event is first bound. Also
//         added the <jQuery.param.fragment.noEscape> method, and reworked the
//         <hashchange event (BBQ)> internal "add" method to be compatible with
//         changes made to the jQuery 1.4.2 special events API.
// 1.1.1 - (1/22/2010) Integrated <jQuery hashchange event> v1.1, which fixes an
//         obscure IE8 EmulateIE7 meta tag compatibility mode bug.
// 1.1   - (1/9/2010) Broke out the jQuery BBQ event.special <hashchange event>
//         functionality into a separate plugin for users who want just the
//         basic event & back button support, without all the extra awesomeness
//         that BBQ provides. This plugin will be included as part of jQuery BBQ,
//         but also be available separately. See <jQuery hashchange event>
//         plugin for more information. Also added the <jQuery.bbq.removeState>
//         method and added additional <jQuery.deparam> examples.
// 1.0.3 - (12/2/2009) Fixed an issue in IE 6 where location.search and
//         location.hash would report incorrectly if the hash contained the ?
//         character. Also <jQuery.param.querystring> and <jQuery.param.fragment>
//         will no longer parse params out of a URL that doesn't contain ? or #,
//         respectively.
// 1.0.2 - (10/10/2009) Fixed an issue in IE 6/7 where the hidden IFRAME caused
//         a "This page contains both secure and nonsecure items." warning when
//         used on an https:// page.
// 1.0.1 - (10/7/2009) Fixed an issue in IE 8. Since both "IE7" and "IE8
//         Compatibility View" modes erroneously report that the browser
//         supports the native window.onhashchange event, a slightly more
//         robust test needed to be added.
// 1.0   - (10/2/2009) Initial release
function(a,b){"$:nomunge";function c(a){return"string"==typeof a}function d(a){var b=k.call(arguments,1);return function(){return a.apply(this,b.concat(k.call(arguments)))}}function e(a){return a.replace(/^[^#]*#?(.*)$/,"$1")}function f(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function g(d,e,f,g,h){var i,k,n,p,q;return g!==j?(n=f.match(d?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),q=n[3]||"",2===h&&c(g)?k=g.replace(d?D:C,""):(p=o(n[2]),g=c(g)?o[d?x:w](g):g,k=2===h?g:1===h?a.extend({},g,p):a.extend({},p,g),k=m(k),d&&(k=k.replace(E,l))),i=n[1]+(d?"#":k||!n[1]?"?":"")+k+q):i=e(f!==j?f:b[z][A]),i}function h(a,b,d){return b===j||"boolean"==typeof b?(d=b,b=m[a?x:w]()):b=c(b)?b.replace(a?D:C,""):b,o(b,d)}function i(b,d,e,f){return c(e)||"object"==typeof e||(f=e,e=d,d=j),this.each(function(){var c=a(this),g=d||t()[(this.nodeName||"").toLowerCase()]||"",h=g&&c.attr(g)||"";c.attr(g,m[b](h,e,f))})}var j,k=Array.prototype.slice,l=decodeURIComponent,m=a.param,n,o,p,q=a.bbq=a.bbq||{},r,s,t,u=a.event.special,v="hashchange",w="querystring",x="fragment",y="elemUrlAttr",z="location",A="href",B="src",C=/^.*\?|#.*$/g,D=/^.*\#/,E,F={};m[w]=d(g,0,f),m[x]=n=d(g,1,e),n.noEscape=function(b){b=b||"";var c=a.map(b.split(""),encodeURIComponent);E=new RegExp(c.join("|"),"g")},n.noEscape(",/"),a.deparam=o=function(b,c){var d={},e={"true":!0,"false":!1,"null":null};return a.each(b.replace(/\+/g," ").split("&"),function(b,f){var g=f.split("="),h=l(g[0]),i,k=d,m=0,n=h.split("]["),o=n.length-1;if(/\[/.test(n[0])&&/\]$/.test(n[o])?(n[o]=n[o].replace(/\]$/,""),n=n.shift().split("[").concat(n),o=n.length-1):o=0,2===g.length)if(i=l(g[1]),c&&(i=i&&!isNaN(i)?+i:"undefined"===i?j:e[i]!==j?e[i]:i),o)for(;o>=m;m++)h=""===n[m]?k.length:n[m],k=k[h]=o>m?k[h]||(n[m+1]&&isNaN(n[m+1])?{}:[]):i;else a.isArray(d[h])?d[h].push(i):d[h]!==j?d[h]=[d[h],i]:d[h]=i;else h&&(d[h]=c?j:"")}),d},o[w]=d(h,0),o[x]=p=d(h,1),a[y]||(a[y]=function(b){return a.extend(F,b)})({a:A,base:A,iframe:B,img:B,input:B,form:"action",link:A,script:B}),t=a[y],a.fn[w]=d(i,w),a.fn[x]=d(i,x),q.pushState=r=function(a,d){c(a)&&/^#/.test(a)&&d===j&&(d=2);var e=a!==j,f=n(b[z][A],e?a:{},e?d:2);b[z][A]=f+(/#/.test(f)?"":"#")},q.getState=s=function(a,b){return a===j||"boolean"==typeof a?p(a):p(b)[a]},q.removeState=function(b){var c={};b!==j&&(c=s(),a.each(a.isArray(b)?b:arguments,function(a,b){delete c[b]})),r(c,2)},u[v]=a.extend(u[v],{add:function(b){function c(a){var b=a[x]=n();a.getState=function(a,c){return a===j||"boolean"==typeof a?o(b,a):o(b,c)[a]},d.apply(this,arguments)}var d;return a.isFunction(b)?(d=b,c):(d=b.handler,void(b.handler=c))}})}(jQuery,this),/*!
 * jQuery hashchange event - v1.2 - 2/11/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
// About: License
// 
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
// 
// About: Examples
// 
// This working example, complete with fully commented code, illustrate one way
// in which this plugin can be used.
// 
// hashchange event - http://benalman.com/code/projects/jquery-hashchange/examples/hashchange/
// 
// About: Support and Testing
// 
// Information about what version or versions of jQuery this plugin has been
// tested with, what browsers it has been tested in, and where the unit tests
// reside (so you can test it yourself).
// 
// jQuery Versions - 1.3.2, 1.4.1, 1.4.2
// Browsers Tested - Internet Explorer 6-8, Firefox 2-3.7, Safari 3-4, Chrome, Opera 9.6-10.1.
// Unit Tests      - http://benalman.com/code/projects/jquery-hashchange/unit/
// 
// About: Known issues
// 
// While this jQuery hashchange event implementation is quite stable and robust,
// there are a few unfortunate browser bugs surrounding expected hashchange
// event-based behaviors, independent of any JavaScript window.onhashchange
// abstraction. See the following examples for more information:
// 
// Chrome: Back Button - http://benalman.com/code/projects/jquery-hashchange/examples/bug-chrome-back-button/
// Firefox: Remote XMLHttpRequest - http://benalman.com/code/projects/jquery-hashchange/examples/bug-firefox-remote-xhr/
// WebKit: Back Button in an Iframe - http://benalman.com/code/projects/jquery-hashchange/examples/bug-webkit-hash-iframe/
// Safari: Back Button from a different domain - http://benalman.com/code/projects/jquery-hashchange/examples/bug-safari-back-from-diff-domain/
// 
// About: Release History
// 
// 1.2   - (2/11/2010) Fixed a bug where coming back to a page using this plugin
//         from a page on another domain would cause an error in Safari 4. Also,
//         IE6/7 Iframe is now inserted after the body (this actually works),
//         which prevents the page from scrolling when the event is first bound.
//         Event can also now be bound before DOM ready, but it won't be usable
//         before then in IE6/7.
// 1.1   - (1/21/2010) Incorporated document.documentMode test to fix IE8 bug
//         where browser version is incorrectly reported as 8.0, despite
//         inclusion of the X-UA-Compatible IE=EmulateIE7 meta tag.
// 1.0   - (1/9/2010) Initial Release. Broke out the jQuery BBQ event.special
//         window.onhashchange functionality into a separate plugin for users
//         who want just the basic event & back button support, without all the
//         extra awesomeness that BBQ provides. This plugin will be included as
//         part of jQuery BBQ, but also be available separately.
function(a,b,c){"$:nomunge";function d(a){return a=a||b[g][i],a.replace(/^[^#]*#?(.*)$/,"$1")}var e,f=a.event.special,g="location",h="hashchange",i="href",j=a.browser,k=document.documentMode,l=j.msie&&(k===c||8>k),m="on"+h in b&&!l;a[h+"Delay"]=100,f[h]=a.extend(f[h],{setup:function(){return m?!1:void a(e.start)},teardown:function(){return m?!1:void a(e.stop)}}),e=function(){function c(){k=m=function(a){return a},l&&(j=a('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,m=function(){return d(j.document[g][i])},(k=function(a,b){if(a!==b){var c=j.document;c.open().close(),c[g].hash="#"+a}})(d()))}var e={},f,j,k,m;return e.start=function(){if(!f){var e=d();k||c(),function j(){var c=d(),l=m(e);c!==e?(k(e=c,l),a(b).trigger(h)):l!==e&&(b[g][i]=b[g][i].replace(/#.*/,"")+"#"+l),f=setTimeout(j,a[h+"Delay"])}()}},e.stop=function(){j||(f&&clearTimeout(f),f=0)},e}()}(jQuery,this),/*
 * jQuery miniColors: A small color selector
 *
 * Copyright 2011 Cory LaViska for A Beautiful Site, LLC. (http://abeautifulsite.net/)
 *
 * Dual licensed under the MIT or GPL Version 2 licenses
 *
 *
 * Usage:
 *
 *	1. Link to jQuery: <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.0/jquery.min.js"></script>
 *
 *  2. Link to miniColors: <script type="text/javascript" src="jquery.miniColors.js"></script>
 *
 *  3. Include miniColors stylesheet: <link type="text/css" rel="stylesheet" href="jquery.miniColors.css" />
 *
 *	4. Apply $([selector]).miniColors() to one or more INPUT elements
 *
 *
 * Options:
 *
 *	disabled		[true|false]
 *	readonly		[true|false]
 *
 *
 *  Specify options on creation:
 *
 *		$([selector]).miniColors({
 *
 *			optionName: value,
 *			optionName: value,
 *			...
 *
 *		});
 *
 *
 * Methods:
 *
 *	Call a method using: $([selector]).miniColors('methodName', [value]);
 *
 *	disabled		[true|false]
 *	readonly		[true|false]
 *	value			[hex value]
 *	destroy
 *
 *
 * Events:
 *
 *	Attach events on creation:
 *
 *		$([selector]).miniColors({
 *
 *			change: function(hex, rgb) { ... }
 *
 *		});
 *
 *	change(hex, rgb)	called when the color value changes; 'this' will refer to the original input element;
 *                      hex is the string hex value of the selected color; rgb is an object with the RGB values
 *
 *
 * Change log:
 *
 *	- v0.1 (2011-02-24) - Initial release
 *
 *
 * Attribution:
 *
 *	- The color picker icon is based on an icon from the amazing Fugue icon set: 
 *    http://p.yusukekamiyamane.com/
 *
 *	- The gradient image, the hue image, and the math functions are courtesy of 
 *    the eyecon.co jQuery color picker: http://www.eyecon.ro/colorpicker/
 *
 *
*/
jQuery&&function(a){a.extend(a.fn,{miniColors:function(b,c){var d=function(b,c,d){var e=q(b.val());e||(e="FFFFFF");var f=v(e),h=a('<a class="miniColors-trigger" style="background-color: #'+e+'" href="#"></a>');h.insertAfter(b),b.addClass("miniColors").attr("maxlength",7).attr("autocomplete","off"),b.data("trigger",h),b.data("hsb",f),c.change&&b.data("change",c.change),c.readonly&&b.attr("readonly",!0),c.disabled&&g(b),h.bind("click.miniColors",function(a){a.preventDefault(),b.trigger("focus")}),b.bind("focus.miniColors",function(a){i(b)}),b.bind("blur.miniColors",function(a){var c=q(b.val());b.val(c?"#"+c:"")}),b.bind("keydown.miniColors",function(a){9===a.keyCode&&j(b)}),b.bind("keyup.miniColors",function(a){var c=b.val().replace(/[^A-F0-9#]/gi,"");b.val(c),n(b)||b.data("trigger").css("backgroundColor","#FFF")}),b.bind("paste.miniColors",function(a){setTimeout(function(){b.trigger("keyup")},5)})},e=function(b){j(),b=a(b),b.data("trigger").remove(),b.removeAttr("autocomplete"),b.removeData("trigger"),b.removeData("selector"),b.removeData("hsb"),b.removeData("huePicker"),b.removeData("colorPicker"),b.removeData("mousebutton"),b.removeData("moving"),b.unbind("click.miniColors"),b.unbind("focus.miniColors"),b.unbind("blur.miniColors"),b.unbind("keyup.miniColors"),b.unbind("keydown.miniColors"),b.unbind("paste.miniColors"),a(document).unbind("mousedown.miniColors"),a(document).unbind("mousemove.miniColors")},f=function(a){a.attr("disabled",!1),a.data("trigger").css("opacity",1)},g=function(a){j(a),a.attr("disabled",!0),a.data("trigger").css("opacity",.5)},i=function(b){if(b.attr("disabled"))return!1;j();var c=a('<div class="miniColors-selector"></div>');c.append('<div class="miniColors-colors" style="background-color: #FFF;"><div class="miniColors-colorPicker"></div></div>'),c.append('<div class="miniColors-hues"><div class="miniColors-huePicker"></div></div>'),c.css({top:b.is(":visible")?b.offset().top+b.outerHeight():b.data("trigger").offset().top+b.data("trigger").outerHeight(),left:b.is(":visible")?b.offset().left:b.data("trigger").offset().left,display:"none"}).addClass(b.attr("class"));var d=b.data("hsb");c.find(".miniColors-colors").css("backgroundColor","#"+w({h:d.h,s:100,b:100}));var e=b.data("colorPosition");e||(e=o(d)),c.find(".miniColors-colorPicker").css("top",e.y+"px").css("left",e.x+"px");var f=b.data("huePosition");f||(f=p(d)),c.find(".miniColors-huePicker").css("top",f.y+"px"),b.data("selector",c),b.data("huePicker",c.find(".miniColors-huePicker")),b.data("colorPicker",c.find(".miniColors-colorPicker")),b.data("mousebutton",0),b.addClass("active"),a("BODY").append(c),c.fadeIn(100),a(document).bind("mousedown.miniColors",function(c){b.data("mousebutton",1),a(c.target).parents().andSelf().hasClass("miniColors-colors")&&(c.preventDefault(),b.data("moving","colors"),k(b,c)),a(c.target).parents().andSelf().hasClass("miniColors-hues")&&(c.preventDefault(),b.data("moving","hues"),l(b,c)),a(c.target).parents().andSelf().hasClass("miniColors-selector")||a(c.target).parents().andSelf().hasClass("miniColors")||j(b)}),a(document).bind("mouseup.miniColors",function(a){b.data("mousebutton",0),b.removeData("moving")}),a(document).bind("mousemove.miniColors",function(a){1===b.data("mousebutton")&&("colors"===b.data("moving")&&k(b,a),"hues"===b.data("moving")&&l(b,a))})},j=function(b){b||(b=".miniColors"),a(b).each(function(){var b=a(this).data("selector");a(this).removeData("selector"),a(this).removeClass("active"),a(b).fadeOut(100,function(){a(this).remove()})}),a(document).unbind("mousedown.miniColors"),a(document).unbind("mousemove.miniColors")},k=function(b,c){var d=b.data("colorPicker");d.hide();var e={x:c.clientX-b.data("selector").find(".miniColors-colors").offset().left+a(document).scrollLeft()-5,y:c.clientY-b.data("selector").find(".miniColors-colors").offset().top+a(document).scrollTop()-5};e.x<=-5&&(e.x=-5),e.x>=144&&(e.x=144),e.y<=-5&&(e.y=-5),e.y>=144&&(e.y=144),b.data("colorPosition",e),d.css("left",e.x).css("top",e.y).show();var f=Math.round(.67*(e.x+5));0>f&&(f=0),f>100&&(f=100);var g=100-Math.round(.67*(e.y+5));0>g&&(g=0),g>100&&(g=100);var h=b.data("hsb");h.s=f,h.b=g,m(b,h,!0)},l=function(b,c){var d=b.data("huePicker");d.hide();var e={y:c.clientY-b.data("selector").find(".miniColors-colors").offset().top+a(document).scrollTop()-1};e.y<=-1&&(e.y=-1),e.y>=149&&(e.y=149),b.data("huePosition",e),d.css("top",e.y).show();var f=Math.round(2.4*(150-e.y-1));0>f&&(f=0),f>360&&(f=360);var g=b.data("hsb");g.h=f,m(b,g,!0)},m=function(a,b,c){a.data("hsb",b);var d=w(b);c&&a.val("#"+d),a.data("trigger").css("backgroundColor","#"+d),a.data("selector")&&a.data("selector").find(".miniColors-colors").css("backgroundColor","#"+w({h:b.h,s:100,b:100})),a.data("change")&&a.data("change").call(a,"#"+d,r(b))},n=function(b){var c=q(b.val());if(!c)return!1;var d=v(c),e=b.data("hsb");if(d.h===e.h&&d.s===e.s&&d.b===e.b)return!0;var f=o(d),g=a(b.data("colorPicker"));g.css("top",f.y+"px").css("left",f.x+"px");var h=p(d),i=a(b.data("huePicker"));return i.css("top",h.y+"px"),m(b,d,!1),!0},o=function(a){var b=Math.ceil(a.s/.67);0>b&&(b=0),b>150&&(b=150);var c=150-Math.ceil(a.b/.67);return 0>c&&(c=0),c>150&&(c=150),{x:b-5,y:c-5}},p=function(a){var b=150-a.h/2.4;return 0>b&&(h=0),b>150&&(h=150),{y:b-1}},q=function(a){return a=a.replace(/[^A-Fa-f0-9]/,""),3==a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),6===a.length?a:null},r=function(a){var b={},c=Math.round(a.h),d=Math.round(255*a.s/100),e=Math.round(255*a.b/100);if(0==d)b.r=b.g=b.b=e;else{var f=e,g=(255-d)*e/255,h=(f-g)*(c%60)/60;360==c&&(c=0),60>c?(b.r=f,b.b=g,b.g=g+h):120>c?(b.g=f,b.b=g,b.r=f-h):180>c?(b.g=f,b.r=g,b.b=g+h):240>c?(b.b=f,b.r=g,b.g=f-h):300>c?(b.b=f,b.g=g,b.r=g+h):360>c?(b.r=f,b.g=g,b.b=f-h):(b.r=0,b.g=0,b.b=0)}return{r:Math.round(b.r),g:Math.round(b.g),b:Math.round(b.b)}},s=function(b){var c=[b.r.toString(16),b.g.toString(16),b.b.toString(16)];return a.each(c,function(a,b){1==b.length&&(c[a]="0"+b)}),c.join("")},t=function(a){var a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16);return{r:a>>16,g:(65280&a)>>8,b:255&a}},u=function(a){var b={h:0,s:0,b:0},c=Math.min(a.r,a.g,a.b),d=Math.max(a.r,a.g,a.b),e=d-c;return b.b=d,b.s=0!=d?255*e/d:0,0!=b.s?a.r==d?b.h=(a.g-a.b)/e:a.g==d?b.h=2+(a.b-a.r)/e:b.h=4+(a.r-a.g)/e:b.h=-1,b.h*=60,b.h<0&&(b.h+=360),b.s*=100/255,b.b*=100/255,b},v=function(a){var b=u(t(a));return 0===b.s&&(b.h=360),b},w=function(a){return s(r(a))};switch(b){case"readonly":return a(this).each(function(){a(this).attr("readonly",c)}),a(this);case"disabled":return a(this).each(function(){c?g(a(this)):f(a(this))}),a(this);case"value":return a(this).each(function(){a(this).val(c).trigger("keyup")}),a(this);case"destroy":return a(this).each(function(){e(a(this))}),a(this);default:return b||(b={}),a(this).each(function(){"input"===a(this)[0].tagName.toLowerCase()&&(a(this).data("trigger")||d(a(this),b,c))}),a(this)}}})}(jQuery),/**
* hoverIntent is similar to jQuery's built-in "hover" function except that
* instead of firing the onMouseOver event immediately, hoverIntent checks
* to see if the user's mouse has slowed down (beneath the sensitivity
* threshold) before firing the onMouseOver event.
* 
* hoverIntent r6 // 2011.02.26 // jQuery 1.5.1+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* 
* hoverIntent is currently available for use in all personal or commercial 
* projects under both MIT and GPL licenses. This means that you can choose 
* the license that best suits your project, and use it accordingly.
* 
* // basic usage (just like .hover) receives onMouseOver and onMouseOut functions
* $("ul li").hoverIntent( showNav , hideNav );
* 
* // advanced usage receives configuration object only
* $("ul li").hoverIntent({
*	sensitivity: 7, // number = sensitivity threshold (must be 1 or higher)
*	interval: 100,   // number = milliseconds of polling interval
*	over: showNav,  // function = onMouseOver callback (required)
*	timeout: 0,   // number = milliseconds delay before onMouseOut function call
*	out: hideNav    // function = onMouseOut callback (required)
* });
* 
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne brian(at)cherne(dot)net
*/
function(a){a.fn.hoverIntent=function(b,c){var d={sensitivity:7,interval:100,timeout:0};d=a.extend(d,c?{over:b,out:c}:b);var e,f,g,h,i=function(a){e=a.pageX,f=a.pageY},j=function(b,c){return c.hoverIntent_t=clearTimeout(c.hoverIntent_t),Math.abs(g-e)+Math.abs(h-f)<d.sensitivity?(a(c).unbind("mousemove",i),c.hoverIntent_s=1,d.over.apply(c,[b])):(g=e,h=f,c.hoverIntent_t=setTimeout(function(){j(b,c)},d.interval),void 0)},k=function(a,b){return b.hoverIntent_t=clearTimeout(b.hoverIntent_t),b.hoverIntent_s=0,d.out.apply(b,[a])},l=function(b){var c=jQuery.extend({},b),e=this;e.hoverIntent_t&&(e.hoverIntent_t=clearTimeout(e.hoverIntent_t)),"mouseenter"==b.type?(g=c.pageX,h=c.pageY,a(e).bind("mousemove",i),1!=e.hoverIntent_s&&(e.hoverIntent_t=setTimeout(function(){j(c,e)},d.interval))):(a(e).unbind("mousemove",i),1==e.hoverIntent_s&&(e.hoverIntent_t=setTimeout(function(){k(c,e)},d.timeout)))};return this.bind("mouseenter",l).bind("mouseleave",l)}}(jQuery),/*
 * A time picker for jQuery
 *
 * Dual licensed under the MIT and GPL licenses.
 * Copyright (c) 2009 Anders Fajerson
 * @name     timePicker
 * @author   Anders Fajerson (http://perifer.se)
 * @example  $("#mytime").timePicker();
 * @example  $("#mytime").timePicker({step:30, startTime:"15:00", endTime:"18:00"});
 *
 * Based on timePicker by Sam Collet (http://www.texotela.co.uk/code/jquery/timepicker/)
 *
 * Options:
 *   step: # of minutes to step the time by
 *   startTime: beginning of the range of acceptable times
 *   endTime: end of the range of acceptable times
 *   separator: separator string to use between hours and minutes (e.g. ':')
 *   show24Hours: use a 24-hour scheme
 */
function(a){function b(b,c,d,e){b.value=a(c).text(),a(b).change(),a.browser.msie||b.focus(),d.hide()}function c(a,b){var c=a.getHours(),e=b.show24Hours?c:(c+11)%12+1,f=a.getMinutes();return d(e)+b.separator+d(f)+(b.show24Hours?"":12>c?" AM":" PM")}function d(a){return(10>a?"0":"")+a}function e(a,b){return"object"==typeof a?g(a):f(a,b)}function f(a,b){if(a){var c=a.split(b.separator),d=parseFloat(c[0]),e=parseFloat(c[1]);b.show24Hours||(12===d&&-1!==a.indexOf("AM")?d=0:12!==d&&-1!==a.indexOf("PM")&&(d+=12));var f=new Date(0,0,0,d,e,0);return g(f)}return null}function g(a){return a.setFullYear(2001),a.setMonth(0),a.setDate(0),a}a.fn.timePicker=function(b){var c=a.extend({},a.fn.timePicker.defaults,b);return this.each(function(){a.timePicker(this,c)})},a.timePicker=function(b,c){var d=a(b)[0];return d.timePicker||(d.timePicker=new jQuery._timePicker(d,c))},a.timePicker.version="0.3",a._timePicker=function(d,h){var i=!1,j=!1,k=e(h.startTime,h),l=e(h.endTime,h),m="selected",n="li."+m;a(d).attr("autocomplete","OFF");for(var o=[],p=new Date(k);l>=p;)o[o.length]=c(p,h),p=new Date(p.setMinutes(p.getMinutes()+h.step));for(var q=a('<div class="time-picker'+(h.show24Hours?"":" time-picker-12hours")+'"></div>'),r=a("<ul></ul>"),s=0;s<o.length;s++)r.append("<li>"+o[s]+"</li>");q.append(r),q.appendTo("body").hide(),q.mouseover(function(){i=!0}).mouseout(function(){i=!1}),a("li",r).mouseover(function(){j||(a(n,q).removeClass(m),a(this).addClass(m))}).mousedown(function(){i=!0}).click(function(){b(d,this,q,h),i=!1});var t=function(){if(q.is(":visible"))return!1;a("li",q).removeClass(m);var b=a(d).offset();q.css({top:b.top+d.offsetHeight,left:b.left}),q.show();var e=d.value?f(d.value,h):k,i=60*k.getHours()+k.getMinutes(),j=60*e.getHours()+e.getMinutes()-i,n=Math.round(j/h.step),o=g(new Date(0,0,0,0,n*h.step+i,0));o=o>k&&l>=o?o:k;var p=a("li:contains("+c(o,h)+")",q);return p.length&&(p.addClass(m),q[0].scrollTop=p[0].offsetTop),!0};a(d).focus(t).click(t),a(d).blur(function(){i||q.hide()});var u=a.browser.opera||a.browser.mozilla?"keypress":"keydown";a(d)[u](function(c){var e;j=!0;var f=q[0].scrollTop;switch(c.keyCode){case 38:if(t())return!1;e=a(n,r);var g=e.prev().addClass(m)[0];return g?(e.removeClass(m),g.offsetTop<f&&(q[0].scrollTop=f-g.offsetHeight)):(e.removeClass(m),g=a("li:last",r).addClass(m)[0],q[0].scrollTop=g.offsetTop-g.offsetHeight),!1;case 40:if(t())return!1;e=a(n,r);var i=e.next().addClass(m)[0];return i?(e.removeClass(m),i.offsetTop+i.offsetHeight>f+q[0].offsetHeight&&(q[0].scrollTop=f+i.offsetHeight)):(e.removeClass(m),i=a("li:first",r).addClass(m)[0],q[0].scrollTop=0),!1;case 13:if(q.is(":visible")){var k=a(n,r)[0];b(d,k,q,h)}return!1;case 27:return q.hide(),!1}return!0}),a(d).keyup(function(a){j=!1}),this.getTime=function(){return f(d.value,h)},this.setTime=function(b){d.value=c(e(b,h),h),a(d).change()}},a.fn.timePicker.defaults={step:30,startTime:new Date(0,0,0,0,0,0),endTime:new Date(0,0,0,23,30,0),separator:":",show24Hours:!0}}(jQuery),/*
* Slides, A Slideshow Plugin for jQuery
* Intructions: http://slidesjs.com
* By: Nathan Searles, http://nathansearles.com
* Version: 1.1.9
* Updated: September 5th, 2011
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function(a){a.fn.slides=function(b){return b=a.extend({},a.fn.slides.option,b),this.each(function(){function c(c,d,e){if(!s&&r){switch(s=!0,b.animationStart(q+1),c){case"next":o=q,n=q+1,n=h===n?0:n,u=2*i,c=2*-i,q=n;break;case"prev":o=q,n=q-1,n=-1===n?h-1:n,u=0,c=0,q=n;break;case"pagination":n=parseInt(e,10),o=a("."+b.paginationClass+" li."+b.currentClass+" a",f).attr("href").match("[^#/]+$"),n>o?(u=2*i,c=2*-i):(u=0,c=0),q=n}"fade"===d?b.crossfade?g.children(":eq("+n+")",f).css({zIndex:10}).fadeIn(b.fadeSpeed,b.fadeEasing,function(){b.autoHeight?g.animate({height:g.children(":eq("+n+")",f).outerHeight()},b.autoHeightSpeed,function(){g.children(":eq("+o+")",f).css({display:"none",zIndex:0}),g.children(":eq("+n+")",f).css({zIndex:0}),b.animationComplete(n+1),s=!1}):(g.children(":eq("+o+")",f).css({display:"none",zIndex:0}),g.children(":eq("+n+")",f).css({zIndex:0}),b.animationComplete(n+1),s=!1)}):g.children(":eq("+o+")",f).fadeOut(b.fadeSpeed,b.fadeEasing,function(){b.autoHeight?g.animate({height:g.children(":eq("+n+")",f).outerHeight()},b.autoHeightSpeed,function(){g.children(":eq("+n+")",f).fadeIn(b.fadeSpeed,b.fadeEasing)}):g.children(":eq("+n+")",f).fadeIn(b.fadeSpeed,b.fadeEasing,function(){a.browser.msie&&a(this).get(0).style.removeAttribute("filter")}),b.animationComplete(n+1),s=!1}):(g.children(":eq("+n+")").css({left:u,display:"block"}),b.autoHeight?g.animate({left:c,height:g.children(":eq("+n+")").outerHeight()},b.slideSpeed,b.slideEasing,function(){g.css({left:-i}),g.children(":eq("+n+")").css({left:i,zIndex:5}),g.children(":eq("+o+")").css({left:i,display:"none",zIndex:0}),b.animationComplete(n+1),s=!1}):g.animate({left:c},b.slideSpeed,b.slideEasing,function(){g.css({left:-i}),g.children(":eq("+n+")").css({left:i,zIndex:5}),g.children(":eq("+o+")").css({left:i,display:"none",zIndex:0}),b.animationComplete(n+1),s=!1})),b.pagination&&(a("."+b.paginationClass+" li."+b.currentClass,f).removeClass(b.currentClass),a("."+b.paginationClass+" li:eq("+n+")",f).addClass(b.currentClass))}}function d(){clearInterval(f.data("interval"))}function e(){b.pause?(clearTimeout(f.data("pause")),clearInterval(f.data("interval")),x=setTimeout(function(){clearTimeout(f.data("pause")),y=setInterval(function(){c("next",l)},b.play),f.data("interval",y)},b.pause),f.data("pause",x)):d()}a("."+b.container,a(this)).children().wrapAll('<div class="slides_control"/>');var f=a(this),g=a(".slides_control",f),h=g.children().size(),i=g.children().outerWidth(),j=g.children().outerHeight(),k=b.start-1,l=b.effect.indexOf(",")<0?b.effect:b.effect.replace(" ","").split(",")[0],m=b.effect.indexOf(",")<0?l:b.effect.replace(" ","").split(",")[1],n=0,o=0,p=0,q=0,r,s,t,u,v,w,x,y;if(2>h)return a("."+b.container,a(this)).fadeIn(b.fadeSpeed,b.fadeEasing,function(){r=!0,b.slidesLoaded()}),a("."+b.next+", ."+b.prev).fadeOut(0),!1;if(!(2>h)){if(0>k&&(k=0),k>h&&(k=h-1),b.start&&(q=k),b.randomize&&g.randomize(),a("."+b.container,f).css({overflow:"hidden",position:"relative"}),g.children().css({position:"absolute",top:0,left:g.children().outerWidth(),zIndex:0,display:"none"}),g.css({position:"relative",width:3*i,height:j,left:-i}),a("."+b.container,f).css({display:"block"}),b.autoHeight&&(g.children().css({height:"auto"}),g.animate({height:g.children(":eq("+k+")").outerHeight()},b.autoHeightSpeed)),b.preload&&g.find("img:eq("+k+")").length){a("."+b.container,f).css({background:"url("+b.preloadImage+") no-repeat 50% 50%"});var z=g.find("img:eq("+k+")").attr("src");w="slides_control"!=a("img",f).parent().attr("class")?g.children(":eq(0)")[0].tagName.toLowerCase():g.find("img:eq("+k+")"),g.find("img:eq("+k+")").attr("src",z).load(function(){g.find(w+":eq("+k+")").fadeIn(b.fadeSpeed,b.fadeEasing,function(){a(this).css({zIndex:5}),a("."+b.container,f).css({background:""}),r=!0,b.slidesLoaded()})})}else g.children(":eq("+k+")").fadeIn(b.fadeSpeed,b.fadeEasing,function(){r=!0,b.slidesLoaded()});b.bigTarget&&(g.children().css({cursor:"pointer"}),g.children().click(function(){return c("next",l),!1})),b.hoverPause&&b.play&&(g.bind("mouseover",function(){d()}),g.bind("mouseleave",function(){e()})),b.generateNextPrev&&(a("."+b.container,f).after('<a href="#" class="'+b.prev+'">Prev</a>'),a("."+b.prev,f).after('<a href="#" class="'+b.next+'">Next</a>')),a("."+b.next,f).click(function(a){a.preventDefault(),b.play&&e(),c("next",l)}),a("."+b.prev,f).click(function(a){a.preventDefault(),b.play&&e(),c("prev",l)}),b.generatePagination?(b.prependPagination?f.prepend("<ul class="+b.paginationClass+"></ul>"):f.append("<ul class="+b.paginationClass+"></ul>"),g.children().each(function(){a("."+b.paginationClass,f).append('<li><a href="#'+p+'">'+(p+1)+"</a></li>"),p++})):a("."+b.paginationClass+" li a",f).each(function(){a(this).attr("href","#"+p),p++}),a("."+b.paginationClass+" li:eq("+k+")",f).addClass(b.currentClass),a("."+b.paginationClass+" li a",f).click(function(){return b.play&&e(),t=a(this).attr("href").match("[^#/]+$"),q!=t&&c("pagination",m,t),!1}),a("a.link",f).click(function(){return b.play&&e(),t=a(this).attr("href").match("[^#/]+$")-1,q!=t&&c("pagination",m,t),!1}),b.play&&(y=setInterval(function(){c("next",l)},b.play),f.data("interval",y))}})},a.fn.slides.option={preload:!1,preloadImage:"/img/loading.gif",container:"slides_container",generateNextPrev:!1,next:"next",prev:"prev",pagination:!0,generatePagination:!0,prependPagination:!1,paginationClass:"pagination",currentClass:"current",fadeSpeed:350,fadeEasing:"",slideSpeed:350,slideEasing:"",start:1,effect:"slide",crossfade:!1,randomize:!1,play:0,pause:0,hoverPause:!1,autoHeight:!1,autoHeightSpeed:350,bigTarget:!1,animationStart:function(){},animationComplete:function(){},slidesLoaded:function(){}},a.fn.randomize=function(b){function c(){return Math.round(Math.random())-.5}return a(this).each(function(){var d=a(this),e=d.children(),f=e.length;if(f>1){e.hide();var g=[];for(i=0;i<f;i++)g[g.length]=i;g=g.sort(c),a.each(g,function(a,c){var f=e.eq(c),g=f.clone(!0);g.show().appendTo(d),void 0!==b&&b(f,g),f.remove()})}})}}(jQuery),/*!
 * jQuery UI 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
function(a,b){function c(b){return!a(b).parents().andSelf().filter(function(){return"hidden"===a.curCSS(this,"visibility")||a.expr.filters.hidden(this)}).length}function d(b,d){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;return b.href&&g&&"map"===f.nodeName.toLowerCase()?(h=a("img[usemap=#"+g+"]")[0],!!h&&c(h)):!1}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||d:d)&&c(b)}a.ui=a.ui||{},a.ui.version||(a.extend(a.ui,{version:"1.8.18",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return"number"==typeof b?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return b=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d=a(this[0]),e,f;d.length&&d[0]!==document;){if(e=d.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(f=parseInt(d.css("zIndex"),10),!isNaN(f)&&0!==f))return f;d=d.parent()}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),e&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),e=isNaN(c);return(e||c>=0)&&d(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=100===c.offsetHeight,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(d&&a.element[0].parentNode)for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?16&a.compareDocumentPosition(b):a!==b&&a.contains(b)},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&b+c>a},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}}))}(jQuery),/*!
 * jQuery UI Widget 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;null!=(e=b[d]);d++)try{a(e).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f="string"==typeof e,g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&"_"===e.charAt(0)?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;return f!==d&&f!==b?(h=f,!1):void 0}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(0===arguments.length)return a.extend({},this.options);if("string"==typeof c){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent,f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),/*!
 * jQuery UI Mouse 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(a,b){var c=!1;a(document).mouseup(function(a){c=!1}),a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){if(!c){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=1==b.which,f="string"==typeof this.options.cancel&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(b)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(b){return!a.browser.msie||document.documentMode>=9||b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})}(jQuery),/*
 * jQuery UI Position 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Position
 */
function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e="center",f={},g=a.fn.position,h=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return g.apply(this,arguments);b=a.extend({},b);var h=a(b.of),i=h[0],j=(b.collision||"flip").split(" "),k=b.offset?b.offset.split(" "):[0,0],l,m,n;return 9===i.nodeType?(l=h.width(),m=h.height(),n={top:0,left:0}):i.setTimeout?(l=h.width(),m=h.height(),n={top:h.scrollTop(),left:h.scrollLeft()}):i.preventDefault?(b.at="left top",l=m=0,n={top:b.of.pageY,left:b.of.pageX}):(l=h.outerWidth(),m=h.outerHeight(),n=h.offset()),a.each(["my","at"],function(){var a=(b[this]||"").split(" ");1===a.length&&(a=c.test(a[0])?a.concat([e]):d.test(a[0])?[e].concat(a):[e,e]),a[0]=c.test(a[0])?a[0]:e,a[1]=d.test(a[1])?a[1]:e,b[this]=a}),1===j.length&&(j[1]=j[0]),k[0]=parseInt(k[0],10)||0,1===k.length&&(k[1]=k[0]),k[1]=parseInt(k[1],10)||0,"right"===b.at[0]?n.left+=l:b.at[0]===e&&(n.left+=l/2),"bottom"===b.at[1]?n.top+=m:b.at[1]===e&&(n.top+=m/2),n.left+=k[0],n.top+=k[1],this.each(function(){var c=a(this),d=c.outerWidth(),g=c.outerHeight(),h=parseInt(a.curCSS(this,"marginLeft",!0))||0,i=parseInt(a.curCSS(this,"marginTop",!0))||0,o=d+h+(parseInt(a.curCSS(this,"marginRight",!0))||0),p=g+i+(parseInt(a.curCSS(this,"marginBottom",!0))||0),q=a.extend({},n),r;"right"===b.my[0]?q.left-=d:b.my[0]===e&&(q.left-=d/2),"bottom"===b.my[1]?q.top-=g:b.my[1]===e&&(q.top-=g/2),f.fractions||(q.left=Math.round(q.left),q.top=Math.round(q.top)),r={left:q.left-h,top:q.top-i},a.each(["left","top"],function(c,e){a.ui.position[j[c]]&&a.ui.position[j[c]][e](q,{targetWidth:l,targetHeight:m,elemWidth:d,elemHeight:g,collisionPosition:r,collisionWidth:o,collisionHeight:p,offset:k,my:b.my,at:b.at})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(q,{using:b.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]!==e){var d=a(window),f=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),g="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,h="left"===c.at[0]?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0}},top:function(b,c){if(c.at[1]!==e){var d=a(window),f=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),g="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,h="top"===c.at[1]?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0,h={top:c.top-e.top+f,left:c.left-e.left+g};"using"in c?c.using.call(b,h):d.css(h)},a.fn.offset=function(b){var c=this[0];return c&&c.ownerDocument?b?this.each(function(){a.offset.setOffset(this,b)}):h.call(this):null}),function(){var b=document.getElementsByTagName("body")[0],c=document.createElement("div"),d,e,g,h,i;d=document.createElement(b?"div":"body"),g={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},b&&a.extend(g,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in g)d.style[j]=g[j];d.appendChild(c),e=b||document.documentElement,e.insertBefore(d,e.firstChild),c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",h=a(c).offset(function(a,b){return b}).offset(),d.innerHTML="",e.removeChild(d),i=h.top+h.left+(b?2e3:0),f.fractions=i>21&&22>i}()}(jQuery),/*
 * jQuery UI Draggable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){return this.element.data("draggable")?(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this):void 0},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(c.iframeFix&&a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;if(a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1),!(this.element[0]&&this.element[0].parentNode||"original"!=this.options.helper))return!1;if("invalid"==this.options.revert&&!c||"valid"==this.options.revert&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",b)!==!1&&d._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){return this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"==c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"==c.appendTo?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.browser.msie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if("parent"==b.containment&&(b.containment=this.helper[0].parentNode),"document"!=b.containment&&"window"!=b.containment||(this.containment=["document"==b.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==b.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==b.containment?0:a(window).scrollLeft())+a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==b.containment?0:a(window).scrollTop())+(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(b.containment)||b.containment.constructor==Array)b.containment.constructor==Array&&(this.containment=b.containment);else{var c=a(b.containment),d=c[0];if(!d)return;var e=c.offset(),f="hidden"!=a(d).css("overflow");this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"==b?1:-1,e=this.options,f="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;g=h&&(j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3])?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j;var k=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;f=h&&(k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2])?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"==b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:"1.8.18"}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"==d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this,f=function(b){var c=this.offset.click.top,d=this.offset.click.left,e=this.positionAbs.top,f=this.positionAbs.left,g=b.height,h=b.width,i=b.top,j=b.left;return a.ui.isOver(e+c,f+d,i,j,g,h)};a.each(d.sortables,function(f){this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c){var d=a("body"),e=a(this).data("draggable").options;d.css("cursor")&&(e._cursor=d.css("cursor")),d.css("cursor",e.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(b,c){var d=a(this).data("draggable");d.scrollParent[0]!=document&&"HTML"!=d.scrollParent[0].tagName&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=!1;d.scrollParent[0]!=document&&"HTML"!=d.scrollParent[0].tagName?(e.axis&&"x"==e.axis||(d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed)),e.axis&&"y"==e.axis||(d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed))):(e.axis&&"x"==e.axis||(b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed))),e.axis&&"y"==e.axis||(b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed)))),f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c){var d=a(this).data("draggable"),e=d.options;d.snapElements=[],a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){for(var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height,k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(g>l-f&&m+f>g&&i>n-f&&o+f>i||g>l-f&&m+f>g&&j>n-f&&o+f>j||h>l-f&&m+f>h&&i>n-f&&o+f>i||h>l-f&&m+f>h&&j>n-f&&o+f>j){if("inner"!=e.snapMode){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if("outer"!=e.snapMode){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}else d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1}}}),a.ui.plugin.add("draggable","stack",{start:function(b,c){var d=a(this).data("draggable").options,e=a.makeArray(a(d.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(e.length){var f=parseInt(e[0].style.zIndex)||0;a(e).each(function(a){this.style.zIndex=f+a}),this[0].style.zIndex=f+e.length}}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),/*
 * jQuery UI Droppable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Droppables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.mouse.js
 *	jquery.ui.draggable.js
 */
function(a,b){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(b,c){"accept"==b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var e=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");return b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:"1.8.18"}),a.ui.intersect=function(b,c,d){if(!c.offset)return!1;var e=(b.positionAbs||b.position.absolute).left,f=e+b.helperProportions.width,g=(b.positionAbs||b.position.absolute).top,h=g+b.helperProportions.height,i=c.offset.left,j=i+c.proportions.width,k=c.offset.top,l=k+c.proportions.height;switch(d){case"fit":return e>=i&&j>=f&&g>=k&&l>=h;case"intersect":return i<e+b.helperProportions.width/2&&f-b.helperProportions.width/2<j&&k<g+b.helperProportions.height/2&&h-b.helperProportions.height/2<l;case"pointer":var m=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,n=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,o=a.ui.isOver(n,m,k,i,c.proportions.height,c.proportions.width);return o;case"touch":return(g>=k&&l>=g||h>=k&&l>=h||k>g&&h>l)&&(e>=i&&j>=e||f>=i&&j>=f||i>e&&f>j);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,f=(b.currentItem||b.element).find(":data(droppable)").andSelf();a:for(var g=0;g<d.length;g++)if(!(d[g].options.disabled||b&&!d[g].accept.call(d[g].element[0],b.currentItem||b.element))){for(var h=0;h<f.length;h++)if(f[h]==d[g].element[0]){d[g].proportions.height=0;continue a}d[g].visible="none"!=d[g].element.css("display"),d[g].visible&&("mousedown"==e&&d[g]._activate.call(d[g],c),d[g].offset=d[g].element.offset(),d[g].proportions={width:d[g].element[0].offsetWidth,height:d[g].element[0].offsetHeight})}},drop:function(b,c){var d=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){!this.options||(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parents(":not(body,html)").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d=a.ui.intersect(b,this,this.options.tolerance),e=d||1!=this.isover?d&&0==this.isover?"isover":null:"isout";if(!e)return;var f;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");g.length&&(f=a.data(g[0],"droppable"),f.greedyChild="isover"==e?1:0)}f&&"isover"==e&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this["isout"==e?"isover":"isout"]=0,this["isover"==e?"_over":"_out"].call(this,c),f&&"isout"==e&&(f.isout=0,f.isover=1,f._over.call(f,c))}})},dragStop:function(b,c){b.element.parents(":not(body,html)").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),/*
 * jQuery UI Resizable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Resizables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(a,b){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var b=this,c=this.options;if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var d=this.handles.split(",");this.handles={};for(var e=0;e<d.length;e++){var f=a.trim(d[e]),g="ui-resizable-"+f,h=a('<div class="ui-resizable-handle '+g+'"></div>');/sw|se|ne|nw/.test(f)&&h.css({zIndex:++c.zIndex}),"se"==f&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){if(this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),e=0;e=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth();var f=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");b.css(f,e),this._proportionallyResize()}a(this.handles[c]).length}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").hover(function(){c.disabled||(a(this).removeClass("ui-resizable-autohide"),b._handles.show())},function(){c.disabled||b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(b){var c=!1;for(var d in this.handles)a(this.handles[d])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(b){var d=this.options,e=this.element.position(),f=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(f.is(".ui-draggable")||/absolute/.test(f.css("position")))&&f.css({position:"absolute",top:e.top,left:e.left}),this._renderProxy();var g=c(this.helper.css("left")),h=c(this.helper.css("top"));d.containment&&(g+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:h},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:h},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio="number"==typeof d.aspectRatio?d.aspectRatio:this.originalSize.width/this.originalSize.height||1;var i=a(".ui-resizable-"+this.axis).css("cursor");return a("body").css("cursor","auto"==i?this.axis+"-resize":i),f.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var c=this.helper,d=this.options,e={},f=this,g=this.originalMousePosition,h=this.axis,i=b.pageX-g.left||0,j=b.pageY-g.top||0,k=this._change[h];if(!k)return!1;var l=k.apply(this,[b,i,j]),m=a.browser.msie&&a.browser.version<7,n=this.sizeDiff;return this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(l=this._updateRatio(l,b)),l=this._respectSize(l,b),this._propagate("resize",b),c.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",b,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var e=this._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:d.sizeDiff.height,h=f?0:d.sizeDiff.width,i={width:d.helper.width()-h,height:d.helper.height()-g},j=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,k=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(i,{top:k,left:j})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}return a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b=this.options,c,e,f,g,h;h={minWidth:d(b.minWidth)?b.minWidth:0,maxWidth:d(b.maxWidth)?b.maxWidth:1/0,minHeight:d(b.minHeight)?b.minHeight:0,maxHeight:d(b.maxHeight)?b.maxHeight:1/0},(this._aspectRatio||a)&&(c=h.minHeight*this.aspectRatio,f=h.minWidth/this.aspectRatio,e=h.maxHeight*this.aspectRatio,g=h.maxWidth/this.aspectRatio,c>h.minWidth&&(h.minWidth=c),f>h.minHeight&&(h.minHeight=f),e<h.maxWidth&&(h.maxWidth=e),g<h.maxHeight&&(h.maxHeight=g)),this._vBoundaries=h},_updateCache:function(a){var b=this.options;this.offset=this.helper.offset(),d(a.left)&&(this.position.left=a.left),d(a.top)&&(this.position.top=a.top),d(a.height)&&(this.size.height=a.height),d(a.width)&&(this.size.width=a.width)},_updateRatio:function(a,b){var c=this.options,e=this.position,f=this.size,g=this.axis;return d(a.height)?a.width=a.height*this.aspectRatio:d(a.width)&&(a.height=a.width/this.aspectRatio),"sw"==g&&(a.left=e.left+(f.width-a.width),a.top=null),"nw"==g&&(a.top=e.top+(f.height-a.height),a.left=e.left+(f.width-a.width)),a},_respectSize:function(a,b){var c=this.helper,e=this._vBoundaries,f=this._aspectRatio||b.shiftKey,g=this.axis,h=d(a.width)&&e.maxWidth&&e.maxWidth<a.width,i=d(a.height)&&e.maxHeight&&e.maxHeight<a.height,j=d(a.width)&&e.minWidth&&e.minWidth>a.width,k=d(a.height)&&e.minHeight&&e.minHeight>a.height;j&&(a.width=e.minWidth),k&&(a.height=e.minHeight),h&&(a.width=e.maxWidth),i&&(a.height=e.maxHeight);var l=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,n=/sw|nw|w/.test(g),o=/nw|ne|n/.test(g);j&&n&&(a.left=l-e.minWidth),h&&n&&(a.left=l-e.maxWidth),k&&o&&(a.top=m-e.minHeight),i&&o&&(a.top=m-e.maxHeight);var p=!a.width&&!a.height;return p&&!a.left&&a.top?a.top=null:p&&!a.top&&a.left&&(a.left=null),a},_proportionallyResize:function(){var b=this.options;if(this._proportionallyResizeElements.length)for(var c=this.helper||this.element,d=0;d<this._proportionallyResizeElements.length;d++){var e=this._proportionallyResizeElements[d];if(!this.borderDif){var f=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],g=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];this.borderDif=a.map(f,function(a,b){var c=parseInt(a,10)||0,d=parseInt(g[b],10)||0;return c+d})}a.browser.msie&&(a(c).is(":hidden")||a(c).parents(":hidden").length)||e.css({height:c.height()-this.borderDif[0]-this.borderDif[2]||0,width:c.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.element,c=this.options;if(this.elementOffset=b.offset(),this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var d=a.browser.msie&&a.browser.version<7,e=d?1:0,f=d?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+f,height:this.element.outerHeight()+f,position:"absolute",left:this.elementOffset.left-e+"px",top:this.elementOffset.top-e+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b,c){return{width:this.originalSize.width+b}},w:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{left:f.left+b,width:e.width-b}},n:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{top:f.top+c,height:e.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!=b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.extend(a.ui.resizable,{version:"1.8.18"}),a.ui.plugin.add("resizable","alsoResize",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?f(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],f(e.alsoResize)):a.each(e.alsoResize,function(a){f(a)})},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data("resizable-alsoresize"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?i(e.alsoResize):a.each(e.alsoResize,function(a,b){i(a,b)})},stop:function(b,c){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName),h=g&&a.ui.hasScroll(f[0],"left")?0:d.sizeDiff.height,i=g?0:d.sizeDiff.width,j={width:d.size.width-i,height:d.size.height-h},k=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(a.extend(j,l&&k?{top:l,left:k}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var c={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),10)};f&&f.length&&a(f[0]).css({width:c.width,height:c.height}),d._updateCache(c),d._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(b,d){var e=a(this).data("resizable"),f=e.options,g=e.element,h=f.containment,i=h instanceof a?h.get(0):/parent/.test(h)?g.parent().get(0):h;if(i)if(e.containerElement=a(i),/document/.test(h)||h==document)e.containerOffset={left:0,top:0},e.containerPosition={left:0,top:0},e.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var j=a(i),k=[];a(["Top","Right","Left","Bottom"]).each(function(a,b){k[a]=c(j.css("padding"+b))}),e.containerOffset=j.offset(),e.containerPosition=j.position(),e.containerSize={height:j.innerHeight()-k[3],width:j.innerWidth()-k[1]};var l=e.containerOffset,m=e.containerSize.height,n=e.containerSize.width,o=a.ui.hasScroll(i,"left")?i.scrollWidth:n,p=a.ui.hasScroll(i)?i.scrollHeight:m;e.parentData={element:i,left:l.left,top:l.top,width:o,height:p}}},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.containerSize,g=d.containerOffset,h=d.size,i=d.position,j=d._aspectRatio||b.shiftKey,k={top:0,left:0},l=d.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(k=g),i.left<(d._helper?g.left:0)&&(d.size.width=d.size.width+(d._helper?d.position.left-g.left:d.position.left-k.left),j&&(d.size.height=d.size.width/e.aspectRatio),d.position.left=e.helper?g.left:0),i.top<(d._helper?g.top:0)&&(d.size.height=d.size.height+(d._helper?d.position.top-g.top:d.position.top),j&&(d.size.width=d.size.height*e.aspectRatio),d.position.top=d._helper?g.top:0),d.offset.left=d.parentData.left+d.position.left,d.offset.top=d.parentData.top+d.position.top;var m=Math.abs((d._helper?d.offset.left-k.left:d.offset.left-k.left)+d.sizeDiff.width),n=Math.abs((d._helper?d.offset.top-k.top:d.offset.top-g.top)+d.sizeDiff.height),o=d.containerElement.get(0)==d.element.parent().get(0),p=/relative|absolute/.test(d.containerElement.css("position"));o&&p&&(m-=d.parentData.left),m+d.size.width>=d.parentData.width&&(d.size.width=d.parentData.width-m,j&&(d.size.height=d.size.width/d.aspectRatio)),n+d.size.height>=d.parentData.height&&(d.size.height=d.parentData.height-n,j&&(d.size.width=d.size.height*d.aspectRatio))},stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.position,g=d.containerOffset,h=d.containerPosition,i=d.containerElement,j=a(d.helper),k=j.offset(),l=j.outerWidth()-d.sizeDiff.width,m=j.outerHeight()-d.sizeDiff.height;d._helper&&!e.animate&&/relative/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m}),d._helper&&!e.animate&&/static/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m})}}),a.ui.plugin.add("resizable","ghost",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size;d.ghost=d.originalElement.clone(),d.ghost.css({opacity:.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof e.ghost?e.ghost:""),d.ghost.appendTo(d.helper)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size,g=d.originalSize,h=d.originalPosition,i=d.axis,j=e._aspectRatio||b.shiftKey;e.grid="number"==typeof e.grid?[e.grid,e.grid]:e.grid;var k=Math.round((f.width-g.width)/(e.grid[0]||1))*(e.grid[0]||1),l=Math.round((f.height-g.height)/(e.grid[1]||1))*(e.grid[1]||1);/^(se|s|e)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l):/^(ne)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l):/^(sw)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.left=h.left-k):(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l,d.position.left=h.left-k)}});var c=function(a){return parseInt(a,10)||0},d=function(a){return!isNaN(parseInt(a,10))}}(jQuery),/*
 * jQuery UI Selectable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Selectables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(a,b){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable"),this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]),c.addClass("ui-selectee"),c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(b){var c=this;if(this.opos=[b.pageX,b.pageY],!this.options.disabled){var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,!b.metaKey&&!b.ctrlKey&&(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var e=!b.metaKey&&!b.ctrlKey||!d.$element.hasClass("ui-selected");return d.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),d.unselecting=!e,d.selecting=e,d.selected=e,e?c._trigger("selecting",b,{selecting:d.element}):c._trigger("unselecting",b,{unselecting:d.element}),!1}})}},_mouseDrag:function(b){var c=this;if(this.dragged=!0,!this.options.disabled){var d=this.options,e=this.opos[0],f=this.opos[1],g=b.pageX,h=b.pageY;if(e>g){var i=g;g=e,e=i}if(f>h){var i=h;h=f,f=i}return this.helper.css({left:e,top:f,width:g-e,height:h-f}),this.selectees.each(function(){var i=a.data(this,"selectable-item");if(i&&i.element!=c.element[0]){var j=!1;"touch"==d.tolerance?j=!(i.left>g||i.right<e||i.top>h||i.bottom<f):"fit"==d.tolerance&&(j=i.left>e&&i.right<g&&i.top>f&&i.bottom<h),j?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,c._trigger("selecting",b,{selecting:i.element}))):(i.selecting&&((b.metaKey||b.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),c._trigger("unselecting",b,{unselecting:i.element}))),i.selected&&!b.metaKey&&!b.ctrlKey&&!i.startselected&&(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,c._trigger("unselecting",b,{unselecting:i.element})))}}),!1}},_mouseStop:function(b){var c=this;this.dragged=!1;var d=this.options;return a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}}),a.extend(a.ui.selectable,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Sortable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Sortables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(a,b){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){a.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--)this.items[b].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(b);var e=null,f=this,g=a(b.target).parents().each(function(){return a.data(this,d.widgetName+"-item")==f?(e=a(this),!1):void 0});if(a.data(b.target,d.widgetName+"-item")==f&&(e=a(b.target)),!e)return!1;if(this.options.handle&&!c){var h=!1;if(a(this.options.handle,e).find("*").andSelf().each(function(){this==b.target&&(h=!0)}),!h)return!1}return this.currentItem=e,this._removeCurrentsFromItems(),!0},_mouseStart:function(b,c,d){var e=this.options,f=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),e.containment&&this._setContainment(),e.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",e.cursor)),e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity)),e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(var g=this.containers.length-1;g>=0;g--)this.containers[g]._trigger("activate",b,f._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){if(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],g=f.item[0],h=this._intersectsWithPointer(f);if(h&&g!=this.currentItem[0]&&this.placeholder[1==h?"next":"prev"]()[0]!=g&&!a.ui.contains(this.placeholder[0],g)&&("semi-dynamic"==this.options.type?!a.ui.contains(this.element[0],g):!0)){if(this.direction=1==h?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(f))break;this._rearrange(b,f),this._trigger("change",b,this._uiHash());break}}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=d.placeholder.offset();d.reverting=!0,a(this.helper).animate({left:e.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){var b=this;if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("deactivate",null,b._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,b._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&i>d+j&&b+k>f&&g>b+k;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&"right"==g||"down"==f?2:1:f&&("down"==f?2:1):!1},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"==f&&d||"left"==f&&!d:e&&("down"==e&&c||"up"==e&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!=a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!=a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=this,d=[],e=[],f=this._connectWith();if(f&&b)for(var g=f.length-1;g>=0;g--)for(var h=a(f[g]),i=h.length-1;i>=0;i--){var j=a.data(h[i],this.widgetName);j&&j!=this&&!j.options.disabled&&e.push([a.isFunction(j.options.items)?j.options.items.call(j.element):a(j.options.items,j.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),j])}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var g=e.length-1;g>=0;g--)e[g][0].each(function(){d.push(this)});return a(d)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data("+this.widgetName+"-item)"),b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,d=this,e=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(var g=f.length-1;g>=0;g--)for(var h=a(f[g]),i=h.length-1;i>=0;i--){var j=a.data(h[i],this.widgetName);j&&j!=this&&!j.options.disabled&&(e.push([a.isFunction(j.options.items)?j.options.items.call(j.element[0],b,{item:this.currentItem}):a(j.options.items,j.element),j]),this.containers.push(j))}for(var g=e.length-1;g>=0;g--)for(var k=e[g][1],l=e[g][0],i=0,m=l.length;m>i;i++){var n=a(l[i]);n.data(this.widgetName+"-item",k),c.push({item:n,instance:k,width:0,height:0,left:0,top:0})}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var d=this.items[c];if(d.instance==this.currentContainer||!this.currentContainer||d.item[0]==this.currentItem[0]){var e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());var f=e.offset();d.left=f.left,d.top=f.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var c=this.containers.length-1;c>=0;c--){var f=this.containers[c].element.offset();this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}return this},_createPlaceholder:function(b){var c=b||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return e||(b.style.visibility="hidden"),b},update:function(a,b){e&&!d.forcePlaceholderSize||(b.height()||b.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10)))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),d.placeholder.update(c,c.placeholder)},_contactContainers:function(b){for(var c=null,d=null,e=this.containers.length-1;e>=0;e--)if(!a.ui.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(c&&a.ui.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else if(this.currentContainer!=this.containers[d]){for(var f=1e4,g=null,h=this.positionAbs[this.containers[d].floating?"left":"top"],i=this.items.length-1;i>=0;i--)if(a.ui.contains(this.containers[d].element[0],this.items[i].item[0])){var j=this.items[i][this.containers[d].floating?"left":"top"];Math.abs(j-h)<f&&(f=Math.abs(j-h),g=this.items[i])}if(!g&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"==c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!=c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(""==d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.browser.msie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if("parent"==b.containment&&(b.containment=this.helper[0].parentNode),"document"!=b.containment&&"window"!=b.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],d=a(b.containment).offset(),e="hidden"!=a(c).css("overflow");this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"==b?1:-1,e=this.options,f="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName);"relative"==this.cssPosition&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var f=b.pageX,g=b.pageY;if(this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),c.grid)){var h=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment&&(h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3])?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h;var i=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0];f=this.containment&&(i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2])?i-this.offset.click.left<this.containment[0]?i+c.grid[0]:i-c.grid[0]:i}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this,f=this.counter;window.setTimeout(function(){f==e.counter&&e.refreshPositions(!d)},0)},_clear:function(b,c){this.reverting=!1;var d=[],e=this;if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var f in this._storedCSS)"auto"!=this._storedCSS[f]&&"static"!=this._storedCSS[f]||(this._storedCSS[f]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&d.push(function(a){this._trigger("update",a,this._uiHash())}),!a.ui.contains(this.element[0],this.currentItem[0])){c||d.push(function(a){this._trigger("remove",a,this._uiHash())});for(var f=this.containers.length-1;f>=0;f--)a.ui.contains(this.containers[f].element[0],this.currentItem[0])&&!c&&(d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[f])),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[f])))}for(var f=this.containers.length-1;f>=0;f--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over=0);if(this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(var f=0;f<d.length;f++)d[f].call(this,b);this._trigger("stop",b,this._uiHash())}return!1}if(c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!c){for(var f=0;f<d.length;f++)d[f].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.extend(a.ui.sortable,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Accordion 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Accordion
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(a,b){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var b=this,c=b.options;if(b.running=0,b.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),b.headers=b.element.find(c.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){c.disabled||a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){c.disabled||a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){c.disabled||a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){c.disabled||a(this).removeClass("ui-state-focus")}),b.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),c.navigation){var d=b.element.find("a").filter(c.navigationFilter).eq(0);if(d.length){var e=d.closest(".ui-accordion-header");e.length?b.active=e:b.active=d.closest(".ui-accordion-content").prev()}}b.active=b._findActive(b.active||c.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),b.active.next().addClass("ui-accordion-content-active"),b._createIcons(),b.resize(),b.element.attr("role","tablist"),b.headers.attr("role","tab").bind("keydown.accordion",function(a){return b._keydown(a)}).next().attr("role","tabpanel"),b.headers.not(b.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),b.active.length?b.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):b.headers.eq(0).attr("tabIndex",0),a.browser.safari||b.headers.find("a").attr("tabIndex",-1),c.event&&b.headers.bind(c.event.split(" ").join(".accordion ")+".accordion",function(a){b._clickHandler.call(b,a,this),a.preventDefault()})},_createIcons:function(){var b=this.options;b.icons&&(a("<span></span>").addClass("ui-icon "+b.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var b=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var c=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(b.autoHeight||b.fillHeight)&&c.css("height",""),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),"active"==b&&this.activate(c),"icons"==b&&(this._destroyIcons(),c&&this._createIcons()),"disabled"==b&&this.headers.add(this.headers.next())[c?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(b){if(!(this.options.disabled||b.altKey||b.ctrlKey)){var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._clickHandler({target:b.target},b.target),b.preventDefault()}return f?(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),!1):!0}},resize:function(){var b=this.options,c;if(b.fillSpace){if(a.browser.msie){var d=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}c=this.element.parent().height(),a.browser.msie&&this.element.parent().css("overflow",d),this.headers.each(function(){c-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else b.autoHeight&&(c=0,this.headers.next().each(function(){c=Math.max(c,a(this).height("").height())}).height(c));return this},activate:function(a){this.options.active=a;var b=this._findActive(a)[0];return this._clickHandler({target:b},b),this},_findActive:function(b){return b?"number"==typeof b?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===!1?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(b,c){var d=this.options;if(!d.disabled){if(!b.target){if(!d.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),this.active.next().addClass("ui-accordion-content-active");var e=this.active.next(),f={options:d,newHeader:a([]),oldHeader:d.active,newContent:a([]),oldContent:e},g=this.active=a([]);return void this._toggle(g,e,f)}var h=a(b.currentTarget||c),i=h[0]===this.active[0];if(d.active=d.collapsible&&i?!1:this.headers.index(h),this.running||!d.collapsible&&i)return;var j=this.active,g=h.next(),e=this.active.next(),f={options:d,newHeader:i&&d.collapsible?a([]):h,oldHeader:this.active,newContent:i&&d.collapsible?a([]):g,oldContent:e},k=this.headers.index(this.active[0])>this.headers.index(h[0]);return this.active=i?a([]):h,this._toggle(g,e,f,i,k),j.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),i||(h.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected),h.next().addClass("ui-accordion-content-active")),void 0}},_toggle:function(b,c,d,e,f){var g=this,h=g.options;g.toShow=b,g.toHide=c,g.data=d;var i=function(){return g?g._completed.apply(g,arguments):void 0};if(g._trigger("changestart",null,g.data),g.running=0===c.size()?b.size():c.size(),h.animated){var j={};j=h.collapsible&&e?{toShow:a([]),toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace}:{toShow:b,toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace},h.proxied||(h.proxied=h.animated),h.proxiedDuration||(h.proxiedDuration=h.duration),h.animated=a.isFunction(h.proxied)?h.proxied(j):h.proxied,h.duration=a.isFunction(h.proxiedDuration)?h.proxiedDuration(j):h.proxiedDuration;var k=a.ui.accordion.animations,l=h.duration,m=h.animated;m&&!k[m]&&!a.easing[m]&&(m="slide"),k[m]||(k[m]=function(a){this.slide(a,{easing:m,duration:l||700})}),k[m](j)}else h.collapsible&&e?b.toggle():(c.hide(),b.show()),i(!0);c.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),b.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(a){this.running=a?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),a.extend(a.ui.accordion,{version:"1.8.18",animations:{slide:function(b,c){if(b=a.extend({easing:"swing",duration:300},b,c),b.toHide.size()){if(!b.toShow.size())return void b.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},b);var d=b.toShow.css("overflow"),e=0,f={},g={},h=["height","paddingTop","paddingBottom"],i,j=b.toShow;i=j[0].style.width,j.width(j.parent().width()-parseFloat(j.css("paddingLeft"))-parseFloat(j.css("paddingRight"))-(parseFloat(j.css("borderLeftWidth"))||0)-(parseFloat(j.css("borderRightWidth"))||0)),a.each(h,function(c,d){g[d]="hide";var e=(""+a.css(b.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);f[d]={value:e[1],unit:e[2]||"px"}}),b.toShow.css({height:0,overflow:"hidden"}).show(),b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(g,{step:function(a,c){"height"==c.prop&&(e=c.end-c.start===0?0:(c.now-c.start)/(c.end-c.start)),b.toShow[0].style[c.prop]=e*f[c.prop].value+f[c.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css("height",""),b.toShow.css({width:i,overflow:d}),b.complete()}})}else b.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},b)},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1e3:200})}}})}(jQuery),/*
 * jQuery UI Autocomplete 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Autocomplete
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
function(a,b){var c=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b=this,c=this.element[0].ownerDocument,d;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(!b.options.disabled&&!b.element.propAttr("readOnly")){d=!1;var e=a.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:b._move("previousPage",c);break;case e.PAGE_DOWN:b._move("nextPage",c);break;case e.UP:b._move("previous",c),c.preventDefault();break;case e.DOWN:b._move("next",c),c.preventDefault();break;case e.ENTER:case e.NUMPAD_ENTER:b.menu.active&&(d=!0,c.preventDefault());case e.TAB:if(!b.menu.active)return;b.menu.select(c);break;case e.ESCAPE:b.element.val(b.term),b.close(c);break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.term!=b.element.val()&&(b.selectedItem=null,b.search(null,c))},b.options.delay)}}}).bind("keypress.autocomplete",function(a){d&&(d=!1,a.preventDefault())}).bind("focus.autocomplete",function(){b.options.disabled||(b.selectedItem=null,b.previous=b.element.val())}).bind("blur.autocomplete",function(a){b.options.disabled||(clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a),b._change(a)},150))}),this._initSource(),this.response=function(){return b._response.apply(b,arguments)},this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(c){var d=b.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==b.element[0]&&c.target!==d&&!a.ui.contains(d,c.target)&&b.close()})},1),setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){var d=c.item.data("item.autocomplete");!1!==b._trigger("focus",a,{item:d})&&/^key/.test(a.originalEvent.type)&&b.element.val(d.value)},selected:function(a,d){var e=d.item.data("item.autocomplete"),f=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=f,setTimeout(function(){b.previous=f,b.selectedItem=e},1)),!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value),b.term=b.element.val(),b.close(a),b.selectedItem=e},blur:function(a,c){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe(),b.beforeunloadHandler=function(){b.element.removeAttr("autocomplete")},a(window).bind("beforeunload",b.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a(window).unbind("beforeunload",this.beforeunloadHandler),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),"source"===b&&this._initSource(),"appendTo"===b&&this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0]),"disabled"===b&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var b=this,d,e;a.isArray(this.options.source)?(d=this.options.source,this.source=function(b,c){c(a.ui.autocomplete.filter(d,b.term))}):"string"==typeof this.options.source?(e=this.options.source,this.source=function(d,f){b.xhr&&b.xhr.abort(),b.xhr=a.ajax({url:e,data:d,dataType:"json",context:{autocompleteRequest:++c},success:function(a,b){this.autocompleteRequest===c&&f(a)},error:function(){this.autocompleteRequest===c&&f([])}})}):this.source=this.options.source},search:function(a,b){return a=null!=a?a:this.element.val(),this.term=this.element.val(),a.length<this.options.minLength?this.close(b):(clearTimeout(this.closing),this._trigger("search",b)!==!1?this._search(a):void 0)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this.response)},_response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){if(this.menu.element.is(":visible")){if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a))return this.element.val(this.term),void this.menu.deactivate();this.menu[a](b)}else this.search(null,b)},widget:function(){return this.menu.element}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})}(jQuery),function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){!a(c.target).closest(".ui-menu-item a").length||(c.preventDefault(),b.select(c))}),this.refresh()},refresh:function(){var b=this,c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");c.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){if(this.deactivate(),this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),e=this.element.height();0>c?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",a,{item:b})},deactivate:function(){!this.active||(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){if(this.active){var d=this.active[a+"All"](".ui-menu-item").eq(0);d.length?this.activate(c,d):this.activate(c,this.element.children(b))}else this.activate(c,this.element.children(b))},nextPage:function(b){if(this.hasScroll()){if(!this.active||this.last())return void this.activate(b,this.element.children(".ui-menu-item:first"));var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c-d+a(this).height();return 10>b&&b>-10});e.length||(e=this.element.children(".ui-menu-item:last")),this.activate(b,e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll()){if(!this.active||this.first())return void this.activate(b,this.element.children(".ui-menu-item:last"));var c=this.active.offset().top,d=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+d-a(this).height();return 10>b&&b>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(b,result)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery),/*
 * jQuery UI Button 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Button
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(a,b){var c,d,e,f,g="ui-button ui-widget ui-state-default ui-corner-all",h="ui-state-hover ui-state-active ",i="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},k=function(b){var c=b.name,d=b.form,e=a([]);return c&&(e=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",j),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,h=this.options,i="checkbox"===this.type||"radio"===this.type,l="ui-state-hover"+(i?"":" ui-state-active"),m="ui-state-focus";null===h.label&&(h.label=this.buttonElement.html()),this.buttonElement.addClass(g).attr("role","button").bind("mouseenter.button",function(){h.disabled||(a(this).addClass("ui-state-hover"),this===c&&a(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){h.disabled||a(this).removeClass(l)}).bind("click.button",function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus.button",function(){b.buttonElement.addClass(m)}).bind("blur.button",function(){b.buttonElement.removeClass(m)}),i&&(this.element.bind("change.button",function(){f||b.refresh()}),this.buttonElement.bind("mousedown.button",function(a){h.disabled||(f=!1,d=a.pageX,e=a.pageY)}).bind("mouseup.button",function(a){!h.disabled&&(d!==a.pageX||e!==a.pageY)&&(f=!0)})),"checkbox"===this.type?this.buttonElement.bind("click.button",function(){return h.disabled||f?!1:(a(this).toggleClass("ui-state-active"),void b.buttonElement.attr("aria-pressed",b.element[0].checked))}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(h.disabled||f)return!1;a(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed","true");var c=b.element[0];k(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){return h.disabled?!1:(a(this).addClass("ui-state-active"),c=this,a(document).one("mouseup",function(){c=null}),void 0)}).bind("mouseup.button",function(){return h.disabled?!1:void a(this).removeClass("ui-state-active")}).bind("keydown.button",function(b){return h.disabled?!1:void((b.keyCode==a.ui.keyCode.SPACE||b.keyCode==a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active"))}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){if(this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type){var a=this.element.parents().filter(":last"),b="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible");var c=this.element.is(":checked");c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",c)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(g+" "+h+" "+i).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),"disabled"===b?c?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1):this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b),"radio"===this.type?k(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass(i),c=a("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",c))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}}),a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){"disabled"===b&&this.buttons.button("option",b,c),a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var b="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),a.Widget.prototype.destroy.call(this)}})}(jQuery),/*
 * jQuery UI Dialog 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Dialog
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  jquery.ui.button.js
 *	jquery.ui.draggable.js
 *	jquery.ui.mouse.js
 *	jquery.ui.position.js
 *	jquery.ui.resizable.js
 */
function(a,b){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},f=a.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var b=this,d=b.options,e=d.title||"&#160;",f=a.ui.dialog.getTitleId(b.element),g=(b.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass(c+d.dialogClass).css({zIndex:d.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(c){d.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}).attr({role:"dialog","aria-labelledby":f}).mousedown(function(a){b.moveToTop(!1,a)}),h=b.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g),i=(b.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(g),j=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){j.addClass("ui-state-hover")},function(){j.removeClass("ui-state-hover")}).focus(function(){j.addClass("ui-state-focus")}).blur(function(){j.removeClass("ui-state-focus")}).click(function(a){return b.close(a),!1}).appendTo(i),k=(b.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(d.closeText).appendTo(j),l=a("<span></span>").addClass("ui-dialog-title").attr("id",f).html(e).prependTo(i);a.isFunction(d.beforeclose)&&!a.isFunction(d.beforeClose)&&(d.beforeClose=d.beforeclose),i.find("*").add(i).disableSelection(),d.draggable&&a.fn.draggable&&b._makeDraggable(),d.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(d.buttons),b._isOpen=!1,a.fn.bgiframe&&g.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;return a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr("title",a.originalTitle),a},widget:function(){return this.uiDialog},close:function(b){var c=this,d,e;return!1!==c._trigger("beforeClose",b)?(c.overlay&&c.overlay.destroy(),c.uiDialog.unbind("keypress.ui-dialog"),c._isOpen=!1,c.options.hide?c.uiDialog.hide(c.options.hide,function(){c._trigger("close",b)}):(c.uiDialog.hide(),c._trigger("close",b)),a.ui.dialog.overlay.resize(),c.options.modal&&(d=0,a(".ui-dialog").each(function(){this!==c.uiDialog[0]&&(e=a(this).css("z-index"),isNaN(e)||(d=Math.max(d,e)))}),a.ui.dialog.maxZ=d),c):void 0},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this,e=d.options,f;return e.modal&&!b||!e.stack&&!e.modal?d._trigger("focus",c):(e.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=e.zIndex),d.overlay&&(a.ui.dialog.maxZ+=1,d.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),f={scrollTop:d.element.scrollTop(),scrollLeft:d.element.scrollLeft()},a.ui.dialog.maxZ+=1,d.uiDialog.css("z-index",a.ui.dialog.maxZ),d.element.attr(f),d._trigger("focus",c),d)},open:function(){if(!this._isOpen){var b=this,c=b.options,d=b.uiDialog;return b.overlay=c.modal?new a.ui.dialog.overlay(b):null,b._size(),b._position(c.position),d.show(c.show),b.moveToTop(!0),c.modal&&d.bind("keydown.ui-dialog",function(b){if(b.keyCode===a.ui.keyCode.TAB){var c=a(":tabbable",this),d=c.filter(":first"),e=c.filter(":last");if(b.target===e[0]&&!b.shiftKey)return d.focus(1),!1;if(b.target===d[0]&&b.shiftKey)return e.focus(1),!1}}),a(b.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus(),b._isOpen=!0,b._trigger("open"),b}},_createButtons:function(b){var c=this,d=!1,e=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),g=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(e);c.uiDialog.find(".ui-dialog-buttonpane").remove(),"object"==typeof b&&null!==b&&a.each(b,function(){return!(d=!0)}),d&&(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var e=a('<button type="button"></button>').click(function(){d.click.apply(c.element[0],arguments)}).appendTo(g);a.each(d,function(a,b){"click"!==a&&(a in f?e[a](b):e.attr(a,b))}),a.fn.button&&e.button()}),e.appendTo(c.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=c.options,e=a(document),f;c.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,g){f="auto"===d.height?"auto":a(this).height(),a(this).height(a(this).height()).addClass("ui-dialog-dragging"),c._trigger("dragStart",e,b(g))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(g,h){d.position=[h.position.left-e.scrollLeft(),h.position.top-e.scrollTop()],a(this).removeClass("ui-dialog-dragging").height(f),c._trigger("dragStop",g,b(h)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function d(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var e=this,f=e.options,g=e.uiDialog.css("position"),h="string"==typeof c?c:"n,e,s,w,se,sw,ne,nw";e.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:e.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:e._minHeight(),handles:h,start:function(b,c){a(this).addClass("ui-dialog-resizing"),e._trigger("resizeStart",b,d(c))},resize:function(a,b){e._trigger("resize",a,d(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),f.height=a(this).height(),f.width=a(this).width(),e._trigger("resizeStop",b,d(c)),a.ui.dialog.overlay.resize()}}).css("position",g).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],e;b?(("string"==typeof b||"object"==typeof b&&"0"in b)&&(c=b.split?b.split(" "):[b[0],b[1]],1===c.length&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:d.join(" ")}),b=a.extend({},a.ui.dialog.prototype.options.position,b)):b=a.ui.dialog.prototype.options.position,e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),e||this.uiDialog.hide()},_setOptions:function(b){var c=this,f={},g=!1;a.each(b,function(a,b){c._setOption(a,b),a in d&&(g=!0),a in e&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,d){var e=this,f=e.uiDialog;switch(b){case"beforeclose":b="beforeClose";break;case"buttons":e._createButtons(d);break;case"closeText":e.uiDialogTitlebarCloseText.text(""+d);break;case"dialogClass":f.removeClass(e.options.dialogClass).addClass(c+d);break;case"disabled":d?f.addClass("ui-dialog-disabled"):f.removeClass("ui-dialog-disabled");break;case"draggable":var g=f.is(":data(draggable)");g&&!d&&f.draggable("destroy"),!g&&d&&e._makeDraggable();break;case"position":e._position(d);break;case"resizable":var h=f.is(":data(resizable)");h&&!d&&f.resizable("destroy"),h&&"string"==typeof d&&f.resizable("option","handles",d),!h&&d!==!1&&e._makeResizable(d);break;case"title":a(".ui-dialog-title",e.uiDialogTitlebar).html(""+(d||"&#160;"))}a.Widget.prototype._setOption.apply(e,arguments)},_size:function(){var b=this.options,c,d,e=this.uiDialog.is(":visible");if(this.element.show().css({width:"auto",minHeight:0,height:0}),b.minWidth>b.width&&(b.width=b.minWidth),c=this.uiDialog.css({height:"auto",width:b.width}).height(),d=Math.max(0,b.minHeight-c),"auto"===b.height)if(a.support.minHeight)this.element.css({minHeight:d,height:"auto"});else{this.uiDialog.show();var f=this.element.css("height","auto").height();e||this.uiDialog.hide(),this.element.height(Math.max(f,d))}else this.element.height(Math.max(b.height-c,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{version:"1.8.18",uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");return b||(this.uuid+=1,b=this.uuid),"ui-dialog-title-"+b},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){0===this.instances.length&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){return a(b.target).zIndex()<a.ui.dialog.overlay.maxZ?!1:void 0})},1),a(document).bind("keydown.dialog-overlay",function(c){b.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return a.fn.bgiframe&&c.bgiframe(),this.instances.push(c),c},destroy:function(b){var c=a.inArray(b,this.instances);-1!=c&&this.oldInstances.push(this.instances.splice(c,1)[0]),0===this.instances.length&&a([document,window]).unbind(".dialog-overlay"),b.remove();var d=0;a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;return a.browser.msie&&a.browser.version<7?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),c>b?a(window).height()+"px":b+"px"):a(document).height()+"px"},width:function(){var b,c;return a.browser.msie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),c>b?a(window).width()+"px":b+"px"):a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),/*
 * jQuery UI Slider 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Slider
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(a,b){var c=5;a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b=this,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=d.values&&d.values.length||1,h=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(d.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),d.range&&(d.range===!0&&(d.values||(d.values=[this._valueMin(),this._valueMin()]),d.values.length&&2!==d.values.length&&(d.values=[d.values[0],d.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===d.range||"max"===d.range?" ui-slider-range-"+d.range:"")));for(var i=e.length;g>i;i+=1)h.push(f);this.handles=e.add(a(h.join("")).appendTo(b.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){d.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){d.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)}),this.handles.keydown(function(d){var e=a(this).data("index.ui-slider-handle"),f,g,h,i;if(!b.options.disabled){switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d.preventDefault(),!b._keySliding&&(b._keySliding=!0,a(this).addClass("ui-state-active"),f=b._start(d,e),f===!1))return}switch(i=b.options.step,g=h=b.options.values&&b.options.values.length?b.values(e):b.value(),d.keyCode){case a.ui.keyCode.HOME:h=b._valueMin();break;case a.ui.keyCode.END:h=b._valueMax();break;case a.ui.keyCode.PAGE_UP:h=b._trimAlignValue(g+(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.PAGE_DOWN:h=b._trimAlignValue(g-(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(g===b._valueMax())return;h=b._trimAlignValue(g+i);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(g===b._valueMin())return;h=b._trimAlignValue(g-i)}b._slide(d,e,h)}}).keyup(function(c){var d=a(this).data("index.ui-slider-handle");b._keySliding&&(b._keySliding=!1,b._stop(c,d),b._change(c,d),a(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options,d,e,f,g,h,i,j,k,l;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),d={x:b.pageX,y:b.pageY},e=this._normValueFromMouse(d),f=this._valueMax()-this._valueMin()+1,h=this,this.handles.each(function(b){var c=Math.abs(e-h.values(b));f>c&&(f=c,g=a(this),i=b)}),c.range===!0&&this.values(1)===c.min&&(i+=1,g=a(this.handles[i])),j=this._start(b,i),j===!1?!1:(this._mouseSliding=!0,h._handleIndex=i,g.addClass("ui-state-active").focus(),k=g.offset(),l=!a(b.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:b.pageX-k.left-g.width()/2,top:b.pageY-k.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,i,e),this._animateOff=!0,!0))},_mouseStart:function(a){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b);else{if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()}},_setOption:function(b,c){var d,e=0;switch(a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;e>d;d+=1)this._change(null,d);this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,c=this.options,d=this,e=this._animateOff?!1:c.animate,f,g={},h,i,j,k;this.options.values&&this.options.values.length?this.handles.each(function(b,i){f=(d.values(b)-d._valueMin())/(d._valueMax()-d._valueMin())*100,g["horizontal"===d.orientation?"left":"bottom"]=f+"%",a(this).stop(1,1)[e?"animate":"css"](g,c.animate),d.options.range===!0&&("horizontal"===d.orientation?(0===b&&d.range.stop(1,1)[e?"animate":"css"]({left:f+"%"},c.animate),1===b&&d.range[e?"animate":"css"]({width:f-h+"%"},{queue:!1,duration:c.animate})):(0===b&&d.range.stop(1,1)[e?"animate":"css"]({bottom:f+"%"},c.animate),1===b&&d.range[e?"animate":"css"]({height:f-h+"%"},{queue:!1,duration:c.animate}))),h=f}):(i=this.value(),j=this._valueMin(),k=this._valueMax(),f=k!==j?(i-j)/(k-j)*100:0,g["horizontal"===d.orientation?"left":"bottom"]=f+"%",this.handle.stop(1,1)[e?"animate":"css"](g,c.animate),"min"===b&&"horizontal"===this.orientation&&this.range.stop(1,1)[e?"animate":"css"]({width:f+"%"},c.animate),"max"===b&&"horizontal"===this.orientation&&this.range[e?"animate":"css"]({width:100-f+"%"},{queue:!1,duration:c.animate}),"min"===b&&"vertical"===this.orientation&&this.range.stop(1,1)[e?"animate":"css"]({height:f+"%"},c.animate),"max"===b&&"vertical"===this.orientation&&this.range[e?"animate":"css"]({height:100-f+"%"},{queue:!1,duration:c.animate}))}}),a.extend(a.ui.slider,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Tabs 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Tabs
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(a,b){function c(){return++f}function d(){return++e}var e=0,f=0;a.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(a,b){if("selected"==a){if(this.options.collapsible&&b==this.options.selected)return;this.select(b)}else this.options[a]=b,this._tabify()},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+d()},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+c());return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function d(b,c){b.css("display",""),!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var e=this,f=this.options,g=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=a(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return a("a",this)[0]}),this.panels=a([]),this.anchors.each(function(b,c){var d=a(c).attr("href"),h=d.split("#")[0],i;if(h&&(h===location.toString().split("#")[0]||(i=a("base")[0])&&h===i.href)&&(d=c.hash,c.href=d),g.test(d))e.panels=e.panels.add(e.element.find(e._sanitizeSelector(d)));else if(d&&"#"!==d){a.data(c,"href.tabs",d),a.data(c,"load.tabs",d.replace(/#.*$/,""));var j=e._tabId(c);c.href="#"+j;var k=e.element.find("#"+j);k.length||(k=a(f.panelTemplate).attr("id",j).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(e.panels[b-1]||e.list),k.data("destroy.tabs",!0)),e.panels=e.panels.add(k)}else f.disabled.push(b)}),c?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),f.selected===b?(location.hash&&this.anchors.each(function(a,b){return b.hash==location.hash?(f.selected=a,!1):void 0}),"number"!=typeof f.selected&&f.cookie&&(f.selected=parseInt(e._cookie(),10)),"number"!=typeof f.selected&&this.lis.filter(".ui-tabs-selected").length&&(f.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),f.selected=f.selected||(this.lis.length?0:-1)):null===f.selected&&(f.selected=-1),f.selected=f.selected>=0&&this.anchors[f.selected]||f.selected<0?f.selected:0,f.disabled=a.unique(f.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a,b){return e.lis.index(a)}))).sort(),-1!=a.inArray(f.selected,f.disabled)&&f.disabled.splice(a.inArray(f.selected,f.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),f.selected>=0&&this.anchors.length&&(e.element.find(e._sanitizeSelector(e.anchors[f.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(f.selected).addClass("ui-tabs-selected ui-state-active"),e.element.queue("tabs",function(){e._trigger("show",null,e._ui(e.anchors[f.selected],e.element.find(e._sanitizeSelector(e.anchors[f.selected].hash))[0]))}),this.load(f.selected)),a(window).bind("unload",function(){e.lis.add(e.anchors).unbind(".tabs"),e.lis=e.anchors=e.panels=null})):f.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[f.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),f.cookie&&this._cookie(f.selected,f.cookie);for(var h=0,i;i=this.lis[h];h++)a(i)[-1==a.inArray(h,f.disabled)||a(i).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(f.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==f.event){var j=function(a,b){b.is(":not(.ui-state-disabled)")&&b.addClass("ui-state-"+a)},k=function(a,b){b.removeClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){j("hover",a(this))}),this.lis.bind("mouseout.tabs",function(){k("hover",a(this))}),this.anchors.bind("focus.tabs",function(){j("focus",a(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){k("focus",a(this).closest("li"))})}var l,m;f.fx&&(a.isArray(f.fx)?(l=f.fx[0],m=f.fx[1]):l=m=f.fx);var n=m?function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.hide().removeClass("ui-tabs-hide").animate(m,m.duration||"normal",function(){d(c,m),e._trigger("show",null,e._ui(b,c[0]))})}:function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),e._trigger("show",null,e._ui(b,c[0]))},o=l?function(a,b){b.animate(l,l.duration||"normal",function(){e.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),d(b,l),e.element.dequeue("tabs")})}:function(a,b,c){e.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),e.element.dequeue("tabs")};this.anchors.bind(f.event+".tabs",function(){var b=this,c=a(b).closest("li"),d=e.panels.filter(":not(.ui-tabs-hide)"),g=e.element.find(e._sanitizeSelector(b.hash));if(c.hasClass("ui-tabs-selected")&&!f.collapsible||c.hasClass("ui-state-disabled")||c.hasClass("ui-state-processing")||e.panels.filter(":animated").length||e._trigger("select",null,e._ui(this,g[0]))===!1)return this.blur(),!1;if(f.selected=e.anchors.index(this),e.abort(),f.collapsible){if(c.hasClass("ui-tabs-selected"))return f.selected=-1,f.cookie&&e._cookie(f.selected,f.cookie),e.element.queue("tabs",function(){o(b,d)}).dequeue("tabs"),this.blur(),!1;if(!d.length)return f.cookie&&e._cookie(f.selected,f.cookie),e.element.queue("tabs",function(){n(b,g)}),e.load(e.anchors.index(this)),this.blur(),!1}if(f.cookie&&e._cookie(f.selected,f.cookie),!g.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";d.length&&e.element.queue("tabs",function(){o(b,d)}),e.element.queue("tabs",function(){n(b,g)}),e.load(e.anchors.index(this)),a.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$="+a+"]"))),a},destroy:function(){var b=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var b=a.data(this,"href.tabs");b&&(this.href=b);var c=a(this).unbind(".tabs");a.each(["href","load","cache"],function(a,b){c.removeData(b+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),b.cookie&&this._cookie(null,b.cookie),this},add:function(c,d,e){e===b&&(e=this.anchors.length);var f=this,g=this.options,h=a(g.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),i=c.indexOf("#")?this._tabId(a("a",h)[0]):c.replace("#","");h.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var j=f.element.find("#"+i);return j.length||(j=a(g.panelTemplate).attr("id",i).data("destroy.tabs",!0)),j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),e>=this.lis.length?(h.appendTo(this.list),j.appendTo(this.list[0].parentNode)):(h.insertBefore(this.lis[e]),j.insertBefore(this.panels[e])),g.disabled=a.map(g.disabled,function(a,b){return a>=e?++a:a}),this._tabify(),1==this.anchors.length&&(g.selected=0,h.addClass("ui-tabs-selected ui-state-active"),j.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[0],f.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e])),this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.lis.eq(b).remove(),e=this.panels.eq(b).remove();return d.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a,c){return a!=b}),function(a,c){return a>=b?--a:a}),this._tabify(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0])),this},enable:function(b){b=this._getIndex(b);var c=this.options;return-1!=a.inArray(b,c.disabled)?(this.lis.eq(b).removeClass("ui-state-disabled"),c.disabled=a.grep(c.disabled,function(a,c){return a!=b}),this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b])),this):void 0},disable:function(a){a=this._getIndex(a);var b=this,c=this.options;return a!=c.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),c.disabled.push(a),c.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a]))),this},select:function(a){if(a=this._getIndex(a),-1==a){if(!this.options.collapsible||-1==this.options.selected)return this;a=this.options.selected}return this.anchors.eq(a).trigger(this.options.event+".tabs"),this},load:function(b){b=this._getIndex(b);var c=this,d=this.options,e=this.anchors.eq(b)[0],f=a.data(e,"load.tabs");if(this.abort(),f&&(0===this.element.queue("tabs").length||!a.data(e,"cache.tabs"))){if(this.lis.eq(b).addClass("ui-state-processing"),d.spinner){var g=a("span",e);g.data("label.tabs",g.html()).html(d.spinner)}return this.xhr=a.ajax(a.extend({},d.ajaxOptions,{url:f,success:function(f,g){c.element.find(c._sanitizeSelector(e.hash)).html(f),c._cleanup(),d.cache&&a.data(e,"cache.tabs",!0),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.success(f,g)}catch(h){}},error:function(a,f,g){c._cleanup(),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.error(a,f,b,e)}catch(g){}}})),c.element.dequeue("tabs"),this}this.element.dequeue("tabs")},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(a,b){return this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",b),this},length:function(){return this.anchors.length}}),a.extend(a.ui.tabs,{version:"1.8.18"}),a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(a,b){var c=this,d=this.options,e=c._rotate||(c._rotate=function(b){clearTimeout(c.rotation),c.rotation=setTimeout(function(){var a=d.selected;c.select(++a<c.anchors.length?a:0)},a),b&&b.stopPropagation()}),f=c._unrotate||(c._unrotate=b?function(a){t=d.selected,e()}:function(a){a.clientX&&c.rotate(null)});return a?(this.element.bind("tabsshow",e),this.anchors.bind(d.event+".tabs",f),e()):(clearTimeout(c.rotation),this.element.unbind("tabsshow",e),this.anchors.unbind(d.event+".tabs",f),delete this._rotate,delete this._unrotate),this}})}(jQuery),/*
 * jQuery UI Datepicker 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Datepicker
 *
 * Depends:
 *	jquery.ui.core.js
 */
function($,undefined){function isArray(a){return a&&($.browser.safari&&"object"==typeof a&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}function extendRemove(a,b){$.extend(a,b);for(var c in b)null!=b[c]&&b[c]!=undefined||(a[c]=b[c]);return a}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.bind("mouseout",function(a){var c=$(a.target).closest(b);!c.length||c.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(c){var d=$(c.target).closest(b);!$.datepicker._isDisabledDatepicker(instActive&&instActive.inline?a.parent()[0]:instActive.input[0])&&!!d.length&&(d.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d.addClass("ui-state-hover"),d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover"),d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover"))})}function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}$.extend($.ui,{datepicker:{version:"1.8.18"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&void 0},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]),c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");if(("focus"==e||"both"==e)&&a.focus(this._showDatepicker),"button"==e||"both"==e){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==g?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=a[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(a[0])):$.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){for(var b=0,c=0,d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}if(extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f),this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),"input"==d?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==d||"span"==d)&&b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if("input"==d)a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==d||"span"==d){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})}},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if("input"==d)a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==d||"span"==d){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(2==arguments.length&&"string"==typeof b)return"defaults"==b?$.extend({},$.datepicker._defaults):d?"all"==b?$.extend({},d.settings):this._get(d,b):null;var e=b||{};if("string"==typeof b&&(e={},e[b]=c),d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),null!==g&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),null!==h&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");if(b._keyEvent=!0,$.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else 36==a.keyCode&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||" ">d||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal)try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(a){$.datepicker.log(a)}return!0},_showDatepicker:function(a){if(a=a.target||a,"input"!=a.nodeName.toLowerCase()&&(a=$("input",a.parentNode)[0]),!$.datepicker._isDisabledDatepicker(a)&&$.datepicker._lastInput!=a){var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,"beforeShow"),d=c?c.apply(a,[a,b]):{};if(d===!1)return;extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){return e|="fixed"==$(this).css("position"),!e}),e&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),!b.inline){var g=$.datepicker._get(b,"showAnim"),h=$.datepicker._get(b,"duration"),i=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[g]?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),(!g||!h)&&i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}}},_updateDatepicker:function(a){var b=this;b.maxRows=4;var c=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a));var d=a.dpDiv.find("iframe.ui-datepicker-cover");!d.length||d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e=this._getNumberOfMonths(a),f=e[1],g=17;if(a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",g*f+"em"),a.dpDiv[(1!=e[0]||1!=e[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus(),a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),h=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+$(document).scrollLeft(),i=document.documentElement.clientHeight+$(document).scrollTop();return b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0),b},_findPos:function(a){for(var b=this._getInst(a),c=this._get(b,"isRTL");a&&("hidden"==a.type||1!=a.nodeType||$.expr.filters.hidden(a));)a=a[c?"previousSibling":"nextSibling"];var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(b&&(!a||b==$.data(a,PROP_NAME))&&this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=this,f=function(){$.datepicker._tidyDialog(b),e._curInst=null};$.effects&&$.effects[c]?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,f):b.dpDiv["slideDown"==c?"slideUp":"fadeIn"==c?"fadeOut":"hide"](c?d:null,f),c||f(),this._datepickerShowing=!1;var g=this._get(b,"onClose");g&&g.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if($.datepicker._curInst){var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&0==b.parents("#"+$.datepicker._mainDivId).length&&!b.hasClass($.datepicker.markerClassName)&&!b.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);this._isDisabledDatepicker(d[0])||(this._adjustInstDate(e,b+("M"==c?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+("M"==c?"Month":"Year")]=e["draw"+("M"==c?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if(!$(d).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(e[0])){var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){var b=$(a),c=this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=null!=b?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],"object"!=typeof d.input[0]&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1},parseDate:function(a,b,c){if(null==a||null==b)throw"Invalid arguments";if(b="object"==typeof b?b.toString():b+"",""==b)return null;var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d="string"!=typeof d?d:(new Date).getFullYear()%100+parseInt(d,10);for(var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;return c&&s++,c},o=function(a){var c=n(a),d="@"==a?14:"!"==a?20:"y"==a&&c?4:"o"==a?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f)throw"Missing number at position "+r;return r+=f[0].length,parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),f=-1;if($.each(e,function(a,c){var d=c[1];return b.substr(r,d.length).toLowerCase()==d.toLowerCase()?(f=c[0],r+=d.length,!1):void 0}),-1!=f)return f+1;throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw"Unexpected literal at position "+r;r++},r=0,s=0;s<a.length;s++)if(m)"'"!=a.charAt(s)||n("'")?q():m=!1;else switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/1e4);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}if(r<b.length)throw"Extra/unparsed characters found in date: "+b.substring(r);if(-1==i?i=(new Date).getFullYear():100>i&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=i?0:-100)),l>-1)for(j=1,k=l;;){var u=this._getDaysInMonth(i,j-1);if(u>=k)break;j++,k-=u}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;return c&&m++,c},i=function(a,b,c){var d=""+b;if(h(a))for(;d.length<c;)d="0"+d;return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b)for(var m=0;m<a.length;m++)if(l)"'"!=a.charAt(m)||h("'")?k+=a.charAt(m):l=!1;else switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=1e4*b.getTime()+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}return k},_possibleChars:function(a){for(var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;return c&&e++,c},e=0;e<a.length;e++)if(c)"'"!=a.charAt(e)||d("'")?b+=a.charAt(e):c=!1;else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}for(var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);i;){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=7*parseInt(i[1],10);break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=null==b||""===b?c:"string"==typeof b?e(b):"number"==typeof b?isNaN(b)?c:d(b):new Date(b.getTime());return f=f&&"Invalid Date"==f.toString()?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)),this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""==a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=1!=g[0]||1!=g[1],k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;if(0>n&&(n+=12,o--),m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));for(p=l&&l>p?l:p;this._daylightSavingAdjust(new Date(o,n,1))>p;)n--,0>n&&(n=11,o--)}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', -"+i+", 'M');\" title=\""+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', +"+i+", 'M');\" title=\""+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+a.id+"');\">"+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;for(var z=this._get(a,"showWeek"),A=this._get(a,"dayNames"),B=this._get(a,"dayNamesShort"),C=this._get(a,"dayNamesMin"),D=this._get(a,"monthNames"),E=this._get(a,"monthNamesShort"),F=this._get(a,"beforeShowDay"),G=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths"),I=this._get(a,"calculateWeek")||this.iso8601Week,J=this._getDefaultDate(a),K="",L=0;L<g[0];L++){var M="";this.maxRows=4;for(var N=0;N<g[1];N++){var O=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),P=" ui-corner-all",Q="";if(j){if(Q+='<div class="ui-datepicker-group',g[1]>1)switch(N){case 0:Q+=" ui-datepicker-group-first",P=" ui-corner-"+(c?"right":"left");break;case g[1]-1:Q+=" ui-datepicker-group-last",P=" ui-corner-"+(c?"left":"right");break;default:Q+=" ui-datepicker-group-middle",P=""}Q+='">'}Q+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+P+'">'+(/all|left/.test(P)&&0==L?c?t:r:"")+(/all|right/.test(P)&&0==L?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,L>0||N>0,D,E)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var R=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"",S=0;7>S;S++){var T=(S+y)%7;R+="<th"+((S+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+A[T]+'">'+C[T]+"</span></th>"}Q+=R+"</tr></thead><tbody>";var U=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,U));var V=(this._getFirstDayOfMonth(o,n)-y+7)%7,W=Math.ceil((V+U)/7),X=j&&this.maxRows>W?this.maxRows:W;this.maxRows=X;for(var Y=this._daylightSavingAdjust(new Date(o,n,1-V)),Z=0;X>Z;Z++){Q+="<tr>";for(var _=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(Y)+"</td>":"",S=0;7>S;S++){var aa=F?F.apply(a.input?a.input[0]:null,[Y]):[!0,""],ba=Y.getMonth()!=n,ca=ba&&!H||!aa[0]||l&&l>Y||m&&Y>m;_+='<td class="'+((S+y+6)%7>=5?" ui-datepicker-week-end":"")+(ba?" ui-datepicker-other-month":"")+(Y.getTime()==O.getTime()&&n==a.selectedMonth&&a._keyEvent||J.getTime()==Y.getTime()&&J.getTime()==O.getTime()?" "+this._dayOverClass:"")+(ca?" "+this._unselectableClass+" ui-state-disabled":"")+(ba&&!G?"":" "+aa[1]+(Y.getTime()==k.getTime()?" "+this._currentClass:"")+(Y.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+(ba&&!G||!aa[2]?"":' title="'+aa[2]+'"')+(ca?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+a.id+"',"+Y.getMonth()+","+Y.getFullYear()+', this);return false;"')+">"+(ba&&!G?"&#xa0;":ca?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==b.getTime()?" ui-state-highlight":"")+(Y.getTime()==k.getTime()?" ui-state-active":"")+(ba?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",
Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}Q+=_+"</tr>"}n++,n>11&&(n=0,o++),Q+="</tbody></table>"+(j?"</div>"+(g[0]>0&&N==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),M+=Q}K+=M}return K+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,K},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b]+"</span>";else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" >";for(var p=0;12>p;p++)(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>");m+="</select>"}if(k||(l+=m+(!f&&i&&j?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));for(t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" >";u>=t;t++)a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>";a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}return l+=this._get(a,"yearSuffix"),k&&(l+=(!f&&i&&j?"":"&#xa0;")+m),l+="</div>",l},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"==c?b:0),e=a.drawMonth+("M"==c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"==c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"==c||"Y"==c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return e=d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return"string"!=typeof a||"isDisabled"!=a&&"getDate"!=a&&"widget"!=a?"option"==a&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b)):this.each(function(){"string"==typeof a?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)}):$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.18",window["DP_jQuery_"+dpuuid]=$}(jQuery),/*
 * jQuery UI Progressbar 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Progressbar
 *
 * Depends:
 *   jquery.ui.core.js
 *   jquery.ui.widget.js
 */
function(a,b){a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),a.Widget.prototype.destroy.apply(this,arguments)},value:function(a){return a===b?this._value():(this._setOption("value",a),this)},_setOption:function(b,c){"value"===b&&(this.options.value=c,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;return"number"!=typeof a&&(a=0),Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.attr("aria-valuenow",a)}}),a.extend(a.ui.progressbar,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Effects 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/
 */
jQuery.effects||function(a,b){function c(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"==typeof b&&!a.effects[b]}function d(b,c,d,e){return"object"==typeof b&&(e=c,d=null,c=b,b=c.effect),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,e=e||c.complete,[b,c,d,e]}function e(a,b){var c={_:0},d;for(d in b)a[d]!=b[d]&&(c[d]=b[d]);return c}function f(b){var c,d;for(c in b)d=b[c],(null==d||a.isFunction(d)||c in l||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function g(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]])for(var e=a.length;e--;)c=a[e],"string"==typeof a[c]&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c]);else for(c in a)"string"==typeof a[c]&&(b[c]=a[c]);return b}function h(b,c){var d;do{if(d=a.curCSS(b,c),""!=d&&"transparent"!=d||a.nodeName(b,"body"))break;c="backgroundColor"}while(b=b.parentNode);return i(d)}function i(b){var c;return b&&b.constructor==Array&&3==b.length?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[2.55*parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3])]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:(c=/rgba\(0, 0, 0, 0\)/.exec(b))?j.transparent:j[a.trim(b).toLowerCase()]}a.effects={},a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(b,c){a.fx.step[c]=function(a){a.colorInit||(a.start=h(a.elem,c),a.end=i(a.end),a.colorInit=!0),a.elem.style[c]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var j={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},k=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,d,h){return a.isFunction(d)&&(h=d,d=null),this.queue(function(){var i=a(this),j=i.attr("style")||" ",l=f(g.call(this)),m,n=i.attr("class");a.each(k,function(a,c){b[c]&&i[c+"Class"](b[c])}),m=f(g.call(this)),i.attr("class",n),i.animate(e(l,m),{queue:!1,duration:c,easing:d,complete:function(){a.each(k,function(a,c){b[c]&&i[c+"Class"](b[c])}),"object"==typeof i.attr("style")?(i.attr("style").cssText="",i.attr("style").cssText=j):i.attr("style",j),h&&h.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return"boolean"==typeof d||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"1.8.18",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){return"toggle"==b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;return b.wrap(d),(b[0]===e||a.contains(b[0],e))&&a(e).focus(),d=b.parent(),"static"==b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),d.css(c).show()},removeWrapper:function(b){var c,d=document.activeElement;return b.parent().is(".ui-effects-wrapper")?(c=b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).focus(),c):b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){unit=b.cssUnit(c),unit[0]>0&&(e[c]=unit[0]*d+unit[1])}),e}}),a.fn.extend({effect:function(b,c,e,f){var g=d.apply(this,arguments),h={options:g[1],duration:g[2],callback:g[3]},i=h.options.mode,j=a.effects[b];return a.fx.off||!j?i?this[i](h.duration,h.callback):this.each(function(){h.callback&&h.callback.call(this)}):j.call(this,h)},_show:a.fn.show,show:function(a){if(c(a))return this._show.apply(this,arguments);var b=d.apply(this,arguments);return b[1].mode="show",this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(c(a))return this._hide.apply(this,arguments);var b=d.apply(this,arguments);return b[1].mode="hide",this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(c(b)||"boolean"==typeof b||a.isFunction(b))return this.__toggle.apply(this,arguments);var e=d.apply(this,arguments);return e[1].mode="toggle",this.effect.apply(this,e)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=.3*e*1.5),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)*.5+d+c},easeInBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*(c/=f)*c*((g+1)*c-g)+d},easeOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*((c=c/f-1)*c*((g+1)*c+g)+1)+d},easeInOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),(c/=f/2)<1?e/2*c*c*(((g*=1.525)+1)*c-g)+d:e/2*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)+d},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){return f/2>c?.5*a.easing.easeInBounce(b,2*c,0,e,f)+d:.5*a.easing.easeOutBounce(b,2*c-f,0,e,f)+.5*e+d}})}(jQuery),/*
 * jQuery UI Effects Blind 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Blind
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a,b){a.effects.blind=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h="vertical"==f?"height":"width",i="vertical"==f?g.height():g.width();"show"==e&&g.css(h,0);var j={};j[h]="show"==e?i:0,g.animate(j,b.duration,b.options.easing,function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),/*
 * jQuery UI Effects Bounce 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Bounce
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a,b){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"up",g=b.options.distance||20,h=b.options.times||5,i=b.duration||250;/show|hide/.test(e)&&d.push("opacity"),a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j="up"==f||"down"==f?"top":"left",k="up"==f||"left"==f?"pos":"neg",g=b.options.distance||("top"==j?c.outerHeight({margin:!0})/3:c.outerWidth({margin:!0})/3);if("show"==e&&c.css("opacity",0).css(j,"pos"==k?-g:g),"hide"==e&&(g/=2*h),"hide"!=e&&h--,"show"==e){var l={opacity:1};l[j]=("pos"==k?"+=":"-=")+g,c.animate(l,i/2,b.options.easing),g/=2,h--}for(var m=0;h>m;m++){var n={},o={};n[j]=("pos"==k?"-=":"+=")+g,o[j]=("pos"==k?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(o,i/2,b.options.easing),g="hide"==e?2*g:g/2}if("hide"==e){var l={opacity:0};l[j]=("pos"==k?"-=":"+=")+g,c.animate(l,i/2,b.options.easing,function(){c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}else{var n={},o={};n[j]=("pos"==k?"-=":"+=")+g,o[j]=("pos"==k?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(o,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),/*
 * jQuery UI Effects Clip 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Clip
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a,b){a.effects.clip=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","height","width"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h="IMG"==c[0].tagName?g:c,i={size:"vertical"==f?"height":"width",position:"vertical"==f?"top":"left"},j="vertical"==f?h.height():h.width();"show"==e&&(h.css(i.size,0),h.css(i.position,j/2));var k={};k[i.size]="show"==e?j:0,k[i.position]="show"==e?0:j/2,h.animate(k,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Drop 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Drop
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a,b){a.effects.drop=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","opacity"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var g="up"==f||"down"==f?"top":"left",h="up"==f||"left"==f?"pos":"neg",i=b.options.distance||("top"==g?c.outerHeight({margin:!0})/2:c.outerWidth({margin:!0})/2);"show"==e&&c.css("opacity",0).css(g,"pos"==h?-i:i);var j={opacity:"show"==e?1:0};j[g]=("show"==e?"pos"==h?"+=":"-=":"pos"==h?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Explode 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Explode
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a,b){a.effects.explode=function(b){return this.queue(function(){var c=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,d=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode="toggle"==b.options.mode?a(this).is(":visible")?"hide":"show":b.options.mode;var e=a(this).show().css("visibility","hidden"),f=e.offset();f.top-=parseInt(e.css("marginTop"),10)||0,f.left-=parseInt(e.css("marginLeft"),10)||0;for(var g=e.outerWidth(!0),h=e.outerHeight(!0),i=0;c>i;i++)for(var j=0;d>j;j++)e.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*(g/d),top:-i*(h/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g/d,height:h/c,left:f.left+j*(g/d)+("show"==b.options.mode?(j-Math.floor(d/2))*(g/d):0),top:f.top+i*(h/c)+("show"==b.options.mode?(i-Math.floor(c/2))*(h/c):0),opacity:"show"==b.options.mode?0:1}).animate({left:f.left+j*(g/d)+("show"==b.options.mode?0:(j-Math.floor(d/2))*(g/d)),top:f.top+i*(h/c)+("show"==b.options.mode?0:(i-Math.floor(c/2))*(h/c)),opacity:"show"==b.options.mode?1:0},b.duration||500);setTimeout(function(){"show"==b.options.mode?e.css({visibility:"visible"}):e.css({visibility:"visible"}).hide(),b.callback&&b.callback.apply(e[0]),e.dequeue(),a("div.ui-effects-explode").remove()},b.duration||500)})}}(jQuery),/*
 * jQuery UI Effects Fade 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fade
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a,b){a.effects.fade=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide");c.animate({opacity:d},{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Fold 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fold
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a,b){a.effects.fold=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.size||15,g=!!b.options.horizFirst,h=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(c,d),c.show();var i=a.effects.createWrapper(c).css({overflow:"hidden"}),j="show"==e!=g,k=j?["width","height"]:["height","width"],l=j?[i.width(),i.height()]:[i.height(),i.width()],m=/([0-9]+)%/.exec(f);m&&(f=parseInt(m[1],10)/100*l["hide"==e?0:1]),"show"==e&&i.css(g?{height:0,width:f}:{height:f,width:0});var n={},o={};n[k[0]]="show"==e?l[0]:f,o[k[1]]="show"==e?l[1]:0,i.animate(n,h,b.options.easing).animate(o,h,b.options.easing,function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),/*
 * jQuery UI Effects Highlight 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Highlight
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a,b){a.effects.highlight=function(b){return this.queue(function(){var c=a(this),d=["backgroundImage","backgroundColor","opacity"],e=a.effects.setMode(c,b.options.mode||"show"),f={backgroundColor:c.css("backgroundColor")};"hide"==e&&(f.opacity=0),a.effects.save(c,d),c.show().css({backgroundImage:"none",backgroundColor:b.options.color||"#ffff99"}).animate(f,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==e&&c.hide(),a.effects.restore(c,d),"show"==e&&!a.support.opacity&&this.style.removeAttribute("filter"),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Pulsate 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Pulsate
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a,b){a.effects.pulsate=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"show");times=2*(b.options.times||5)-1,duration=b.duration?b.duration/2:a.fx.speeds._default/2,isVisible=c.is(":visible"),animateTo=0,isVisible||(c.css("opacity",0).show(),animateTo=1),("hide"==d&&isVisible||"show"==d&&!isVisible)&&times--;for(var e=0;e<times;e++)c.animate({opacity:animateTo},duration,b.options.easing),animateTo=(animateTo+1)%2;c.animate({opacity:animateTo},duration,b.options.easing,function(){0==animateTo&&c.hide(),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}).dequeue()})}}(jQuery),/*
 * jQuery UI Effects Scale 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Scale
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a,b){a.effects.puff=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide"),e=parseInt(b.options.percent,10)||150,f=e/100,g={height:c.height(),width:c.width()};a.extend(b.options,{fade:!0,mode:d,percent:"hide"==d?e:100,from:"hide"==d?g:{height:g.height*f,width:g.width*f}}),c.effect("scale",b.options,b.duration,b.callback),c.dequeue()})},a.effects.scale=function(b){return this.queue(function(){var c=a(this),d=a.extend(!0,{},b.options),e=a.effects.setMode(c,b.options.mode||"effect"),f=parseInt(b.options.percent,10)||(0==parseInt(b.options.percent,10)?0:"hide"==e?0:100),g=b.options.direction||"both",h=b.options.origin;"effect"!=e&&(d.origin=h||["middle","center"],d.restore=!0);var i={height:c.height(),width:c.width()};c.from=b.options.from||("show"==e?{height:0,width:0}:i);var j={y:"horizontal"!=g?f/100:1,x:"vertical"!=g?f/100:1};c.to={height:i.height*j.y,width:i.width*j.x},b.options.fade&&("show"==e&&(c.from.opacity=0,c.to.opacity=1),"hide"==e&&(c.from.opacity=1,c.to.opacity=0)),d.from=c.from,d.to=c.to,d.mode=e,c.effect("size",d,b.duration,b.callback),c.dequeue()})},a.effects.size=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","width","height","overflow","opacity"],e=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],g=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],i=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],j=a.effects.setMode(c,b.options.mode||"effect"),k=b.options.restore||!1,l=b.options.scale||"both",m=b.options.origin,n={height:c.height(),width:c.width()};if(c.from=b.options.from||n,c.to=b.options.to||n,m){var o=a.effects.getBaseline(m,n);c.from.top=(n.height-c.from.height)*o.y,c.from.left=(n.width-c.from.width)*o.x,c.to.top=(n.height-c.to.height)*o.y,c.to.left=(n.width-c.to.width)*o.x}var p={from:{y:c.from.height/n.height,x:c.from.width/n.width},to:{y:c.to.height/n.height,x:c.to.width/n.width}};"box"!=l&&"both"!=l||(p.from.y!=p.to.y&&(d=d.concat(h),c.from=a.effects.setTransition(c,h,p.from.y,c.from),c.to=a.effects.setTransition(c,h,p.to.y,c.to)),p.from.x!=p.to.x&&(d=d.concat(i),c.from=a.effects.setTransition(c,i,p.from.x,c.from),c.to=a.effects.setTransition(c,i,p.to.x,c.to))),("content"==l||"both"==l)&&p.from.y!=p.to.y&&(d=d.concat(g),c.from=a.effects.setTransition(c,g,p.from.y,c.from),c.to=a.effects.setTransition(c,g,p.to.y,c.to)),a.effects.save(c,k?d:e),c.show(),a.effects.createWrapper(c),c.css("overflow","hidden").css(c.from),"content"!=l&&"both"!=l||(h=h.concat(["marginTop","marginBottom"]).concat(g),i=i.concat(["marginLeft","marginRight"]),f=d.concat(h).concat(i),c.find("*[width]").each(function(){child=a(this),k&&a.effects.save(child,f);var c={height:child.height(),width:child.width()};child.from={height:c.height*p.from.y,width:c.width*p.from.x},child.to={height:c.height*p.to.y,width:c.width*p.to.x},p.from.y!=p.to.y&&(child.from=a.effects.setTransition(child,h,p.from.y,child.from),child.to=a.effects.setTransition(child,h,p.to.y,child.to)),p.from.x!=p.to.x&&(child.from=a.effects.setTransition(child,i,p.from.x,child.from),child.to=a.effects.setTransition(child,i,p.to.x,child.to)),child.css(child.from),child.animate(child.to,b.duration,b.options.easing,function(){k&&a.effects.restore(child,f)})})),c.animate(c.to,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){0===c.to.opacity&&c.css("opacity",c.from.opacity),"hide"==j&&c.hide(),a.effects.restore(c,k?d:e),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Shake 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Shake
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a,b){a.effects.shake=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"left",g=b.options.distance||20,h=b.options.times||3,i=b.duration||b.options.duration||140;a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j="up"==f||"down"==f?"top":"left",k="up"==f||"left"==f?"pos":"neg",l={},m={},n={};l[j]=("pos"==k?"-=":"+=")+g,m[j]=("pos"==k?"+=":"-=")+2*g,n[j]=("pos"==k?"-=":"+=")+2*g,c.animate(l,i,b.options.easing);for(var o=1;h>o;o++)c.animate(m,i,b.options.easing).animate(n,i,b.options.easing);c.animate(m,i,b.options.easing).animate(l,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),/*
 * jQuery UI Effects Slide 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Slide
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a,b){a.effects.slide=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"show"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c).css({overflow:"hidden"});var g="up"==f||"down"==f?"top":"left",h="up"==f||"left"==f?"pos":"neg",i=b.options.distance||("top"==g?c.outerHeight({margin:!0}):c.outerWidth({margin:!0}));"show"==e&&c.css(g,"pos"==h?isNaN(i)?"-"+i:-i:i);var j={};j[g]=("show"==e?"pos"==h?"+=":"-=":"pos"==h?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Transfer 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Transfer
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a,b){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),d=a(b.options.to),e=d.offset(),f={top:e.top,left:e.left,height:d.innerHeight(),width:d.innerWidth()},g=c.offset(),h=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:g.top,left:g.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(f,b.duration,b.options.easing,function(){h.remove(),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),/**
 * Functional advice-based mixins using Backbone.Advice
 *
 * Generally we favour mixins over inheritance, as that creates a single rooted hierarchy that
 * often results in a super base class.
 *
 * Using Backbone.Advice we can flexibly add behaviour, and augment existing functions without
 * clobbering the original implementation. It's also possible for the mixer to override default
 * implementations for some of the hook functions providing a lot of flexibility, but providing
 * sane defaults that allow mixins to read declaritvely in the common case.
 *
 * Backbone.Advice docs: https://github.com/rhysbrettbowen/Backbone.Advice
 * Related Angus Croll slides:
 * https://speakerdeck.com/anguscroll/how-we-learned-to-stop-worrying-and-love-javascript
 *
 * Example mixin usage:
 * View.extend({
 *     initialize: function(){...},
 *     someFunctionOverride: function(){
 *       // custom behaviour
 *     }
 * }).mixin(
 *     EB.Backbone.Mixins.exampleMixin,
 *     {
 *         option1: true,
 *         option2: 'text'
 *     }
 * ).mixin(
 *     EB.Backbone.Mixins.anotherMixin,
 *     {
 *         anotherMixinOption1: false,
 *         anotherMixinOption2: 10
 *     }
 * )
 *
 */
function(a,b,c,d,e){"use strict";c.namespace("Backbone.Mixins");var f=function(a,b){"object"==typeof a&&"function"!=typeof b.View.mixin&&(a.addMixin(b.View),a.addMixin(b.Model),a.addMixin(b.Collection))};f(e.Advice,c.Backbone),f(e.Advice,e),c.Backbone.Mixins.enforceDependencies=function(a){this.around("initialize",function(c,d,e){var f="undefined"==typeof this.attributes&&"undefined"==typeof this.fetch;if(f&&(e=d),"undefined"==typeof e)throw new Error("Missing options");var g=this.requiredOptions||a.dependencies;if(!g)throw new Error("Missing list of dependencies");b.each(g,function(a){if("undefined"==typeof e[a])throw new Error("Missing required dependency: "+a);this[a]=e[a]},this),c(e)})},c.Backbone.Mixins.rejectWithServerErrors=function(b){this.setDefaults({rejectWithServerErrors:function(){return a.Deferred().reject({__all__:b.serverErrorMessage||window.gettext("Whoops! Someone must have pulled a plug somewhere... try again.")})}})},c.Backbone.Mixins.rejectIfServerValidationErrors=function(){this.setDefaults({rejectIfServerValidationErrors:function(b){return b.success?b:a.Deferred().reject(this.processServerValidationErrors(b))},processServerValidationErrors:function(a){return a.errors}}),this.after("initialize",function(){b.bindAll(this,"rejectIfServerValidationErrors","processServerValidationErrors")})},c.Backbone.Mixins.withTemplate=function(a){this.after("initialize",function(){if(!a.template&&!a.templateName&&!this.getTemplateName)throw new Error("Missing templateName or getTemplateName function");"function"==typeof a.template?this.template=a.template:this.template=d.templates[a.templateName||this.getTemplateName()]}),this.around("render",function(a){return this.$el.html(this.template(this.getContextData(),this.getTemplateOptions())),a(),this}),this.setDefaults({getContextData:function(){return this.model?this.model.toJSON():{}},getTemplateOptions:function(){return a.templateOptions||{}}})};var g=function(a){var c=a&&a.bindingDefaults||{events:["blur","cut","paste","change"],onSet:"onSet"};this.after("initialize",function(){var d=a&&a.bindings||this.bindings;if(!d)throw new Error("Bindings missing");b.each(b.keys(d),function(a){var e=d[a];b.isString(e)&&(e=b.extend({observe:e},c),d[a]=e)}),this.bindings=d}),this.setDefaults({onSet:function(a,b){return a}})};c.Backbone.Mixins.withStickit=function(a){this.mixin(g,a),this.after("render",function(){this.stickit()})},c.Backbone.Mixins.withStickitForMarionette=function(a){this.mixin(g,a),this.before("onRender",function(){this.stickit()}),this.after("onShow",function(){this.stickit()})},c.Backbone.Mixins.withInputValidation=function(){this.after("initialize",function(){if(!this.model)throw new Error("Missing model");c.Backbone.Validation.bind(this,{forceUpdate:!0}),b.bindAll(this,"displayValidationErrors","handleFormLevelError","resetValidationErrors","bindValidationToEvent"),this.errors={}}),this.around("onSet",function(a,b,c){b=a(b,c);var d=this.model.preValidate(c.observe,b);return!d||!b&&this.ignoreEmptyValues()?this.hideFieldValidationError(c.observe):this.showFieldValidationError(c.observe,d),b}),this.setDefaults({ignoreEmptyValues:function(){return!0},handleFormLevelError:function(a){e.Events.trigger("pageNotification",{type:"error",messages:[a]})},getSelectorForAttr:function(a){return b.find(b.keys(this.bindings),function(b){return this.bindings[b].observe===a?b:void 0},this)},get$InputForAttr:function(a){return this.$(this.getSelectorForAttr(a))},get$ErrorMessageForAttr:function(a){return this.$(".js-error-for-"+a)},showFieldValidationError:function(a,b){this.get$InputForAttr(a).addClass("has-form-input-error"),this.get$ErrorMessageForAttr(a).removeClass("is-hidden").html(b),this.errors[a]=b},hideFieldValidationError:function(a){this.get$InputForAttr(a).removeClass("has-form-input-error"),this.get$ErrorMessageForAttr(a).addClass("is-hidden").html(""),this.errors[a]&&delete this.errors[a]},displayValidationErrors:function(a){this.errors=a,b.each(a,function(c,d){if(a.hasOwnProperty(d)){if(b.isArray(c)&&c.length>0&&(c=c[0]),"__all__"===d)return void this.handleFormLevelError(c);this.showFieldValidationError(d,c),this.model.once("change:"+d,b.bind(function(){this.hideFieldValidationError(d)},this))}},this),b.isEmpty(a)||this.postDisplayValidationErrorsHook(a)},resetValidationErrors:function(){b.isEmpty(this.errors)||(b.each(this.errors,function(a,b){this.errors.hasOwnProperty(b)&&this.hideFieldValidationError(b)},this),this.errors={})},validateView:function(){var a=this.model.validate(void 0,{forceUpdate:!1});return a?(this.displayValidationErrors(a),this.$(".form__field-error").not(":empty").length>0&&this.trigger("validationFail",a),!0):(this.trigger("validationSuccess"),!1)},bindValidationToEvent:function(a,b,c){this.listenTo(a,b,function(){this.onSet(a.get(c),{observe:c})})},postDisplayValidationErrorsHook:function(a){}})},c.Backbone.Mixins.collectionView=function(c){if(!c.containerSelector)throw new Error("Missing container selector");if(!c.viewClass)throw new Error("Missing View Class");this.setDefaults({handleModelAdded:function(a){var c,d;d=this.viewParameters||{},d.model=a,c=new this.viewClass(d),c.$el.data("cid",a.cid),this.modelCIDViewMap[a.cid]=c,this.container.append(c.render().el),1===b.size(this.modelCIDViewMap)&&this.handleFirstViewAdded(c),this.handleViewAdded(c,a)},handleModelDeleted:function(a){var b=this.modelCIDViewMap[a.cid];delete this.modelCIDViewMap[a.cid],this.collection.length<1&&this.handleNoViews(),this.handleViewRemoved(b)},renderView:function(a){var b=this.modelCIDViewMap[a.cid];this.container.append(b.render().el)},handleFirstViewAdded:function(a){},handleNoViews:function(){},handleViewAdded:function(a,b){},handleViewRemoved:function(a){}}),this.after("initialize",function(){if(b.bindAll(this,"handleModelAdded","handleModelDeleted","renderView","handleFirstViewAdded","handleNoViews","handleViewAdded","handleViewRemoved"),this.modelCIDViewMap={},this.viewClass=c.viewClass,!this.collection||!c.collectionClass)throw new Error("Missing collection");this.collection=this.collection||c.collectionClass({}),this.listenTo(this.collection,"add",this.handleModelAdded),this.listenTo(this.collection,"remove",this.handleModelDeleted)}),this.after("render",function(){this.container=a("<div>"),this.collection.each(this.handleModelAdded),this.$(c.containerSelector).append(this.container),this.trigger("collection:rendered")})},c.Backbone.Mixins.sortableCollectionView=function(d){if(!d.handle)throw new Error("Missing handle");this.mixin([c.Backbone.Mixins.collectionView],{containerSelector:d.containerSelector,viewClass:d.viewClass,collectionClass:d.collectionClass}),this.setDefaults({handleViewMoved:function(){this.container.children().each(this.setModelIndex),this.collection.sort()},setModelIndex:function(b,c){var d=a(c).data("cid");this.collection.get(d).set("index",b)}}),this.after("initialize",function(){b.bindAll(this,"handleViewMoved","setModelIndex")}),this.after("render",function(){this.container.on("sortstop",this.handleViewMoved),this.container.sortable({axis:"y",containment:"parent",handle:d.handle,tolerance:"pointer",zIndex:6,cursor:"pointer"})})},c.Backbone.Mixins.withDynamicFormPost=function(){this.setDefaults({dynamicFormPost:function(b,c){var d=a('<form action="'+b+'" method="POST"></form>'),e;for(e in c)c.hasOwnProperty(e)&&d.append(a('<input type="hidden" name="'+e+'" value="'+c[e]+'"/>'));d.appendTo(this.$el).trigger("submit")}}),this.after("initialize",function(){b.bindAll(this,"dynamicFormPost")})},c.Backbone.Mixins.disabledInputs=function(){this.setDefaults({disableInputs:function(){this.$("btn").addClass("btn--disabled"),this.$("input").prop("disabled",!0),this.$("textarea").prop("disabled",!0),this.$("select").prop("disabled",!0)}}),this.after("initialize",function(){b.bindAll(this,"disableInputs")})},c.Backbone.Mixins.sortableByIndex=function(){this.setDefaults({comparator:function(a){return a.get("index")},handleModelAdd:function(a){this.maxIndex+=1,a.set("index",this.maxIndex)},handleModelRemove:function(){this.maxIndex-=1,this.setIndexes()},setIndexes:function(){this.each(function(a,b){a.set("index",b)})}}),this.after("initialize",function(){b.bindAll(this,"handleModelAdd","handleModelRemove","setIndexes"),this.maxIndex=-1,this.on("add",this.handleModelAdd),this.on("remove",this.handleModelRemove)}),this.after("reset",function(){this.setIndexes(),this.maxIndex=this.length-1})},c.Backbone.Mixins.autocompleteHelpers=function(){this.setDefaults({_highlightText:function(b,c){var d=new RegExp("("+a.ui.autocomplete.escapeRegex(c)+")","ig");return b.replace(d,'<span class="text-body--significant">$1</span>')},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").html(c.label)).appendTo(b)},_populateAutocomplete:function(){a(this).autocomplete("search")}})},"function"==typeof define&&define("eb/backbone/mixins",["backbone_advice","backbone_stickit","backbone_validation"],function(a){return f(a,c.Backbone),f(a,e),c.Backbone.Mixins})}(window.jQuery,window._,window.EB,window.Handlebars,window.Backbone),/* jshint ignore:start */
//
// backbone.stickit - v0.8.0
// The MIT License
// Copyright (c) 2012 The New York Times, CMS Group, Matthew DeLambo <delambo@gmail.com> 
//
// Backbone.Stickit v0.8.0, MIT Licensed
// Copyright (c) 2012 The New York Times, CMS Group, Matthew DeLambo <delambo@gmail.com>
function(a,b,c){c._handlers=[],c.addHandler=function(b){b=a.map(a.flatten([b]),function(b){return a.extend({updateModel:!0,updateView:!0,updateMethod:"text"},b)}),this._handlers=this._handlers.concat(b)},c.ViewMixin={_modelBindings:null,unstickit:function(b,c){if(a.isObject(c))return void a.each(a.keys(c),function(a){this.unstickit(b,a)},this);var d=[],e=[];a.each(this._modelBindings,function(a,f){b&&a.model!==b||c&&a.config.selector!=c||(e.push(a.config._destroy),a.model.off(a.event,a.fn),d.push(a.model),delete this._modelBindings[f])},this),a.invoke(a.uniq(d),"trigger","stickit:unstuck",this.cid),a.each(a.uniq(e),function(a){a.call(this)},this),this._modelBindings=a.compact(this._modelBindings),this.$el.off(".stickit"+(b?"."+b.cid:""),c)},stickit:function(b,c){var d=b||this.model,e=c||a.result(this,"bindings")||{};this._modelBindings||(this._modelBindings=[]),this.addBinding(d,e);var f=this.remove;f.stickitWrapped||(this.remove=function(){var a=this;return this.unstickit(),f&&(a=f.apply(this,arguments)),a}),this.remove.stickitWrapped=!0},addBinding:function(b,c,d){var f,o,p,q,r,s=b||this.model,t=".stickit."+s.cid,u=d||{},v=a.uniqueId();if(!a.isString(c)){var w=c;return void a.each(w,function(a,b){this.addBinding(s,b,w[b])},this)}r=c,f=":el"===r?this.$el:this.$(r),this.unstickit(s,r),f.length&&(a.isString(u)&&(u={observe:u}),a.isFunction(u.observe)&&(u.observe=u.observe.call(this)),q=k(f,u),q.selector=r,p=q.observe,q.bindId=v,q.view=this,o=a.extend({stickitChange:q},q.setOptions),q._destroy=function(){e(this,q.destroy,f,s,q)},l(this,f,q,s,p),m(this,f,q,s,p),p&&(a.each(q.events,function(b){var c=b+t,d=function(b){var c=q.getVal.call(this,f,b,q,a.rest(arguments));g(this,q.updateModel,c,b,q)&&i(s,p,c,o,this,q)};d=a.bind(d,this),":el"===r?this.$el.on(c,d):this.$el.on(c,r,d)},this),a.each(a.flatten([p]),function(a){h(s,this,"change:"+a,q,function(a,b,c){var d=c&&c.stickitChange&&c.stickitChange.bindId||null;d!==v&&n(this,f,q,j(a,p,q,this),a)})},this),n(this,f,q,j(s,p,q,this),s,!0)),e(this,q.initialize,f,s,q))}},a.extend(b.View.prototype,c.ViewMixin);var d=function(b,c){var d=(c||"").split("."),e=a.reduce(d,function(a,b){return a[b]},b);return null==e?b:e},e=function(b,c){return c?(a.isString(c)?d(b,c):c).apply(b,a.rest(arguments,2)):void 0},f=function(a){return a.find("option").not(function(){return!this.selected})},g=function(b,c){return a.isBoolean(c)?c:a.isFunction(c)||a.isString(c)?e.apply(this,arguments):!1},h=function(a,b,c,d,e){a.on(c,e,b),b._modelBindings.push({model:a,event:c,fn:e,config:d})},i=function(b,c,d,f,g,h){var i={};h.onSet&&(d=e(g,h.onSet,d,h)),h.set?e(g,h.set,c,d,f,h):(i[c]=d,a.isArray(c)&&a.isArray(d)&&(i=a.reduce(c,function(b,c,e){return b[c]=a.has(d,e)?d[e]:null,b},{})),b.set(i,f))},j=function(b,c,d,f){var g,h=function(a){return b[d.escape?"escape":"get"](a)},i=function(a){return null==a?"":a};return g=a.isArray(c)?a.map(c,h):h(c),d.onGet&&(g=e(f,d.onGet,g,d)),a.isArray(g)?a.map(g,i):i(g)},k=c.getConfiguration=function(b,d){var e=[{updateModel:!1,updateMethod:"text",update:function(a,b,c,d){a[d.updateMethod]&&a[d.updateMethod](b)},getVal:function(a,b,c){return a[c.updateMethod]()}}];e=e.concat(a.filter(c._handlers,function(a){return b.is(a.selector)})),e.push(d);var f=a.extend.apply(a,e);return f.visible&&!a.has(f,"updateView")?f.updateView=!1:a.has(f,"updateView")||(f.updateView=!0),f},l=function(b,c,d,e,f){var g=["autofocus","autoplay","async","checked","controls","defer","disabled","hidden","indeterminate","loop","multiple","open","readonly","required","scoped","selected"];a.each(d.attributes||[],function(i){var k="",l,m;i=a.clone(i),l=i.observe||(i.observe=f),m=function(){var d=a.indexOf(g,i.name,!0)>-1?"prop":"attr",f=j(e,l,i,b);"class"===i.name?(c.removeClass(k).addClass(f),k=f):c[d](i.name,f)},a.each(a.flatten([l]),function(a){h(e,b,"change:"+a,d,m)}),m()})},m=function(b,c,d,f,g){if(null!=d.visible){var i=function(){var h=d.visible,i=d.visibleFn,k=j(f,g,d,b),l=!!k;(a.isFunction(h)||a.isString(h))&&(l=!!e(b,h,k,d)),i?e(b,i,c,l,d):c.toggle(l)};a.each(a.flatten([g]),function(a){h(f,b,"change:"+a,d,i)}),i()}},n=function(a,b,c,d,f,h){g(a,c.updateView,d,c)&&(e(a,c.update,b,d,f,c),h||e(a,c.afterUpdate,b,d,c))};return c.addHandler([{selector:'[contenteditable="true"]',updateMethod:"html",events:["input","change"]},{selector:"input",events:["propertychange","input","change"],update:function(a,b){a.val(b)},getVal:function(a){return a.val()}},{selector:"textarea",events:["propertychange","input","change"],update:function(a,b){a.val(b)},getVal:function(a){return a.val()}},{selector:'input[type="radio"]',events:["change"],update:function(a,b){a.filter('[value="'+b+'"]').prop("checked",!0)},getVal:function(a){return a.filter(":checked").val()}},{selector:'input[type="checkbox"]',events:["change"],update:function(c,d,e,f){if(c.length>1)d||(d=[]),c.each(function(c,e){var f=b.$(e),g=a.indexOf(d,f.val())>-1;f.prop("checked",g)});else{var g=a.isBoolean(d)?d:d===c.val();c.prop("checked",g)}},getVal:function(c){var d;if(c.length>1)d=a.reduce(c,function(a,c){var d=b.$(c);return d.prop("checked")&&a.push(d.val()),a},[]);else{d=c.prop("checked");var e=c.val();"on"!==e&&null!=e&&(d=d?c.val():null)}return d}},{selector:"select",events:["change"],update:function(c,f,g,h){var i,j=h.selectOptions,k=j&&j.collection||void 0,l=c.prop("multiple");if(!j){j={};var m=function(a){return a.map(function(){return{value:this.value,label:this.text}}).get()};c.find("optgroup").length?(k={opt_labels:[]},c.find("> option").length&&(k.opt_labels.push(void 0),a.each(c.find("> option"),function(a){k[void 0]=m(b.$(a))})),a.each(c.find("optgroup"),function(a){var c=b.$(a).attr("label");k.opt_labels.push(c),k[c]=m(b.$(a).find("option"))})):k=m(c.find("option"))}j.valuePath=j.valuePath||"value",j.labelPath=j.labelPath||"label";var n=function(c,e,f){a.each(c,function(c){var g=b.$("<option/>"),h=c,i=function(b,c){g.text(b),h=c,g.data("stickit_bind_val",h),a.isArray(h)||a.isObject(h)||g.val(h)};"__default__"===c?i(j.defaultOption.label,j.defaultOption.value):i(d(c,j.labelPath),d(c,j.valuePath)),!l&&null!=h&&null!=f&&h===f||a.isObject(f)&&a.isEqual(h,f)?g.prop("selected",!0):l&&a.isArray(f)&&a.each(f,function(b){a.isObject(b)&&(b=d(b,j.valuePath)),(b===h||a.isObject(b)&&a.isEqual(h,b))&&g.prop("selected",!0)}),e.append(g)})};c.find("*").remove();var o=function(a,b){var c=window;return 0===b.indexOf("this.")&&(c=a),b=b.replace(/^[a-z]*\.(.+)$/,"$1"),d(c,b)};if(i=a.isString(k)?o(this,k):a.isFunction(k)?e(this,k,c,h):k,i instanceof b.Collection&&(i=i.toJSON()),j.defaultOption&&n(["__default__"],c),a.isArray(i))n(i,c,f);else if(i.opt_labels)a.each(i.opt_labels,function(a){var d=b.$("<optgroup/>").attr("label",a);n(i[a],d,f),c.append(d)});else{var p=[],q;for(var r in i)q={},q[j.valuePath]=r,q[j.labelPath]=i[r],p.push(q);n(a.sortBy(p,j.comparator||j.labelPath),c,f)}},getVal:function(a){var c;return c=a.prop("multiple")?b.$(f(a).map(function(){return b.$(this).data("stickit_bind_val")})).get():f(a).data("stickit_bind_val")}}]),b.Stickit=c,b.Stickit}(_,Backbone,{}),// Backbone.Validation v0.8.0
//
// Copyright (c) 2011-2013 Thomas Pedersen
// Distributed under MIT License
//
// Documentation and full license available at:
// http://thedersen.com/projects/backbone-validation
Backbone.Validation=function(a){"use strict";var b={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},c={formatLabel:function(a,c){return i[b.labelFormatter](a,c)},format:function(){var a=Array.prototype.slice.call(arguments),b=a.shift();return b.replace(/\{(\d+)\}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})}},d=function(b,c,e){return c=c||{},e=e||"",a.each(b,function(a,f){b.hasOwnProperty(f)&&(a&&"object"==typeof a&&!(a instanceof Date||a instanceof RegExp||a instanceof Backbone.Model||a instanceof Backbone.Collection)?d(a,c,e+f+"."):c[e+f]=a)}),c},e=function(){var e=function(b){return a.reduce(a.keys(b.validation||{}),function(a,b){return a[b]=void 0,a},{})},g=function(b,c){var d=b.validation?b.validation[c]||{}:{};return(a.isFunction(d)||a.isString(d))&&(d={fn:d}),a.isArray(d)||(d=[d]),a.reduce(d,function(b,c){return a.each(a.without(a.keys(c),"msg"),function(a){b.push({fn:j[a],val:c[a],msg:c.msg})}),b},[])},h=function(b,d,e,f){return a.reduce(g(b,d),function(g,h){var i=a.extend({},c,j),k=h.fn.call(i,e,d,h.val,b,f);return k===!1||g===!1?!1:k&&!g?h.msg||k:g},"")},i=function(b,c){var e,f={},g=!0,i=a.clone(c),j=d(c);return a.each(j,function(a,c){e=h(b,c,a,i),e&&(f[c]=e,g=!1)}),{invalidAttrs:f,isValid:g}},k=function(b,c){return{preValidate:function(b,c){return h(this,b,c,a.extend({},this.attributes))},isValid:function(b){var c=d(this.attributes);return a.isString(b)?!h(this,b,c[b],a.extend({},this.attributes)):a.isArray(b)?a.reduce(b,function(b,d){return b&&!h(this,d,c[d],a.extend({},this.attributes))},!0,this):(b===!0&&this.validate(),this.validation?this._isValid:!0)},validate:function(f,g){var h=this,j=!f,k=a.extend({},c,g),l=e(h),m=a.extend({},l,h.attributes,f),n=d(f||m),o=i(h,m);return h._isValid=o.isValid,a.each(l,function(a,c){var d=o.invalidAttrs.hasOwnProperty(c);d||k.valid(b,c,k.selector)}),a.each(l,function(a,c){var d=o.invalidAttrs.hasOwnProperty(c),e=n.hasOwnProperty(c);d&&(e||j)&&k.invalid(b,c,o.invalidAttrs[c],k.selector)}),a.defer(function(){h.trigger("validated",h._isValid,h,o.invalidAttrs),h.trigger("validated:"+(h._isValid?"valid":"invalid"),h,o.invalidAttrs)}),!k.forceUpdate&&a.intersection(a.keys(o.invalidAttrs),a.keys(n)).length>0?o.invalidAttrs:void 0}}},l=function(b,c,d){a.extend(c,k(b,d))},m=function(a){delete a.validate,delete a.preValidate,delete a.isValid},n=function(a){l(this.view,a,this.options)},o=function(a){m(a)};return{version:"0.8.0",configure:function(c){a.extend(b,c)},bind:function(c,d){var e=c.model,g=c.collection;if(d=a.extend({},b,f,d),"undefined"==typeof e&&"undefined"==typeof g)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";e?l(c,e,d):g&&(g.each(function(a){l(c,a,d)}),g.bind("add",n,{view:c,options:d}),g.bind("remove",o))},unbind:function(a){var b=a.model,c=a.collection;b&&m(a.model),c&&(c.each(function(a){m(a)}),c.unbind("add",n),c.unbind("remove",o))},mixin:k(null,b)}}(),f=e.callbacks={valid:function(a,b,c){a.$("["+c+'~="'+b+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(a,b,c,d){a.$("["+d+'~="'+b+'"]').addClass("invalid").attr("data-error",c)}},g=e.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},h=e.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",pattern:"{0} must be a valid {1}"},i=e.labelFormatters={none:function(a){return a},sentenceCase:function(a){return a.replace(/(?:^\w|[A-Z]|\b\w)/g,function(a,b){return 0===b?a.toUpperCase():" "+a.toLowerCase()}).replace("_"," ")},label:function(a,b){return b.labels&&b.labels[a]||i.sentenceCase(a,b)}},j=e.validators=function(){var b=String.prototype.trim?function(a){return null===a?"":String.prototype.trim.call(a)}:function(a){var b=/^\s+/,c=/\s+$/;return null===a?"":a.toString().replace(b,"").replace(c,"")},c=function(b){return a.isNumber(b)||a.isString(b)&&b.match(g.number)},d=function(c){return!(a.isNull(c)||a.isUndefined(c)||a.isString(c)&&""===b(c))};return{fn:function(b,c,d,e,f){return a.isString(d)&&(d=e[d]),d.call(e,b,c,f)},required:function(b,c,e,f,g){var i=a.isFunction(e)?e.call(f,b,c,g):e;return i||d(b)?i&&!d(b)?this.format(h.required,this.formatLabel(c,f)):void 0:!1},acceptance:function(b,c,d,e){return"true"===b||a.isBoolean(b)&&b!==!1?void 0:this.format(h.acceptance,this.formatLabel(c,e))},min:function(a,b,d,e){return!c(a)||d>a?this.format(h.min,this.formatLabel(b,e),d):void 0},max:function(a,b,d,e){return!c(a)||a>d?this.format(h.max,this.formatLabel(b,e),d):void 0},range:function(a,b,d,e){return!c(a)||a<d[0]||a>d[1]?this.format(h.range,this.formatLabel(b,e),d[0],d[1]):void 0},length:function(a,c,e,f){return d(a)&&b(a).length===e?void 0:this.format(h.length,this.formatLabel(c,f),e)},minLength:function(a,c,e,f){return!d(a)||b(a).length<e?this.format(h.minLength,this.formatLabel(c,f),e):void 0},maxLength:function(a,c,e,f){return!d(a)||b(a).length>e?this.format(h.maxLength,this.formatLabel(c,f),e):void 0},rangeLength:function(a,c,e,f){return!d(a)||b(a).length<e[0]||b(a).length>e[1]?this.format(h.rangeLength,this.formatLabel(c,f),e[0],e[1]):void 0},oneOf:function(b,c,d,e){return a.include(d,b)?void 0:this.format(h.oneOf,this.formatLabel(c,e),d.join(", "))},equalTo:function(a,b,c,d,e){return a!==e[c]?this.format(h.equalTo,this.formatLabel(b,d),this.formatLabel(c,d)):void 0},pattern:function(a,b,c,e){return d(a)&&a.toString().match(g[c]||c)?void 0:this.format(h.pattern,this.formatLabel(b,e),c)}}}();return e}(_),/* ===========================================================
 * bootstrap-tooltip.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f,g,h,i;for(this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,g=this.options.trigger.split(" "),i=g.length;i--;)h=g[i],"click"==h?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):"manual"!=h&&(e="hover"==h?"mouseenter":"focus",f="hover"==h?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a.fn[this.type].defaults,d={},e;return this._options&&a.each(this._options,function(a,b){c[a]!=b&&(d[a]=b)},this),e=a(b.currentTarget)[this.type](d).data(this.type),e.options.delay&&e.options.delay.show?(clearTimeout(this.timeout),e.hoverState="in",void(this.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show))):e.show()},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),c.options.delay&&c.options.delay.hide?(c.hoverState="out",void(this.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide))):c.hide()},show:function(){var b,c,d,e,f,g,h=a.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(h),h.isDefaultPrevented())return;switch(b=this.tip(),this.setContent(),this.options.animation&&b.addClass("fade"),f="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,b.detach().css({top:0,left:0,display:"block"}),this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element),c=this.getPosition(),d=b[0].offsetWidth,e=b[0].offsetHeight,f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}this.applyPlacement(g,f),this.$element.trigger("shown")}},applyPlacement:function(a,b){var c=this.tip(),d=c[0].offsetWidth,e=c[0].offsetHeight,f,g,h,i;c.offset(a).addClass(b).addClass("in"),f=c[0].offsetWidth,g=c[0].offsetHeight,"top"==b&&g!=e&&(a.top=a.top+e-g,i=!0),"bottom"==b||"top"==b?(h=0,a.left<0&&(h=-2*a.left,a.left=0,c.offset(a),f=c[0].offsetWidth,g=c[0].offsetHeight),this.replaceArrow(h-d+f,f,"left")):this.replaceArrow(g-e,g,"top"),i&&c.offset(a)},replaceArrow:function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){d.off(a.support.transition.end).detach()},500);d.one(a.support.transition.end,function(){clearTimeout(b),d.detach()})}var c=this,d=this.tip(),e=a.Event("hide");return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():d.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;c.tip().hasClass("in")?c.hide():c.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f="object"==typeof c&&c;e||d.data("tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),window.EB=window.EB||{},EB.util=function(a,b){"use strict";var c=/(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?/,d=/(?:(.+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?/;return{truncate:function(a,b){return"string"!=typeof a?"":b>3&&a.length>b?a.slice(0,b-3)+"...":a},sort:function(a){return a.split("").sort().join("")},getCookie:function(b){var c=null;if(document.cookie&&""!==document.cookie)for(var d=document.cookie.split(";"),e=0;e<d.length;e++){var f=a.trim(d[e]);if(f.substring(0,b.length+1)===b+"="){c=decodeURIComponent(f.substring(b.length+1));break}}return c},unshuffle:function(a,b){var c={},d;a=a.toLowerCase(),d=this.sort(a);for(var e=0;e<b.length;e++){var f=b[e].toLowerCase();c[this.sort(f)]=f}return c.hasOwnProperty(d)?c[d]:a},parseUrl:function(a,b){var e={},f=["url","scheme","slash","host","port","path","query","fragment"],g=b?d.exec(a):c.exec(a);if(null!==g)for(var h=0;h<f.length;h++)e[f[h]]=g[h];return e},looksLikeUrl:function(a){var c=b.util.parseUrl(a,!0),d;return c.scheme?!0:!!(c.host&&(d=c.host.split("."),d.length>1&&""!==d[1]))},scrollToElement:function(b){var c=b.offset();c&&c.top&&a("body, html").animate({scrollTop:c.top-25})},htmlEscape:function(a){return jQuery("<div/>").text(a).html().replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")},h:function(a){var b,c={},d=96,e=27;if(arguments.length>e)throw new Error("EB.Util.h received too many arguments. Got: "+arguments.length);for(var f=1;f<arguments.length;f++)c[String.fromCharCode(d+f)]=arguments[f];return(b=Handlebars.compile(a))(c)}}}(window.jQuery,EB),// NOTE: ReviewBoard is required for any changes to this file.
function(a,b,c,d,e){"use strict";b.ComponentFactory=function(){},d.extend(b.ComponentFactory.prototype,{bindMethods:function(a,b){d.each(a,function(a,c,e){"function"==typeof a&&(e[c]=d.bind(a,b))})},createComponent:function(a){var b=d.extend({},e.Events),c=d.clone(this.commands)||{},f=d.clone(this.requests)||{},g=d.clone(this.componentMethods)||{},h=d.clone(this.sandbox)||{};return this.preCreate.call(b,a),b.sandbox=h,b.commands=new e.Wreqr.Commands,b.reqres=new e.Wreqr.RequestResponse,this.bindMethods(c,b),this.bindMethods(f,b),this.bindMethods(g,b),b=d.extend(b,g),b.commands.setHandlers(c),b.reqres.setHandlers(f),b.sandbox.execute=d.bind(b.commands.execute,b.commands),b.sandbox.request=d.bind(b.reqres.request,b.reqres),b.start=d.bind(this.start,b),b.stop=d.bind(this.stop,b),this.postCreate.call(b,a),b},create:function(a){var b=this.createComponent(a);return this.initialize.call(b,a),b},preCreate:function(){},postCreate:function(){},initialize:function(){},start:function(){},stop:function(){}}),b.ComponentFactory.extend=e.Model.extend,b.ComponentFactory.create=function(a){return(new this).create(a)},"function"==typeof define&&define("eb/_backbone/component_factory",function(a){a("backbone_wreqr");var c=a("backbone_advice");return c.addMixin(b.ComponentFactory),b.ComponentFactory})}(jQuery,EB,window,window._,window.Backbone),// NOTE: ReviewBoard is required for any changes to this file.
function(a,b,c,d,e){"use strict";b.Backbone=b.Backbone||e,b.Backbone.Stickit=d.extend(e.Stickit,{})}(jQuery,EB,window,window._,window.Backbone),// NOTE: ReviewBoard is required for any changes to this file.
function(a,b,c,d,e){"use strict";b.Backbone=b.Backbone||e,b.Backbone.Validation=d.extend(e.Validation,{}),d.extend(b.Backbone.Validation.messages,{required:c.gettext("Missing field")}),d.extend(b.Backbone.Validation.validators,{creditCardNumber:function(a,c,e,f){if(a){a=a.replace(/\s/g,"");var g=b.CreditCard.cardTypeForNumber(a);return b.CreditCard.validateCardAsType(a,g)?f.getAcceptedCreditCardTypes&&!d.contains(f.getAcceptedCreditCardTypes(),g)?"Credit card type not supported":void 0:"Please enter a valid card number"}},creditCardExpiration:function(a,b,c,d){if(a){var e=d.get("card_data_expiry_0"),f=d.get("card_data_expiry_1"),g,h=(new Date).valueOf();return"card_data_expiry_0"===b&&(e=a),"card_data_expiry_1"===b&&(f=a),g=new Date(f+"/"+e+"/30").valueOf(),e&&f&&h>g?"Please enter a valid expiration date":void 0}},creditCardCVV:function(a,c,d,e){if(a){var f=e.get("card_data_type");return f===b.CreditCard.CARD_TYPES.AMEX&&(a.length<4||a.length>4)?"CVV must be 4 digits":f!==b.CreditCard.CARD_TYPES.AMEX&&(a.length<3||a.length>3)?"CVV must be 3 digits":void 0}}}),d.extend(b.Backbone.Validation.patterns,{sqlDateTime:/\d{4}-\d{2}-\d{2}\s\d{2}:\d{2}:\d{2}/})}(jQuery,EB,window,window._,window.Backbone),function(a,b,c){"use strict";"object"==typeof b.Advice&&"undefined"!=typeof c&&"function"!=typeof c.Controller.mixin&&b.Advice.addMixin(c.Controller),a.App=new c.Application}(window.EB,window.Backbone,window.Marionette),function(a,b,c,d,e){"use strict";c.namespace("CreatePage"),c.CreatePage.trackError||(c.CreatePage.trackError=function(){}),c.namespace("Models"),c.Models.TicketModel=c.Backbone.Model.extend({defaults:{name:"",description:"",show_description:!1,quantity:"",paymentType:"paid",taxApplies:!1,tax:0,total:0,fee:0,currencySymbol:"$",feeAbsorb:"0",hidden:!1,auto_hide:!1,auto_hide_until:!1,auto_hide_after:!1,order_min:1,order_limit:e,hasAttendees:!1,canBeATD:!0,ebTaxName:"VAT",endSalesRelativeTime:"1",endSalesRelativeType:"hours",endSalesRelativeTo:"start_time",available_online:!0,available_atd:!0,sales_channel_option:"everywhere"},config:{minYearAllowed:1900,salesChannelAtd:"atd",salesChannelEverywhere:"everywhere",salesChannelOnline:"online"},validation:{name:[{fn:function(a){return a.length<1?(c.CreatePage.trackError("ticket_name_required"),d.gettext("Ticket name is required")):a.length>255?(c.CreatePage.trackError("ticket_name_too_long"),d.gettext("Ensure this value has at most 255 characters.")):void 0}}],quantity:[{fn:function(a){var e=Number(a),f=c.featureFlags&&c.featureFlags.allowTicketQuantityZero;return""===a&&(a="0"),b.isNaN(e)||(e=parseInt(e,10)),this.isDonation()?this.get("hasAttendees")&&!this.wasUnlimitedDonation&&(b.isNaN(e)||1>e)?(c.CreatePage.trackError("donation_unlimited_after_sales"),d.gettext('You\'ve begun selling donation tickets, you cannot make this ticket unlimited. If you want to make donations unlimited, hide this ticket and create a new donation ticket with "0" entered for the quantity.')):void 0:!f&&(b.isNaN(e)||1>e)?(c.CreatePage.trackError("quantity_not_a_number"),d.gettext("Please enter a number")):e>5e5?(c.CreatePage.trackError("quantity_too_high"),d.gettext("Enter a number less than 500,000")):void 0}}],order_min:[{fn:function(a){var e=parseInt(a,10);return b.isNaN(e)||0>e?(c.CreatePage.trackError("order_min_invalid_number"),d.gettext("Please enter a valid number.")):void 0}}],order_limit:[{fn:function(a){var e=parseInt(a,10);if(!b.isNaN(e))return 0>e||e<this.get("order_min")?(c.CreatePage.trackError("order_limit_invalid_number"),d.gettext("Please enter a valid number.")):"donation"!=this.get("paymentType")&&e>100?(c.CreatePage.trackError("order_limit_invalid_number"),d.gettext("The maximum tickets allowed per order is 100.")):void 0}}],endSalesRelativeTime:[{fn:function(a){if(this.eventModel.get("is_series")){if(a&&(a=Number(a.replace(",","."))),isNaN(a))return c.CreatePage.trackError("series_end_sales_relative_time_required"),d.gettext("Please enter a number");if(0>=a)return c.CreatePage.trackError("series_end_sales_relative_time_less_than_1"),d.gettext("Please enter a number greater than 0");if(a>c.Models.TicketModel.MAX_RELATIVE_END_SALES)return c.CreatePage.trackError("series_end_sales_relative_time_too_high"),d.gettext("Please enter a number less than or equal to "+c.Models.TicketModel.MAX_RELATIVE_END_SALES)}}}],ticketPrice:[{fn:function(a){var e,f,g,h=c.CreatePage.featureFlags.hasMillionDollarMax?11e5:999999.99;if("paid"===this.get("paymentType")){if(e=this.get("feeAbsorb"),f=parseFloat(this.get("fee")),g=parseFloat(a),a&&(a=a.replace(",",".")),b.isNumber(g)&&0>g)return c.CreatePage.trackError("ticket_price_required"),d.gettext("Ensure this value is greater than or equal to 0");if(b.isNaN(Number(a)))return c.CreatePage.trackError("ticket_price_required"),d.gettext("Please enter a number");if(Number(a)>h)return c.CreatePage.trackError("ticket_price_too_high"),d.gettext("Ensure this value is less than or equal to %(max)s",{max:h});if(e===c.Models.TicketModel.FEE_ABSORB&&g>0&&f>g)return c.CreatePage.trackError("ticket_price_not_greater_than_fee"),d.gettext("When absorbing fees, the price must be greater than the fee")}}}],salesStartDate:[{pattern:"sqlDateTime",msg:d.gettext("Please enter a valid date")},{fn:function(a){var b=c.Date.fromSql(a);return b&&b.getFullYear()<this.config.minYearAllowed?(c.CreatePage.trackError("ticket_date_too_old"),d.gettext("Dates before year 1900 are not allowed")):void 0}}],salesEndDate:[{pattern:"sqlDateTime",msg:d.gettext("Please enter a valid date")},{fn:function(a){var b=c.Date.fromSql(a),e=c.Date.fromSql(this.get("salesStartDate"));return!this.eventModel.get("is_repeating")&&!this.eventModel.get("is_series")&&e&&e>b?(c.CreatePage.trackError("sales_end_time_before_sales_start_time"),d.gettext("Sales end time must be after the sales start time")):void 0}}]},initialize:function(a){var d=c.Intl.formatMoney("0.00");b.bindAll(this,"setCanBeATD","calculateFees","handleTicketsSoldSuccess","handleTicketsSoldSuccessEdit","failDeleteWithLastTicketError","handleEventStartDateChange","handleSalesStartDateChange","handleTaxOnFeesChange","isLiveAndLastTicket","isSalesChannel","isFeeOptionAvailable","isPassOnATDFeeAvailableInPayoutCurrency"),this.eventModel=a.eventModel,this.currencyModel=a.currencyModel,this.taxModel=a.taxModel,this.set({formattedTotal:d,formattedATDTotal:d,formattedFee:d,formattedATDFee:d,formattedTax:d,formattedCost:d,formattedCCFee:d,formattedEbTax:d}),this.setCanBeATD(),this.listenTo(this.eventModel,"change:repeating",this.setCanBeATD),this.listenTo(this.currencyModel,"change:currency",this.setCanBeATD),this.listenTo(this.currencyModel,"change:country",this.setCanBeATD),("free"!==this.get("paymentType")||c.featureFlags&&c.featureFlags.allowFreeTicketConversionToPaid===!0)&&(this.calculateFees=b.debounce(this.calculateFees,100),this.calculateFees(),this.on("change:available_atd change:available_online change:sales_channel_option change:feeAbsorb change:ticketPrice change:taxApplies",this.calculateFees),this.listenTo(this.currencyModel,"change:currency",this.calculateFees),this.listenTo(this.taxModel,"change:taxPercent change:taxIsIncluded change:taxEnabled change:appliesToAllTickets change:organizerTaxStatus change:radioIsExempt",this.calculateFees),this.listenTo(this.eventModel,"change:tax_on_fees_enabled",this.handleTaxOnFeesChange),this.on("change:sales_channel_option",this.setCanBeATD),this.on("change:sales_channel_option",this.updateSalesChannel)),this.initializeDefaultDates(),this.listenTo(this.currencyModel,"change:currency change:country",this.calculateFees),this.listenTo(this.eventModel,"change:start_date",this.handleEventStartDateChange),this.listenTo(this.eventModel,"change:is_repeating",this.handleEventRepeatingChange),this.wasUnlimitedDonation=this.isUnlimitedDonation(),this.set("passATDFeeDate",c.Intl.formatDate(c.Date.fromSql(this.taxModel.get("passATDFeeDate"))))},initializeDefaultDates:function(){var a=this.getHourBeforeEventStart(),b=this.get("sqlNow"),d,e;this.get("salesStartDate")||(e=c.Date.fromSql(this.get("salesEndDate")),c.Date.fromSql(b)>e?(d=e,d.setDate(e.getDate()-4),this.set("salesStartDate",c.Date.toSql(d))):(this.set("salesStartIsNow",!0),this.set("salesStartDate",b),this.on("change:salesStartDate",this.handleSalesStartDateChange))),this.get("salesEndDate")||this.set("salesEndDate",a),this.get("hide_until")||this.set("hide_until",b),this.get("hide_after")||this.set("hide_after",a)},handleEventStartDateChange:function(){var a=this.getHourBeforeEventStart(),b=""!==this.get("endSalesRelativeTime")&&""!==this.get("endSalesRelativeTo")&&""!==this.get("endSalesRelativeType");b&&!this.eventModel.get("is_repeating")&&this.set("salesEndDate",a)},setCanBeATD:function(){"donation"===this.get("paymentType")||this.eventModel.get("is_repeating")||this.currencyModel.excludeATD()?(this.set("canBeATD",!1),this.disableSalesChannel("atd"),this.enableSalesChannel("online")):(this.currencyModel.isHiddenAtTheDoor()?this.disableSalesChannel("atd"):this.isAvailableFor("atd")||this.enableSalesChannel("atd"),this.set("canBeATD",!0)),this.trigger("available-channel-changed")},isDonation:function(){return"donation"===this.get("paymentType")},isUnlimitedDonation:function(){return this.isDonation()&&"0"===this.get("quantity").toString()},isTaxApplied:function(){return!(!this.taxModel.get("taxEnabled")||!this.taxModel.get("appliesToAllTickets")&&!this.get("taxApplies"))},isTaxOnFeesApplied:function(){return this.eventModel.get("tax_on_fees_enabled")&&this.get("ebTax")>0},getHourBeforeEventStart:function(){var a=c.Date.fromSql(this.eventModel.get("start_date"));return a.setHours(a.getHours()-1),a=c.Date.toSql(a)},calculateFees:function(){var d=this.currencyModel.get("currency"),e=this.get("initialNpoStatus");b.isUndefined(e)||b.isNull(e)?e=this.taxModel.get("radioIsExempt"):this.set("initialNpoStatus",null),(d&&d.length||(d=this.currencyModel.defaultCurrencyForFees,d&&d.length))&&((c.Models.TicketModel.EVENT_ASSORTMENT_HAS_CHANGED||this.hasUserAssortmentChanged())&&this.trigger("eventAssortmentHasChange"),a.ajax({url:"/ajax/fee",data:{available_online:this.isAvailableFor("online"),available_atd:this.isAvailableFor("atd"),sales_channel_option:this.get("sales_channel_option"),eid:this.eventModel.get("eid"),ticket:this.get("id"),cost:this.get("ticketPrice"),currency:d,include_fee:this.get("feeAbsorb"),apply_tax:this.isTaxApplied(),tax_percent:this.taxModel.get("taxPercent"),tax_is_included:this.taxModel.get("taxIsIncluded"),country_org:this.currencyModel.get("country"),organizer_type:this.taxModel.get("organizerTaxStatus"),is_tax_exempt:e,postal_code:this.eventModel.get("venue")&&this.eventModel.get("venue").getPostalCode().trim()?this.eventModel.get("venue").getPostalCode().trim():"''"},cache:!1,context:this}).success(function(a){a.success&&(this.set({currencySymbol:a.currency_symbol,total:a.total,tax:a.tax,ebTax:a.eb_tax,fee:a.fee,splitTax:a.split_tax,formattedTotal:a.formatted_total,formattedATDTotal:a.formatted_atd_total,formattedTax:a.formatted_tax,formattedEbTax:a.formatted_eb_tax,formattedFee:a.formatted_fee,formattedATDFee:a.formatted_atd_fee,formattedCost:a.formatted_cost,formattedCCFee:a.formatted_cc_fee,formattedTaxPassed:a.formatted_tax_passed,formattedTaxAbsorbed:a.formatted_tax_absorbed,ebTaxName:a.eb_tax_name}),this.get("ticketPrice")&&this.set("ticketPrice",a.cost),this.trigger("feesUpdated"))}))},canBeDeleted:function(b){this.deleteCallback=b,this.get("readonly")?this.deleteCallback(!1,gettext("You don't have permission to edit ticket type")):this.id?a.ajax("/ajax/ticket_has_attendees",{type:"GET",success:this.handleTicketsSoldSuccess,data:{ticket_id:this.id}}):this.isLiveAndLastTicket()?this.failDeleteWithLastTicketError():this.deleteCallback(!0)},failDeleteWithLastTicketError:function(){var a=gettext("You cannot delete the last ticket while your event is live. Add another ticket or unpublish this event first.");this.deleteCallback(!1,a)},handleTicketsSoldSuccess:function(a){var b="";a&&(a.has_attendees?(b=gettext("You cannot delete a ticket type that has pending or sold tickets"),this.deleteCallback(!1,b)):this.isLiveAndLastTicket()?this.failDeleteWithLastTicketError():this.deleteCallback(!0))},canEditPrice:function(b){this.editCallback=b,this.get("readonly")?this.editCallback(!1,gettext("You don't have permission to edit ticket type")):this.id?a.ajax("/ajax/ticket_has_attendees",{type:"GET",success:this.handleTicketsSoldSuccessEdit,timeout:1e3,data:{ticket_id:this.id}}):this.editCallback(!0)},handleTicketsSoldSuccessEdit:function(a){var b="";a&&a.has_placed_order_attendees?(b=gettext("You cannot edit a ticket type that has pending or sold tickets"),this.editCallback(!1,b)):this.editCallback(!0)},handleSalesStartDateChange:function(){this.set("salesStartIsNow",!1)},handleTaxOnFeesChange:function(){this.trigger("taxUpdated")},isLiveAndLastTicket:function(){return this.eventModel.get("is_live")&&1===this.collection.length?!0:void 0},isAvailableFor:function(a){return this.get("available_"+a)},enableSalesChannel:function(a){this.set("available_"+a,!0)},disableSalesChannel:function(a){this.set("available_"+a,!1)},getCid:function(){return this.id||"-"+this.cid.slice(1)},hasUserAssortmentChanged:function(){return c.CreatePage&&c.CreatePage.hasUserAssortmentChanged},updateFee:function(){this.calculateFees()},isSalesChannel:function(a){return a?this.get("sales_channel_option")===a:!1},updateSalesChannel:function(){this.isSalesChannel(this.config.salesChannelEverywhere)?(this.set("available_online",!0),this.set("available_atd",!this.currencyModel.isHiddenAtTheDoor())):this.isSalesChannel(this.config.salesChannelOnline)?(this.set("available_online",!0),this.set("available_atd",!this.currencyModel.isHiddenAtTheDoor())):(this.set("available_online",!1),this.set("available_atd",!this.currencyModel.isHiddenAtTheDoor()))},isFeePassed:function(){return this.get("feeAbsorb")===c.Models.TicketModel.FEE_PASS&&this.taxModel.get("canPassATDFee")},isFeeOptionAvailable:function(){var a=!0;return!this.isSalesChannel(this.config.salesChannelAtd)||this.taxModel.get("canPassATDFee")&&this.get("available_atd")||(a=!1),a},isPassOnATDFeeAvailableInPayoutCurrency:function(){return!this.currencyModel.isHiddenAtTheDoor()}}),c.Models.TicketModel.FEE_PASS="0",c.Models.TicketModel.FEE_ABSORB="1",c.Models.TicketModel.FEE_SPLIT="2",c.Models.TicketModel.MAX_RELATIVE_END_SALES=9999,c.Models.TicketModel.EVENT_ASSORTMENT_HAS_CHANGED=!1}(window.jQuery,window._,window.EB,window),/* global _ */
function(a){"use strict";a.namespace("CreatePage"),a.CreatePage.trackError||(a.CreatePage.trackError=function(){}),a.namespace("Models"),a.Models.EventModel=a.Backbone.Model.extend({defaults:{is_free:!0,is_live:!1,is_repeating:!1,repeating:"never",is_atd:!0,capacity:0,is_series:!1,is_pick_a_seat_enabled:!0,can_display_seat_map:!0,show_colors_in_seatmap_thumbnail:!0,tax_on_fees_enabled:!1},validation:{capacity:[{fn:function(b){return!$.isNumeric(b)||parseInt(b,10)<0?(a.CreatePage.trackError("capacity_required"),window.gettext("Please enter a number")):b&&b.indexOf(".")>-1?(a.CreatePage.trackError("capacity_has_decimal"),window.gettext("Please enter a whole number")):void 0}}]},initialize:function(){this.on("change:repeating",this.setIsRepeating),this.setIsRepeating()},setDefaultCapacity:function(a){0===this.get("capacity")&&this.set("capacity",a.sumQuantity())},setIsRepeating:function(){var a=this.get("repeating");"never"===a||_.isEmpty(a)?this.set("is_repeating",!1):this.set("is_repeating",!0)},isPossiblyCCP:function(){return this.get("currency").isCCP()&&(!this.get("has_payment_type")||this.get("accept_eventbrite"))}}),a.Models.EventModel.EVENT_DELETED=80,"function"==typeof define&&define("require/entities/event_model",function(){return a.Models.EventModel})}(window.EB),function(a,b,c){"use strict";b.namespace("Models"),b.Models.VenueModel=b.Backbone.Model.extend({defaults:{id:"new",venue:"",address_1:"",address_2:"",city:"",state:"",postal_code:"",country:"",latitude:"0.000000",longitude:"0.000000",longaddress:"",zoom:13,showmap:!0,online_event:!1,isCepEnabled:!1},validation:{venue:{maxLength:255},address_1:{maxLength:255},address_2:{maxLength:255},city:{maxLength:255},state:{maxLength:50},postal_code:{maxLength:255},longaddress:{maxLength:255},country:{maxLength:50},latitude:{maxLength:20},longitude:{maxLength:20},google_place_id:{maxLength:1024}},initialize:function(){c.bindAll(this,"updateLongAddress"),this.on({"change:address_1 change:address_2 change:postal_code change:country":this.updateLongAddress,"change:city":this.removeUnwantedContentFromProperty.bind(this,"city"),"change:state":this.removeUnwantedContentFromProperty.bind(this,"state")})},getLabel:function(){return this.get("venue")||this.getComputedLongAddress()},hasMapPosition:function(){return parseFloat(this.get("latitude"))||parseFloat(this.get("longitude"))},removeUnwantedContentFromString:function(a){return a?a.replace(/[\s,.]+$/,""):void 0},removeUnwantedContentFromProperty:function(a){var b=this.get(a),c=this.removeUnwantedContentFromString(b);if(b)return c!==b?void this.set(a,c):void this.updateLongAddress()},updateLongAddress:function(){this.set("longaddress",this.getComputedLongAddress().substring(0,255))},getComputedLongAddress:function(){return this.get("address_1")||this.get("address_2")||this.get("city")||this.get("state")||this.get("postal_code")||this.get("country")?c.reduce([this.get("address_1"),this.get("address_2"),this.get("city"),this.get("state"),this.get("postal_code"),this.get("country")],function(a,b){return b=b.trim(),b&&(a=a?a+", "+b:b),a},""):""},getAddressComponent:function(a,b,c){var d,e;for(d in a)if(a[d].types&&a[d].types.length)for(e=0;e<a[d].types.length;e++)if(a[d].types[e]===b)return a[d][c?"short_name":"long_name"];return""},updateFromGeocodeGeometry:function(a){this.set({latitude:(a.location.lat()||"").toString().substring(0,this.validation.latitude.maxLength),longitude:(a.location.lng()||"").toString().substring(0,this.validation.longitude.maxLength)})},parseAddressComponents:function(a){var b={},c=this.getAddressComponent(a,"country",!0),d=this.getAddressComponent(a,"route"),e=this.getAddressComponent(a,"street_number");return"DE"==c?b.address_1=(d+" "+e).trim():b.address_1=(e+" "+d).trim(),b.address_2=this.getAddressComponent(a,"subpremise")?"#"+this.getAddressComponent(a,"subpremise"):"",b.city=this.getAddressComponent(a,"locality")||this.getAddressComponent(a,"sublocality")||this.getAddressComponent(a,"administrative_area_level_3",!0)||this.getAddressComponent(a,"postal_town"),b.state=this.getAddressComponent(a,"administrative_area_level_1",!0)||this.getAddressComponent(a,"administrative_area_level_2",!0)||this.getAddressComponent(a,"administrative_area_level_3",!0),b.postal_code=this.getAddressComponent(a,"postal_code"),b.country=c,b.venue=this.getAddressComponent(a,"establishment"),b},setFromGooglePlace:function(a){var c=a.address_components,d,e=a.geometry,f=a.formatted_address,g=a.name;this.updateFromGeocodeGeometry(e),d=this.parseAddressComponents(c),d.longaddress=f,d.address_1||(b.CreatePage.toggleTrackingErrors(!0),b.CreatePage.trackError("no_address_1_from_google"),b.CreatePage.toggleTrackingErrors(!1)),g===d.address_1&&(g=""),d.venue=d.venue||g||"",d.google_place_id=a.place_id||null,this.set(d)},getPostalCode:function(){return this.get("postal_code")}}),b.App&&b.App.addInitializer&&b.App.reqres.setHandler("venue:entity:new",function(a){return new b.Models.VenueModel(a)}),"function"==typeof define&&define("eb/models/venue_model",function(){return b.Models.VenueModel})}(window.jQuery,window.EB,window._),function(a,b){"use strict";a.namespace("Models"),a.Models.VenueCollection=a.Backbone.Collection.extend({model:a.Models.VenueModel}),b&&b.addInitializer&&b.reqres.setHandler("venue:entities:new",function(b){return new a.Models.VenueCollection(b)})}(window.EB,window.EB.App),/*
 * Ajax Image Upload Feature
 */
window.EB.image_upload=function(EB,$){var DEFAULT_ACTION_URL="/ajax/image_upload",DEFAULT_CONFIRM_REMOVE_TEXT=gettext("Are you sure you wish to delete your profile picture?"),isIE=function(){var a=Array.prototype.slice.call(arguments);return a=a.length?" ("+a.join("|")+")":"",new RegExp("MSIE"+a,"i").test(navigator.userAgent)},form_selector,image_data_selector,image_id_selector,image_version_selector,image_ext_selector,image_sizes_selector,image_max_size_selector,browse_button_selector,upload_button_selector,remove_button_selector,logo_selector,error_selector,callback_name,upload_start_callback,upload_finish_callback,upload_error_callback,remove_callback,action_url,default_image_url,spinnerUrl,confirm_remove_text,unsaved_changes_text,imageUrl=$(logo_selector).attr("src"),errorPoll,reset=function(a){var b,c;b=$(image_data_selector).parent(),c=$(image_data_selector).detach(),c.wrap("<form>").closest("form").get(0).reset(),c.unwrap(),b.prepend(c)},check_image_max_size=function(){var a,b;if(image_max_size_selector)try{if(b=$(image_data_selector)[0].files[0].size,a=parseInt($(image_max_size_selector).val(),10),b>a)return error=interpolate(gettext("Your image is %(fileSize)s bytes. The maximum size allowed is %(maxSize)s bytes. Please resize your image and try again."),{fileSize:b,maxSize:a},!0),upload_error_callback(error),!1}catch(c){}return!0},upload=function(a){a&&a.preventDefault(),$(logo_selector).attr("src",spinnerUrl).addClass("spinner"),$(form_selector).attr("target","image_upload"),$(form_selector).attr("action",action_url);var b=$(image_data_selector).attr("name");$(image_data_selector).attr("name","data");var c=$(image_id_selector).attr("name");if($(image_id_selector).attr("name","image_id"),$(form_selector).append('<input id="id_callback" name="callback" type="hidden" value="parent.'+callback_name+'" />'),!check_image_max_size())return!1;try{$(form_selector).submit()}catch(d){return $(image_data_selector).attr("name",b),$(image_id_selector).attr("name",c),!1}$(form_selector).removeAttr("target"),$(form_selector).removeAttr("action"),$(image_data_selector).attr("name",b),$(image_id_selector).attr("name",c),$("#id_callback").remove(),reset(),"function"==typeof upload_start_callback&&upload_start_callback(),errorPoll=setInterval(function(){var a=window.frames.image_upload.document.getElementsByTagName("body")[0];a&&a.innerHTML&&(clearInterval(errorPoll),$("#image_upload").attr("src",""),EB.image_upload.imageUploadCallback({success:!1,error:gettext("An unknown error occurred while uploading your image. Please try again.")}))},100)},imageUploadCallback=function(json){if(!json.success){reset();try{$(logo_selector).attr("src",imageUrl).removeClass("spinner")}catch(e){}return"function"==typeof upload_error_callback&&upload_error_callback(),void alert(json.error)}clearInterval(errorPoll),$(image_id_selector).val(json.image_id),$(image_version_selector).val(json.image_version),$(image_ext_selector).val(json.image_ext),$(image_sizes_selector).val(json.image_sizes),imageUrl=json.image_url+"?"+Math.floor(1e12*Math.random()),(new Image).src=imageUrl,setTimeout(function(){try{var offset=160*eval("("+json.image_sizes+")").logo.height/225;offset=offset>160?Math.floor((offset-160)/2):0}catch(e){var offset=0}$(logo_selector).attr("src",imageUrl).removeClass("spinner").css("top","-"+offset+"px"),$(remove_button_selector).removeClass("hidden"),$(error_selector).html(unsaved_changes_text),reset(),"function"==typeof upload_finish_callback&&upload_finish_callback(imageUrl)},500)},noImage=function(a){a.preventDefault(),alert(gettext("Please choose an image to upload."))};return{init:function(a){form_selector=a.form_selector,logo_selector=a.logo_selector,image_data_selector=a.image_data_selector,image_id_selector=a.image_id_selector,image_version_selector=a.image_version_selector,image_ext_selector=a.image_ext_selector,image_sizes_selector=a.image_sizes_selector,image_max_size_selector=a.image_max_size_selector,callback_name="EB.image_upload.imageUploadCallback",upload_button_selector=a.upload_button_selector,remove_button_selector=a.remove_button_selector,error_selector=a.error_selector,browse_button_selector=a.browse_button_selector,upload_start_callback=a.upload_start_callback,upload_finish_callback=a.upload_finish_callback,upload_error_callback=a.upload_error_callback,check_max_size_on_select_file=a.check_max_size_on_select_file,remove_callback=a.remove_callback,action_url=a.action_url||DEFAULT_ACTION_URL,default_image_url=EB.getMediaUrl()+"django/images/icons/default-organizer-logo.png","default_image_url"in a&&(default_image_url=a.default_image_url),confirm_remove_text=a.confirm_remove_text||DEFAULT_CONFIRM_REMOVE_TEXT,"confirm_remove_text"in a&&(confirm_remove_text=a.confirm_remove_text),unsaved_changes_text=gettext("You have unsaved changes. Click save."),"unsaved_changes_text"in a&&(unsaved_changes_text=a.unsaved_changes_text),imageUrl=$(logo_selector).attr("src"),$("body").append('<iframe id="image_upload" name="image_upload" style="display: none;"></iframe>'),spinnerUrl=EB.getMediaUrl()+"django/images/util/spinner32x32.gif",(new Image).src=spinnerUrl,$(browse_button_selector).delegate(image_data_selector,"change",function(a){$(this).val()?$(upload_button_selector).removeClass("default").addClass("go").unbind("click").click(upload):$(upload_button_selector).removeClass("go").addClass("default").unbind("click").click(noImage)}),$(upload_button_selector).removeClass("go").addClass("default").unbind("click").click(noImage),check_max_size_on_select_file&&$(image_data_selector).on("change",function(a){check_image_max_size()||reset()}),isIE()&&$(browse_button_selector).delegate(image_data_selector,"click",function(a){var b=$(this).val(),c=$(this),d=setInterval(function(){c.val()!==b&&(clearInterval(d),c.trigger("change"))},100)}),$(remove_button_selector).click(function(a){a.preventDefault(),confirm(confirm_remove_text)&&($(image_id_selector).val(""),$(image_version_selector).val(""),$(image_ext_selector).val(""),$(image_sizes_selector).val(""),$(logo_selector).attr("src",default_image_url).css("top","0"),$(remove_button_selector).addClass("hidden"),$(error_selector).html(unsaved_changes_text),reset(),EB.DirtyPage&&EB.DirtyPage.setDirty(!0),"function"==typeof remove_callback&&remove_callback())})},imageUploadCallback:imageUploadCallback}}(window.EB||{},window.jQuery),function(a,b,c,d,e){"use strict";c.namespace("UIComponents"),c.UIComponents.FilePicker=c.Backbone.View.extend({initialize:function(a){b.bindAll(this,"handleFileSelection","handleFileSelectClick","getFileName"),this.$inputElement=a.inputElement,this.$buttonElement=a.buttonElement,this.$inputElement.on("change",this.handleFileSelection),this.$buttonElement.on("click",this.handleFileSelectClick),this.fileName=""},handleFileSelection:function(){this.fileName=this.$inputElement.val().split("\\").pop(),this.trigger("fileSelected")},handleFileSelectClick:function(a){a.preventDefault(),this.$inputElement.click()},getFileName:function(){return this.fileName}}),a.fn.filepicker=function(d){return this.each(function(){var e=a(this),f=e.find(".js-file-picker__input"),g=e.find(".js-file-picker__button");return new c.UIComponents.FilePicker(b.extend({},d||{},{inputElement:f,buttonElement:g}))})},a(function(){a(".js-file-picker").filepicker()})}(window.jQuery,window._,window.EB,window),//fgnass.github.com/spin.js#v1.3
/**
 * Copyright (c) 2011-2013 Felix Gnass
 * Licensed under the MIT license
 */
function(a,b){a.Spinner=b(),"function"==typeof define&&define.amd&&define("spin",function(){return a.Spinner})}(this,function(){"use strict";function a(a,b){var c=document.createElement(a||"div"),d;for(d in b)c[d]=b[d];return c}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=l.substring(0,l.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return k[e]||(m.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",m.cssRules.length),k[e]=1),e}function d(a,b){var c=a.style,d,e;if(void 0!==c[b])return b;for(b=b.charAt(0).toUpperCase()+b.slice(1),e=0;e<j.length;e++)if(d=j[e]+b,void 0!==c[d])return d}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d])}return a}function g(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}function h(a){return"undefined"==typeof this?new h(a):void(this.opts=f(a||{},h.defaults,n))}function i(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}m.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:i+" "+i,coordorigin:-h+" "+-h}),{width:i,height:i})}function g(a,g,i){b(k,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~g}),b(e(c("roundrect",{arcsize:d.corners}),{width:h,height:d.width,left:d.radius,top:-d.width>>1,filter:i}),c("fill",{color:d.color,opacity:d.opacity}),c("stroke",{opacity:0}))))}var h=d.length+d.width,i=2*h,j=2*-(d.width+d.length)+"px",k=e(f(),{position:"absolute",top:j,left:j}),l;if(d.shadow)for(l=1;l<=d.lines;l++)g(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=d.lines;l++)g(l);return b(a,k)},h.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}var j=["webkit","Moz","ms","O"],k={},l,m=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}(),n={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};h.defaults={},f(h.prototype,{spin:function(b){this.stop();var c=this,d=c.opts,f=c.el=e(a(0,{className:d.className}),{position:d.position,width:0,zIndex:d.zIndex}),h=d.radius+d.length+d.width,i,j;if(b&&(b.insertBefore(f,b.firstChild||null),j=g(b),i=g(f),e(f,{left:("auto"==d.left?j.x-i.x+(b.offsetWidth>>1):parseInt(d.left,10)+h)+"px",top:("auto"==d.top?j.y-i.y+(b.offsetHeight>>1):parseInt(d.top,10)+h)+"px"})),f.setAttribute("role","progressbar"),c.lines(f,c.opts),!l){var k=0,m=(d.lines-1)*(1-d.direction)/2,n,o=d.fps,p=o/d.speed,q=(1-d.opacity)/(p*d.trail/100),r=p/d.lines;!function s(){k++;for(var a=0;a<d.lines;a++)n=Math.max(1-(k+(d.lines-a)*r)%p*q,d.opacity),c.opacity(f,a*d.direction+m,n,d);c.timeout=c.el&&setTimeout(s,~~(1e3/o))}()}return c},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function g(b,c){return e(a(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*h+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var h=0,i=(f.lines-1)*(1-f.direction)/2,j;h<f.lines;h++)j=e(a(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:l&&c(f.opacity,f.trail,i+h*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(j,e(g("#000","0 0 4px #000"),{top:"2px"})),b(d,b(j,g(f.color,"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var o=e(a("group"),{behavior:"url(#default#VML)"});return!d(o,"transform")&&o.adj?i():l=d(o,"animation"),h}),/**
 * Requires
 * - Underscore
 */
function(){"use strict";var a={lines:12,length:2,width:2,radius:4,corners:1,rotate:0,direction:1,color:"#ffffff",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner--small",zIndex:1,top:"auto",left:"auto"},b=_.extend({},a,{length:3,width:3,radius:7,className:"spinner--medium"}),c=_.extend({},a,{length:5,width:4,radius:9,className:"spinner--large"});EB.namespace("SpinSettings"),EB.SpinSettings={small:a,medium:b,large:c}}(),/**
 * Requires:
 * - EB
 * - jQuery
 * - Underscore
 * - vendor/spin-1.3.js (for buttonLoader)
 * - vendor/spin-1.3_settings.js (for buttonLoader)
 */
function(a){"use strict";function b(b,c){var d=a("<div>",{"class":"layout-overlay"});return b.each(function(b,c){var d=a(c);"static"===d.css("position")&&d.css("position","relative")}),c&&d.addClass("layout-overlay--visible"),b.append(d),d}function c(a){a.find(".layout-overlay").remove()}function d(a){var b=EB.SpinSettings.large;return a.hasClass("btn--small")&&(b=EB.SpinSettings.small),a.hasClass("btn--medium")&&(b=EB.SpinSettings.medium),new window.Spinner(_.extend({},b,{top:0}))}function e(e,f,g){var h,i,j=a(e),k=a("<span>",{style:"display: inline;"}),l=d(j),m=a(g);return"block"===j.css("display")&&(k=a("<div>")),j.wrap(k),j.addClass("btn--has-spinner"),l.spin(j.get(0)),h=b(j.parent()),i=b(m),f.always(_.bind(c,null,m.add(j.parent()))).always(function(){l.stop(),j.unwrap(),j.removeClass("btn--has-spinner")}),{buttonOverlay:h,sectionOverlay:i,spinner:l}}function f(d,e,f){var g,h=a(d),i=new window.Spinner(_.extend({},EB.SpinSettings.large,{color:"#000000"},f||{}));return i.spin(h.get(0)),g=b(h,!0),e.always(_.bind(c,null,h)).always(function(){i.stop()}),{overlay:g,spinner:i}}EB.namespace("UIComponents"),EB.UIComponents.Loader={createButtonLoader:e,createSectionLoader:f}}(jQuery),function(a,b,c,d,e){"use strict";b.namespace("UIComponents"),b.UIComponents.SwitchView=c.View.extend({className:"js-switch-view",initialize:function(b){var c=this;if(d.bindAll(this,"switchButtonClicked","updateToggleButton","updateToggleSize","checkboxChanged"),this.$checkbox=a(b.checkbox),1!==this.$checkbox.length||"checkbox"!==this.$checkbox.attr("type"))throw new Error("SwitchView expects a checkbox as an option");this.switchId=b.checkbox.id,this.isSelected=this.$checkbox.prop("checked"),this.isDisabled=this.$checkbox.prop("disabled"),this.$switchButton=a("<a/>",{href:"#","class":this.className+"-button"}),this.$switchIcon=a("<i/>",{"class":"ico-cross"}),this.switchButton=d.throttle(this.switchButtonClicked,500,{trailing:!1}),this.$el.on("click",this.switchButton),this.$checkbox.on("change",this.checkboxChanged),this.$checkbox.on("alternate-button",function(a,b){return c.updateToggleButton(b)}),this.updateToggleButton()},render:function(){return this.$el.addClass("switch"),this.$switchButton.addClass("switch__button"),this.$el.append(this.$switchButton),this.$el.append(this.$switchIcon),this.$el.insertBefore(this.$checkbox),this.$checkbox.detach().appendTo(this.$el).hide(),this},switchButtonClicked:function(a){a.preventDefault(),this.isDisabled||(this.isSelected=!this.isSelected,this.updateToggleButton(),this.trigger("toggle",this.isSelected))},checkboxChanged:function(){this.isSelected=this.$checkbox.prop("checked"),this.updateToggleButton(),this.trigger("toggle",this.isSelected)},updateToggleButton:function(a){void 0!==a&&(this.isSelected=a),this.$switchButton.toggleClass("switch__button--selected",this.isSelected),this.$checkbox.prop("checkbox",this.isSelected),this.$switchButton.html('<span class="switch__bar"></span><span class="switch__bar"></span>'),this.updateToggleSize(this.isSelected),this.$el.toggleClass("switch--disabled",this.isDisabled),this.isSelected?(this.$el.addClass("switch--selected"),this.$switchIcon.removeClass("ico-cross"),this.$switchIcon.addClass("ico-checkmark ico--color-brand-white")):(this.$el.removeClass("switch--selected"),this.$switchIcon.addClass("ico-cross"),this.$switchIcon.removeClass("ico-checkmark ico--color-brand-white"))},updateToggleSize:function(){this.$checkbox.hasClass("switch--small")?(this.$el.addClass("switch--small"),this.$switchIcon.addClass("ico--small")):this.$switchButton.append('<span class="switch__bar"></span>'),this.$checkbox.hasClass("switch--large")&&(this.$el.addClass("switch--large"),this.$switchIcon.addClass("ico--large"))},enable:function(){this.$checkbox.prop("disabled",!1),this.isDisabled=!1,this.updateToggleButton()},disable:function(){this.$checkbox.prop("disabled",!0),this.isDisabled=!0,this.updateToggleButton()}}),b.UIComponents.SwitchView.initializeToggles=function(a){var c=[];return a.each(function(){var a=new b.UIComponents.SwitchView({checkbox:this});c.push(a),a.render()}),c}}(jQuery,window.EB,window.Backbone,window._,window),function(a,b,c,d,e){"use strict";c.namespace("Media.ImageUpload"),c.Media.MAX_LENGTH_IMAGE_NAME=20,c.Media.ImageUpload=c.Backbone.View.extend({initialize:function(c){b.bindAll(this,"handleFileSelection","handleStartUploadCallback","handleUploadCallback","handleRemoveCallback","handleErrorCallback"),this.$noImage=this.$(".js-image-upload__add-image-section"),this.$uploadImage=this.$(".js-image-upload__upload-image-section"),this.$withImage=this.$(".js-image-upload__with-image-section"),this.$imageForm=this.$(".js-image-upload__form"),this.$uploadForm=this.$imageForm,this.saveImageCallback=c.saveImageCallback,this.removeImageCallback=c.removeImageCallback,this.actionUrl="/ajax/image_upload",this.saveUrl="/ajax/image_save",c.adminPage&&(this.actionUrl="/admin/ajax/image_upload",this.saveUrl="/admin/ajax/image_save"),this.options.uploadFormEl&&(this.$uploadForm=a(this.options.uploadFormEl)),this.initializeUploadInput(),this.initializeImageUpload()},events:{"click .js-image-upload__cancel-button":"handleCancelUploadClick","mouseover .js-image-upload__with-image-section":"handleImageMouseover","mouseout .js-image-upload__with-image-section":"handleImageMouseout"},initializeUploadInput:function(){this.filePicker=new c.UIComponents.FilePicker({inputElement:this.$(".js-file-picker__input"),buttonElement:this.$(".js-file-picker__button")}),this.filePicker.on("fileSelected",this.handleFileSelection)},initializeImageUpload:function(){var a={form_selector:".js-image-upload__form",logo_selector:".js-image-upload__image",image_data_selector:".js-file-picker__input",image_id_selector:"#id_image_id",image_version_selector:"#id_image_version",image_ext_selector:"#id_image_ext",image_sizes_selector:"#id_image_sizes",image_max_size_selector:"#id_max_image_size",upload_button_selector:".js-image-upload__upload-button",remove_button_selector:".js-image-upload__remove-button",error_selector:".js-image-upload div.error",browse_button_selector:".js-image-upload__input-field",confirm_remove_text:gettext("Are you sure you want to delete your image?"),default_image_url:"",action_url:this.actionUrl,upload_start_callback:this.handleStartUploadCallback,upload_finish_callback:this.handleUploadCallback,remove_callback:this.handleRemoveCallback,upload_error_callback:this.handleErrorCallback};"object"==typeof this.options.uploadInit&&b.extend(a,this.options.uploadInit),c.image_upload.init(a)},handleFileSelection:function(){var a=this.filePicker.getFileName();a=this.truncateFileName(a),a&&this.displayUploadImageSection(a)},truncateFileName:function(a){return a.length>c.Media.MAX_LENGTH_IMAGE_NAME&&(a="..."+a.substring(a.length-(c.Media.MAX_LENGTH_IMAGE_NAME-3))),a},handleCancelUploadClick:function(b){b.preventDefault();var c=this.$(".js-file-picker__input"),d=c.parent();c.detach(),a("<form>").append(c).get(0).reset(),d.prepend(c),this.displayAddImageSection()},handleImageMouseover:function(){this.$(".js-image-upload__remove-button").removeClass("is-hidden")},handleImageMouseout:function(){this.$(".js-image-upload__remove-button").addClass("is-hidden")},handleStartUploadCallback:function(){this.displayWithImageSection()},handleUploadCallback:function(){a.ajax({type:"POST",url:this.saveUrl,data:this.$uploadForm.serialize()}).done(this.saveImageCallback)},handleRemoveCallback:function(){this.displayAddImageSection(),this.removeImageCallback()},handleErrorCallback:function(a){a&&d.alert(a),this.displayAddImageSection()},displayAddImageSection:function(){this.$noImage.removeClass("is-hidden"),this.$uploadImage.addClass("is-hidden"),this.$withImage.addClass("is-hidden")},displayUploadImageSection:function(b){this.$noImage.addClass("is-hidden"),this.$uploadImage.removeClass("is-hidden"),this.$withImage.addClass("is-hidden"),a(".js-image-upload__filename").html(b)},displayWithImageSection:function(){this.$noImage.addClass("is-hidden"),this.$uploadImage.addClass("is-hidden"),this.$withImage.removeClass("is-hidden")}})}(window.jQuery,window._,window.EB,window),/*
 * EB Tiny MCE Helper
 *
 * Requires: /static/js/tiny_mce_XXX/tiny_mce_gzip.js
 *           /php/tinybrowser/tb_tinymce.js.php?u=${ mg.qdata.uid }&s=${ mg.isprod }
 *
 * Note: EB.js is not required.
 *
 */
window.EB=window.EB||{},EB.TinyMCE=function(a,b,c){"use strict";var d="/static/js/tiny_mce_3511/tiny_mce_gzip.php",e="/php/tinybrowser/tb_tinymce.js.php",f={js:!0,core:!0,diskcache:!0,languages:"en"},g={plugins:"advimage,advlink,preview,searchreplace,inlinepopups,media,autoresize,paste",mode:"textareas",dialog_type:"modal",apply_source_formatting:!0,relative_urls:!1,remove_script_host:!1,document_base_url:location.protocol+"//"+location.hostname+"/",extended_valid_elements:"style[type]",theme:"advanced",theme_advanced_buttons1:"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,fontselect,fontsizeselect,forecolor,backcolor,|,bullist,numlist,|,link,unlink,image,media,|,preview,code",theme_advanced_buttons2:"",theme_advanced_buttons3:"",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",theme_advanced_statusbar_location:"none",file_browser_callback:"tinyBrowser",autoresize_max_height:"600",paste_remove_styles_if_webkit:!1,paste_retain_style_properties:"all",paste_strip_class_attributes:"all"},h=function(a){var b=document.getElementsByTagName("body")[0],c=document.createElement("script");c.type="text/javascript",c.src=a,b.appendChild(c)};return{init:function(a){var c=b.extend({},g,a),d=this.computeTinyMceURL(c),f=this,i;b(document).ready(function(){h(d),h(e),i=setInterval(function(){window.tinyMCE&&(clearInterval(i),f.handleScriptsLoaded(c))},100)})},computeTinyMceURL:function(a){return f.languages=window.escape(a.language||f.languages),f.plugins=window.escape(a.plugins||""),f.themes=window.escape(a.theme||""),d+"?"+b.param(f)},handleScriptsLoaded:function(a){"false"!==document.body.contentEditable&&this.initEditor(a)},initEditor:function(a){var c=b.extend({},g,a);window.tinyMCE&&window.tinyMCE.init(c)},removeAll:function(){for(;window.tinyMCE.editors.length>0;)a.TinyMCE.removeControl(window.tinyMCE.editors[0].id)},removeControl:function(a){window.tinyMCE.execCommand("mceRemoveControl",!1,a)},fixExternalLinkUrl:function(a,b){c.delay(function(a,b){var c=b.getAttribute("href"),d=/^[a-z0-9][a-z0-9-]{0,61}[a-z0-9]\.[a-z]{2,}\/?/i,e=gettext("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?");c&&c.match(d)&&window.confirm(e)&&(c="http://"+c,b.setAttribute("href",c),b.setAttribute("data-mce-href",c))},5,a,b)},stripUnwantedCSSClasses:function(a){return a.replace(/(class\s*=\s*&quot;[^&]*)(listing-panel)([^&]*&quot;)/,"$1$3").replace(/(class\s*=\s*"[^"]*)(listing-panel)([^"]*")/,"$1$3")}}}(window.EB,window.jQuery,window._),// this notifies the user of how many characters are remaining for an input box
function(a,b){if(!b)throw new Error("EB.Ui.charLimit: Missing jQuery.");a.Ui=a.Ui||{},a.Ui.charLimit=function(a,c,d,e,f,g){f=f||!1,g=g||{remaining:gettext("Remaining:"),minimum:gettext("Must be at least %(min_length)s characters")};var h=b(a);h.each(function(a,h){var i=b(h),j=i.closest(".module_content").find('.js-charlimit[for="'+h.id+'"]'),k=function(a){var f=b(this),h=d-this.value.length,i="";d>0&&(i=g.remaining+" "+h),this.value==f.data("placeholder")&&f.data("placeholder")?j.html(g.remaining+" "+d):(j.removeClass("exceeded warn minimum"),c&&this.value.length<c?(i=interpolate(g.minimum,{min_length:c},!0)+(d>0?"<br/>"+i:""),j.addClass("minimum")):d&&0>h?j.addClass("exceeded"):d&&e>=h&&j.addClass("warn"),j.html(i))},l=function(a){k.call(this,a),j.removeClass("hidden is-hidden")},m=function(a){j.hasClass("exceeded")||j.hasClass("minimum")||j.addClass("hidden")};i.on("keyup",k),f&&(i.on("focus",l).on("blur",m),m())})}}(window.EB=window.EB||{},window.jQuery),// converts SQL dates to and from native JS dates
function(a){a.Date={};var b=a.Date.zerofill=function(a,b){if(a=a.toString(),a.length<b)for(;b>1;)a="0"+a,b-=1;return a};a.Date.toSql=function(a){if("function"==typeof a.getFullYear){var c="";return c+=a.getFullYear()+"-",c+=b(a.getMonth()+1,2)+"-",c+=b(a.getDate(),2)+" ",c+=b(a.getHours(),2)+":",c+=b(a.getMinutes(),2)+":",c+=b(a.getSeconds(),2),c+=a.getMilliseconds()?"."+a.getMilliseconds():""}},a.Date.fromSql=function(a){if(a){var b=new Date,c={sqlFormatRegExp:/^(\d{4})-(\d{1,2})-(\d{1,2})(?: (\d{1,2}):(\d{1,2}):(\d{1,2})(?:\.(\d{1,3}))?)?$/,dateWithSlashesRegExp:/^(\d{2})\/(\d{2})\/(\d{4})$/},d;return(d=a.match(c.sqlFormatRegExp))?(b.setFullYear(d[1]),b.setMonth(Number(d[2])-1,d[3]),b.setHours(d[4]||0),b.setMinutes(d[5]||0),b.setSeconds(Math.floor(d[6]||0)),b.setMilliseconds(d[7]||0),b):(d=a.match(c.dateWithSlashesRegExp))?(b.setFullYear(d[3]),b.setMonth(Number(d[1])-1,d[2]),b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0),b):void 0}},a.Date.toCustom=function(a,c){if("function"!=typeof a.getFullYear)throw"EB.Date.toCustom: Invalid date object.";if(c=c.replace("YYYY",a.getFullYear()),c=c.replace("YY",a.getFullYear().toString().substr(2,2)),c=c.replace("MM",b(a.getMonth()+1,2)),c=c.replace("M",a.getMonth()+1),c=c.replace("DD",b(a.getDate(),2)),c=c.replace("D",a.getDate()),c=c.replace("HH",b(a.getHours(),2)),c=c.replace("H",a.getHours()),"hh:mm a"==c){var d=12==a.getHours()?12:a.getHours()%12;c=c.replace("hh",b(d,2)),c=c.replace("h",d)}else c=c.replace("hh",b(a.getHours(),2)),c=c.replace("h",a.getHours());return c=c.replace("mm",b(a.getMinutes(),2)),c=c.replace("ss",b(a.getSeconds(),2)),c=c.replace("A",a.getHours()>11?"PM":"AM"),c=c.replace("a",a.getHours()>11?"pm":"am")}}(window.EB=window.EB||{}),// placeholders in text input fields
function(a,b){if(!b)throw"EB.Ui.placeholder: Missing jQuery.";a.Ui=a.Ui||{};var c=!1,d=b.fn.val;a.Ui.placeholder=function(a){var e;e=a instanceof b?a:b(a),e=e.filter('input[type="text"], textarea'),e.each(function(){var a=b(this),c=function(b){d.call(a)&&d.call(a)!=a.attr("data-placeholder")||!a.data("pristine")?a.removeClass("placeholder"):(d.call(a,a.attr("data-placeholder")),a.addClass("placeholder"))};a.hasClass("placeholder")||(!a[0]||a[0].getAttribute("value")!=a.attr("data-placeholder")&&a.html()!=a.attr("data-placeholder")?a.data("pristine",!0):a.data("pristine",!1),a.attr("data-placeholder")&&(a.focus(function(b){d.call(a)==a.attr("data-placeholder")&&a.data("pristine")&&d.call(a,""),a.removeClass("placeholder")}),a.blur(c),c(),a.keyup(function(b){b.keyCode&&(d.call(a)?a.data("pristine",!1):a.data("pristine",!0))})))}),c||(b.fn.val=function(a){if("undefined"!=typeof a)return d.call(this,a);var c=b(this);return d.call(this)==c.attr("data-placeholder")&&c.data("pristine")?"":d.call(this)},b("body").delegate("form","submit",function(a){b(this).find('input[type="text"], textarea').each(function(){d.call(b(this))==b(this).attr("data-placeholder")&&b(this).data("pristine")&&d.call(b(this),"")})}),c=!0)}}(window.EB=window.EB||{},window.jQuery),// pretty EB select boxes!!!
function(a,b){"use strict";if(!b)throw"EB.Ui.select: Missing jQuery.";a.Ui=a.Ui||{};var c=!1,d=function(a){var c=!1;return a.parentsUntil("html").each(function(a){return"fixed"==b(this).css("position")?(c=!0,!1):void 0}),c},e=function(a,b){return a.length>b?a.substr(0,b)+"...":a};a.Ui.select=function(a){var f,g=function(a){if(!/MSIE\ (5|6|7)/i.test(navigator.userAgent)){var c=a.data("eb_select_id")||"eb_select_"+Math.round(1e6*Math.random()),d='<div class="eb_select" id="'+c+'"><div class="eb_select_inner"><div class="eb_select_value"></div><div class="eb_select_pipe"></div><div class="eb_select_arrow">&#x25BC;</div><ul class="eb_select_list">';return a.find("optgroup, option").each(function(){"OPTION"!=this.nodeName||b(this).attr("disabled")?"OPTGROUP"==this.nodeName&&(d+='<li class="heading">'+b(this).attr("label")+"</li>"):d+='<li class="item'+(b(this).attr("value")==a.val()?" selected":"")+'" data-value="'+b(this).attr("value")+'">'+e(b(this).html(),32)+"</li>"}),d+="</ul></div></div>",a.data("eb_select_id",c),a.after(d).hide(0),c}},h=function(a){var c="eb_select_"+Math.round(1e6*Math.random()),d='<div id="'+c+'" class="eb_select_table"><table class="eb_select_list"><tr>',e=a.hasClass("eb_select_showvals"),f={},h=0,i,j,k;if(!a.find("optgroup").length)return g(a);a.find("optgroup").each(function(a){f[b(this).attr("label")]=[]}),a.find("optgroup, option").each(function(a){"OPTION"!=this.nodeName||b(this).attr("disabled")?"OPTGROUP"==this.nodeName&&(i=b(this).attr("label")):f[i].push([b(this).val(),b(this).html()])});for(j in f)h=Math.max(h,f[j].length),d+='<td class="heading">'+j+"</th>";for(d+="</tr>",j=0;h>j;j++){d+="<tr>";for(k in f)f[k][j]?(d+='<td class="item'+(f[k][j][0]==a.val()?" selected":"")+'" data-value="'+f[k][j][0]+'"><span class="item_inner'+(f[k][j][0]==a.val()?' selected_inner"':'"')+">"+f[k][j][1]+"</span>",e&&(d+=" ("+f[k][j][0]+")"),d+="</td>"):d+="<td>&nbsp;</td>"}return d+="</table>",a.data("eb_select_id",c),a.after(d),a.css("display","none"),c},i=function(a,c){if(c){var e,f,g=180,h=!1,i=b("#"+c),j=i.find(".eb_select_inner"),k=i.find(".eb_select_list"),l=a.hasClass("eb_select_table"),m=!1;l||(k.css("height","auto"),i.find(".eb_select_value").html(k.find(".item.selected").html()),i.find("li:last").addClass("last"),e=j.outerWidth(),f=k.height(),k.css("height","0"),f>g&&k.css({"max-height":g+"px","overflow-y":"scroll"}),j.css("width",e+"px"),i.css("width",e+"px"),d(i)&&/MSIE/i.test(navigator.userAgent)&&j.css("position","fixed")),!l&&j.find("li.heading").length&&j.addClass("grouped"),j.click(function(a){a.stopImmediatePropagation(),h?(k.animate({height:"0px"},100),j.removeClass("active"),h=!1,j.find(".eb_select_arrow").html("&#x25BC;")):(b(".eb_select_inner.active").trigger("click"),k.animate({height:f+"px"},100),j.addClass("active"),h=!0,j.find(".eb_select_arrow").html("&#x25B2;"))}),k.delegate(".item","click",function(c){i.find(".eb_select_value").html(b(this).html()),k.find(".item").removeClass("selected"),b(this).addClass("selected"),l&&(k.find(".selected_inner").removeClass("selected_inner"),b(this).find("span").addClass("selected_inner")),a.val(b(this).attr("data-value")),a.trigger("change")}),k.find(".heading").click(function(a){a.stopImmediatePropagation()}),l||(b(document).keydown(function(a){9===a.keyCode&&(m=!0,window.setTimeout(function(){m=!1},100))}),i.focus(function(b){m&&(i.hide(),a.show().focus())}),a.blur(function(b){i.show(),a.hide()}))}};if(!c){b(document).click(function(a){b(".eb_select_inner.active").trigger("click")});var j=b.fn.val;b.fn.val=function(a){var c=b(this),d=c.attr("data-eb_select_id");if(d&&"undefined"!=typeof a){var e=b("#"+d),f=e.find(".eb_select_list");f.find(".item").each(function(){return c.data("value")==a?(e.find(".eb_select_value").html(c.html()),f.find(".item").removeClass("selected"),c.addClass("selected"),!1):void 0})}return"undefined"!=typeof a?j.call(this,a):j.call(this)},c=!0}f=a instanceof b?a:b(a),f.each(function(){(b(this).is(":visible")||b(this).data("eb_select_id"))&&(b("#"+b(this).data("eb_select_id")).remove(),b(this).hasClass("eb_select_table")?i(b(this),h(b(this))):i(b(this),g(b(this))))})}}(window.EB=window.EB||{},jQuery),// this is a generic lightbox module for showing and hiding lightboxes
function(a,b){if(!b)throw"EB.Ui.lightbox: Missing jQuery.";a.Ui=a.Ui||{},a.Ui.lightbox={};var c=function(a){return a instanceof b?a.eq(0):b(a).eq(0)},d=function(a){if(!a.hasClass("js-eb-lightbox")){var c=(a.outerHeight()||b("body").outerHeight())/2,d=(a.outerWidth()||b("body").outerWidth())/2;a.css({"margin-top":"-"+c+"px","margin-left":"-"+d+"px"})}},e=function(){b("body").css({"max-height":b(window).height()+"px",overflow:"hidden"})},f=function(){b("body").css({"max-height":"none",overflow:"auto"})},g=function(a,c,g){(a.hasClass("eb_lightbox")||a.hasClass("js-eb-lightbox"))&&(c?(f(),a.removeClass("active"),/MSIE\ (5|6|7|8)/i.test(navigator.userAgent)?(a.hide(0,g),b("div.eb_lightbox_background").remove(),a.trigger("lightboxHide")):(a.fadeOut(333,function(){a.trigger("lightboxHide"),"function"==typeof g&&g.call(a)}),b("div.eb_lightbox_background").fadeTo(333,0,function(){b(this).remove()})),b(".js-eb-lightbox-parent").hide()):(a.hasClass("active")||(a.addClass("active"),a.before('<div class="eb_lightbox_background"></div>')),/MSIE\ (5|6|7|8)/i.test(navigator.userAgent)?(a.show(0),b("div.eb_lightbox_background").css("opacity","0.5")):(a.fadeIn(333),b("div.eb_lightbox_background").fadeTo(333,.5)),a.trigger("lightboxShow"),"function"==typeof g&&g.call(a),d(a),e()))},h=function(a){var c=b("div.eb_lightbox.active, .js-eb-lightbox.active"),d=b.Event("lightboxCancel");b(a.target).hasClass("eb_lightbox_background")&&c.data("noBackgroundClick")||(c.trigger(d),d.isDefaultPrevented()||(c.find("input, select, textarea").each(function(){/radio|checkbox/.test(b(this).attr("type"))?this.checked=!!b(this).data("initial"):b(this).val(b(this).data("initial")||"").trigger("change").trigger("blur")}),g(c,!0)))};a.Ui.lightbox.show=function(a,d){var e=c(a);e.find("input, select, textarea").each(function(){/radio|checkbox/.test(b(this).attr("type"))?b(this).data("initial",this.checked):b(this).data("initial",b(this).val())}),g(e,!1,d)},a.Ui.lightbox.hide=function(a,b){g(c(a),!0,b)},a.Ui.lightbox.center=function(a){d(c(a))},b("body").delegate(".js-eb-lightbox__close, div.eb_lightbox_close, div.eb_lightbox .cancel, div.eb_lightbox_background","click",function(a){a.preventDefault(),h(a)}),b("body").delegate("div.eb_lightbox .save","click",function(a){a.preventDefault();var c=b("div.eb_lightbox.active"),d=b.Event("lightboxSave");c.trigger(d),d.isDefaultPrevented()||g(c,!0)}),b(document).keyup(function(a){27==a.keyCode&&h(a)})}(window.EB=window.EB||{},jQuery),function(a,b,c,d){a.namespace("CreatePage");var e,f=new $.Deferred,g,h={footerPublishButton:".submit_for_live",headerSaveButton:".js-save-event-button",headerPublishButton:".js-publish-event-button"},i="previous-disabled";d(["eb/janus","require/components/loading_dialog/component_async"],function(a,b){e=a,g=new b({text:c("Please wait while your changes are being saved.")}),f.resolve()});var j='<html>\n<head>\n<title>"'+c("Please wait while we preview your event")+'"</title>\n<style>\ndiv {\n  background: url(data:image/gif;base64,R0lGODlhIAAgAPMAAP///wAAAMbGxoSEhLa2tpqamjY2NlZWVtjY2OTk5Ly8vB4eHgQEBAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAIAAgAAAE5xDISWlhperN52JLhSSdRgwVo1ICQZRUsiwHpTJT4iowNS8vyW2icCF6k8HMMBkCEDskxTBDAZwuAkkqIfxIQyhBQBFvAQSDITM5VDW6XNE4KagNh6Bgwe60smQUB3d4Rz1ZBApnFASDd0hihh12BkE9kjAJVlycXIg7CQIFA6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YJvpJivxNaGmLHT0VnOgSYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ/V/nmOM82XiHRLYKhKP1oZmADdEAAAh+QQJCgAAACwAAAAAIAAgAAAE6hDISWlZpOrNp1lGNRSdRpDUolIGw5RUYhhHukqFu8DsrEyqnWThGvAmhVlteBvojpTDDBUEIFwMFBRAmBkSgOrBFZogCASwBDEY/CZSg7GSE0gSCjQBMVG023xWBhklAnoEdhQEfyNqMIcKjhRsjEdnezB+A4k8gTwJhFuiW4dokXiloUepBAp5qaKpp6+Ho7aWW54wl7obvEe0kRuoplCGepwSx2jJvqHEmGt6whJpGpfJCHmOoNHKaHx61WiSR92E4lbFoq+B6QDtuetcaBPnW6+O7wDHpIiK9SaVK5GgV543tzjgGcghAgAh+QQJCgAAACwAAAAAIAAgAAAE7hDISSkxpOrN5zFHNWRdhSiVoVLHspRUMoyUakyEe8PTPCATW9A14E0UvuAKMNAZKYUZCiBMuBakSQKG8G2FzUWox2AUtAQFcBKlVQoLgQReZhQlCIJesQXI5B0CBnUMOxMCenoCfTCEWBsJColTMANldx15BGs8B5wlCZ9Po6OJkwmRpnqkqnuSrayqfKmqpLajoiW5HJq7FL1Gr2mMMcKUMIiJgIemy7xZtJsTmsM4xHiKv5KMCXqfyUCJEonXPN2rAOIAmsfB3uPoAK++G+w48edZPK+M6hLJpQg484enXIdQFSS1u6UhksENEQAAIfkECQoAAAAsAAAAACAAIAAABOcQyEmpGKLqzWcZRVUQnZYg1aBSh2GUVEIQ2aQOE+G+cD4ntpWkZQj1JIiZIogDFFyHI0UxQwFugMSOFIPJftfVAEoZLBbcLEFhlQiqGp1Vd140AUklUN3eCA51C1EWMzMCezCBBmkxVIVHBWd3HHl9JQOIJSdSnJ0TDKChCwUJjoWMPaGqDKannasMo6WnM562R5YluZRwur0wpgqZE7NKUm+FNRPIhjBJxKZteWuIBMN4zRMIVIhffcgojwCF117i4nlLnY5ztRLsnOk+aV+oJY7V7m76PdkS4trKcdg0Zc0tTcKkRAAAIfkECQoAAAAsAAAAACAAIAAABO4QyEkpKqjqzScpRaVkXZWQEximw1BSCUEIlDohrft6cpKCk5xid5MNJTaAIkekKGQkWyKHkvhKsR7ARmitkAYDYRIbUQRQjWBwJRzChi9CRlBcY1UN4g0/VNB0AlcvcAYHRyZPdEQFYV8ccwR5HWxEJ02YmRMLnJ1xCYp0Y5idpQuhopmmC2KgojKasUQDk5BNAwwMOh2RtRq5uQuPZKGIJQIGwAwGf6I0JXMpC8C7kXWDBINFMxS4DKMAWVWAGYsAdNqW5uaRxkSKJOZKaU3tPOBZ4DuK2LATgJhkPJMgTwKCdFjyPHEnKxFCDhEAACH5BAkKAAAALAAAAAAgACAAAATzEMhJaVKp6s2nIkolIJ2WkBShpkVRWqqQrhLSEu9MZJKK9y1ZrqYK9WiClmvoUaF8gIQSNeF1Er4MNFn4SRSDARWroAIETg1iVwuHjYB1kYc1mwruwXKC9gmsJXliGxc+XiUCby9ydh1sOSdMkpMTBpaXBzsfhoc5l58Gm5yToAaZhaOUqjkDgCWNHAULCwOLaTmzswadEqggQwgHuQsHIoZCHQMMQgQGubVEcxOPFAcMDAYUA85eWARmfSRQCdcMe0zeP1AAygwLlJtPNAAL19DARdPzBOWSm1brJBi45soRAWQAAkrQIykShQ9wVhHCwCQCACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiRMDjI0Fd30/iI2UA5GSS5UDj2l6NoqgOgN4gksEBgYFf0FDqKgHnyZ9OX8HrgYHdHpcHQULXAS2qKpENRg7eAMLC7kTBaixUYFkKAzWAAnLC7FLVxLWDBLKCwaKTULgEwbLA4hJtOkSBNqITT3xEgfLpBtzE/jiuL04RGEBgwWhShRgQExHBAAh+QQJCgAAACwAAAAAIAAgAAAE7xDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfZiCqGk5dTESJeaOAlClzsJsqwiJwiqnFrb2nS9kmIcgEsjQydLiIlHehhpejaIjzh9eomSjZR+ipslWIRLAgMDOR2DOqKogTB9pCUJBagDBXR6XB0EBkIIsaRsGGMMAxoDBgYHTKJiUYEGDAzHC9EACcUGkIgFzgwZ0QsSBcXHiQvOwgDdEwfFs0sDzt4S6BK4xYjkDOzn0unFeBzOBijIm1Dgmg5YFQwsCMjp1oJ8LyIAACH5BAkKAAAALAAAAAAgACAAAATwEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GGl6NoiPOH16iZKNlH6KmyWFOggHhEEvAwwMA0N9GBsEC6amhnVcEwavDAazGwIDaH1ipaYLBUTCGgQDA8NdHz0FpqgTBwsLqAbWAAnIA4FWKdMLGdYGEgraigbT0OITBcg5QwPT4xLrROZL6AuQAPUS7bxLpoWidY0JtxLHKhwwMJBTHgPKdEQAACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GAULDJCRiXo1CpGXDJOUjY+Yip9DhToJA4RBLwMLCwVDfRgbBAaqqoZ1XBMHswsHtxtFaH1iqaoGNgAIxRpbFAgfPQSqpbgGBqUD1wBXeCYp1AYZ19JJOYgH1KwA4UBvQwXUBxPqVD9L3sbp2BNk2xvvFPJd+MFCN6HAAIKgNggY0KtEBAAh+QQJCgAAACwAAAAAIAAgAAAE6BDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfYIDMaAFdTESJeaEDAIMxYFqrOUaNW4E4ObYcCXaiBVEgULe0NJaxxtYksjh2NLkZISgDgJhHthkpU4mW6blRiYmZOlh4JWkDqILwUGBnE6TYEbCgevr0N1gH4At7gHiRpFaLNrrq8HNgAJA70AWxQIH1+vsYMDAzZQPC9VCNkDWUhGkuE5PxJNwiUK4UfLzOlD4WvzAHaoG9nxPi5d+jYUqfAhhykOFwJWiAAAIfkECQoAAAAsAAAAACAAIAAABPAQyElpUqnqzaciSoVkXVUMFaFSwlpOCcMYlErAavhOMnNLNo8KsZsMZItJEIDIFSkLGQoQTNhIsFehRww2CQLKF0tYGKYSg+ygsZIuNqJksKgbfgIGepNo2cIUB3V1B3IvNiBYNQaDSTtfhhx0CwVPI0UJe0+bm4g5VgcGoqOcnjmjqDSdnhgEoamcsZuXO1aWQy8KAwOAuTYYGwi7w5h+Kr0SJ8MFihpNbx+4Erq7BYBuzsdiH1jCAzoSfl0rVirNbRXlBBlLX+BP0XJLAPGzTkAuAOqb0WT5AH7OcdCm5B8TgRwSRKIHQtaLCwg1RAAAOwAAAAAAAAAAAA==) no-repeat center center;\n  height: 100%;\n  width: 100%;}\n</style>\n</head>\n<body>\n<div></div>\n</body>\n</html>',k={previewUrl:"/preview?eid=",editUrl:"/edit?eid="},l=function(a){var b=a.contentWindow||a.contentDocument;return b.document&&(b=b.document),b},m,n=parseInt($("#id_eid").val()||0,10),o,p=null,q=null,r=null,s=a.Backbone.Wreqr.radio.channel("repeatingEventsV3"),t,u="",v=function(){$(window).bind("hashchange",function(b){""===b.fragment?(F(),E(h,i)):"preview"===b.fragment&&(a.CreatePage.eid?window.tinyMCEDeferred.done(G):window.tinyMCEDeferred.done(function(){D(!1)}),E(m,n),a.CreatePage.Preview.customThemeModel&&a.CreatePage.Preview.customThemeModel.set("is_core",null))});var b=$(".page"),d=$("#tab_details"),f=$("#tab_preview"),g=$(".main-heading"),h=$("#to_new_listing"),i=$("#to_old_listing"),m=$("#preview_page").find("#to_new_listing"),n=$("#preview_page").find("#to_old_listing"),r=$(".js-create-theme"),s=$("#main_page"),v=$("#preview_page"),w=$("#preview_frame"),x=$("#preview_frame_lightbox"),y=$("#event_form"),z=$("#notification_page"),A=function(){var b=a.CreatePage.featureFlags;return b&&b.newListing2014},B=function(){w.load(function(){var b=a.CreatePage.Preview.isCoreEventPage();b&&(r.removeClass("hidden"),a.CreatePage.Preview.initThemeSlides())})},C=function(b){var c=new RegExp("[?&]eid=([^&#]*)","i"),d=c.exec(window.location.href),e;tinyMCE.triggerSave(),t="/preview?processForm=1&hideClose=1&hideHeaderFooter=1",A()&&(a.CreatePage.Preview.customThemeModel&&0==a.CreatePage.Preview.customThemeModel.get("is_core")?(t+="&newListing=1",1==a.CreatePage.Preview.customThemeModel.get("hasCustomHTML",!1)&&(t+="&hasCustomHTML=1")):a.CreatePage.Preview.customThemeModel&&1==a.CreatePage.Preview.customThemeModel.get("is_core")&&(t+="&oldListing=1")),d&&(e=d[1]),b=a.CreatePage.eid?a.CreatePage.eid:b,b&&!isNaN(b)?t+="&eid="+b:e&&(t+="&eid="+e),y.attr("action",t),y.attr("target","preview_frame"),a.CreatePage.submit().always(function(){y.removeAttr("action"),y.removeAttr("target"),y.find('input[type="text"]:focus').trigger("blur")}).pipe(function(){var a=$.Deferred();return $(".js-error-not-saved").hasClass("is-hidden")?a.resolve():a.reject(),a.promise()}).fail(function(){F(),document.location.hash=""})},D=function(b){var d,f,g,h,i,l,m,n="_preview";$(".js-error-not-saved").addClass("is-hidden"),tinyMCE.triggerSave(),a.CreatePage.toggleTrackingErrors(!0);var o=a.CreatePage.eventTicketsView.currencyView.validateView();if(p&&q&&q.validateViews()||!eventModel.isValid(!0)||o)return $(".js-error-not-saved").removeClass("is-hidden"),$("html body").stop().animate({scrollTop:0},400),o&&e&&e.logCheckpointViaAjax("create_payout_validation_error"),void a.CreatePage.toggleTrackingErrors(!1);if(a.CreatePage.toggleTrackingErrors(!1),b){window.name===n&&(window.name=""),d=window.open("",n);try{d.document.write(j)}catch(r){d&&d.close(),d=window.open("",n),d.document.write(j)}}f=$("#js_form_errors"),f.empty(),g=function(c){b&&d.close(),f.append(a.util.h('<div class="deprecated-notification red">{{a}}</div>',c)),$(window).scrollTop(0)},h=function(b){var d,e="js-preview-error",f;for($("."+e).remove(),$(".error").filter(":input").removeClass("error"),d=0;d<b.length;d++){var h=$("#"+b[d].html_id);h.addClass("error"),"id_group-privacy_and_promotion-custom_subdomain"!==b[d].html_id&&("id_group-location-longaddress"===b[d].html_id?b[d].html_id="id_location_physical_input":"id_group-payment_options-paypal_email"===b[d].html_id&&currencyModel.trigger("paypalError"),f=$("<ul>").addClass(e+" error"),$.each(b[d].errors,function(b,c){f.append(a.util.h("<li>{{a}}</li>",c))}),h.parent().append(f))}g(c("We can't preview your event just yet. Please review the highlighted fields below."))},i=function(){g(c("A server error occurred while attempting to preview your event. Please try again."))},l=function(b){b.listing_change_querystring&&(u="&listing="+b.listing_change_querystring),d.location.href=k.previewUrl+b.eid+u,setTimeout(function(){a.DirtyPage.setDirty(!1),window.location.href=k.editUrl+b.eid+u},25)},$("#id_group-invoice_tax_pdf-country").attr("disabled",!1),$("#id_group-tickets-0-cost").attr("disabled",!1),b?$.ajax({type:"POST",url:"/edit?type=ajax",data:y.serialize()}).done(function(a){a.eid&&$("#id_eid").val(a.eid),a.success?l(a):a.errors&&h(a.errors)}).fail(i):(m=$("#id_on_preview"),m.val("1"),a.CreatePage.submit(!1),m.val("0"))},E=function(a,b){A()&&(a.addClass("hidden"),b.addClass("hidden"))},F=function(){document.body.scrollTop=0,s.addClass("active").removeClass("inactive"),v.addClass("inactive").removeClass("active"),z.hasClass("visible")||(s.addClass("visible").removeClass("hidden"),v.addClass("hidden").removeClass("visible")),b.addClass("inactive").removeClass("active"),d.addClass("persistent-header__button--active"),f.removeClass("persistent-header__button--active"),$(".page.main").addClass("active").removeClass("inactive"),$(".js-publish-callout").removeClass("is-hidden"),x.fadeTo(0,.8).find("div").show(),$("#event_summary_bar").show(),$("#id_on_preview").val("0")},G=function(c){var e=c?c.eid:null,g;e&&window.history&&(g=[window.location.pathname,"?eid="+e,window.location.hash].join(""),window.history.pushState({},"",g)),$(window).scrollTop(0),s.addClass("inactive").removeClass("active"),v.addClass("active").removeClass("inactive"),z.hasClass("visible")||(s.addClass("hidden").removeClass("visible"),v.addClass("visible").removeClass("hidden")),b.addClass("inactive").removeClass("active"),d.removeClass("persistent-header__button--active"),f.addClass("persistent-header__button--active"),$(".page.preview").addClass("active").removeClass("inactive"),$(".js-publish-callout").addClass("is-hidden"),$("#event_summary_bar").hide(),$("#id_on_preview").val("1"),x.css("opacity","0.8"),w.load(function(){a.CreatePage.Preview.renderTheme(),"undefined"!=typeof o&&(o?$(l(w[0])).find(".event_title_image").html('<img class="photo" src="'+o+'" />'):$(l(w[0])).find(".event_title_image").empty()),$(this).css("height",$(window.frames.preview_frame.document).height()+"px"),x.fadeTo(333,0).find("div").hide()}),a.CreatePage.Preview.initThemeSlides(),C(e)};w.load(function(){$(this).css("height",$(window.frames.preview_frame.document).height()+"px")}),$(".preview_button").click(function(a){var b=$("#id_group-details-currency"),c=b.attr("disabled");a.preventDefault(),P()||(b.removeAttr("disabled"),D(!0),b.attr("disabled",c))}),$("#id_group-details-name").on("keyup",function(a){var b=$.trim($(a.target).val());0!==g.length&&(""===b?g.text(c("Create an Event")):g.text(b))}),/preview\=1/i.test(location.search)?location.hash="preview":"#preview"===location.hash&&(0===$(".deprecated-notification").length?window.tinyMCEDeferred.done(G):location.hash=""),B()},w=function(a){var b=$("#last_saved");a&&b.prepend(c("Last saved at")+" "+a)},x={updateTimeZoneDisplay:$.noop,selectTimeZone:$.noop,timezoneChangedTooltip:{show:$.noop}},y=function(a){var b=$("#timezone_short"),d=$("#id_group-timezone-timezone_string");x={updateTimeZoneDisplay:function(){var c=d.val();if(c){var e=a[c],f=e.abbreviation;b.html(f),$("#timezone_short_series").html(f)}},selectTimeZone:function(a){if(a){var b=!!d.find('option[value="'+a+'"]').length,c=d.val()===a;if(b&&!c)return d.val(a).trigger("change"),!0}},timezoneChangedTooltip:function(){var a,d={placement:"bottom",trigger:"manual",title:c("The timezone was changed to match your event's location")};return b.tooltip(d),$("#event_timezone").on("click",function(){b.tooltip("hide"),a&&a.tooltip("hide")}),{show:function(c){a||(a=$("#timezone_short_series"),a.tooltip(d)),b.is(":visible")&&b.tooltip("show"),a.is(":visible")&&a.tooltip("show"),setTimeout(function(){b.tooltip("hide"),a.tooltip("hide")},c||5e3)}}}()}},z=function(b){a.CreatePage.currencyCode=b},A=function(a,b,c){var e=$("#event_details_date_timezone");y(a),e.on("click",".save",function(){x.updateTimeZoneDisplay()}),e.on("click",".cancel",function(){e.find("input, select, textarea").each(function(){/radio|checkbox/.test($(this).attr("type"))?this.checked=!!$(this).data("initial"):$(this).val($(this).data("initial")||"").trigger("change").trigger("blur")})}),x.updateTimeZoneDisplay(),c||d(["require/components/timezone/detect_local_timezone"],function(a){var b=a();b&&(x.selectTimeZone(b),x.updateTimeZoneDisplay())})},B=function(){var a=$("#event_details_organizer"),b=function(b){var c=$("#edit-organizer-desc-"+b).find("textarea").attr("id");$(".edit-organizer-name, .edit-organizer-desc, .preview-organizer-name, .preview-organizer-desc").addClass("hidden").removeClass("visible"),$("#edit-organizer-name-"+b+", #edit-organizer-desc-"+b).addClass("visible").removeClass("hidden"),$("#event_details_organizer .extra .add-edit, #organizer-selector").addClass("hidden").removeClass("visible"),a.find(".extra .cancel").addClass("visible").removeClass("hidden"),$("#organizer_description_label").addClass("visible").removeClass("hidden"),$(".edit_organizer_social").addClass("hidden"),$("#edit_organizer_social_"+b).addClass("visible").removeClass("hidden"),b>0&&$("#edit-organizer-warning").addClass("visible").removeClass("hidden"),tinyMCE.execCommand("mceAddControl",!0,c)},c=function(a){$(".edit-organizer-name, .edit-organizer-desc, .preview-organizer-name, .preview-organizer-desc").addClass("hidden").removeClass("visible"),$("#preview-organizer-name-"+a+", #preview-organizer-desc-"+a).addClass("visible").removeClass("hidden"),$("#event_details_organizer .extra .add-edit, #organizer-selector").addClass("visible").removeClass("hidden"),$("#event_details_organizer .extra .cancel, #edit-organizer-warning").addClass("hidden").removeClass("visible"),$("#organizer_description_label").addClass("hidden").removeClass("visible"),$(".edit_organizer_social").addClass("hidden"),$("#edit_organizer_social_"+a).addClass("visible").removeClass("hidden")};a.on("change",".include_social_page",function(){var a=$(this),b=a.is(":checked"),c=a.parent(),d=c.siblings(".edit_organizer_social_facebook"),e=c.siblings(".edit_organizer_social_twitter");d.toggleClass("hidden",!b),e.toggleClass("hidden",!b),d.find("input:checkbox").prop("checked",b),e.find("input:checkbox").prop("checked",b)}),$("#id_group-organizer-organizer").change(function(){$("#organizer-selector").data("has-error")?b($(this).val()):c($(this).val())}),a.find(".extra .edit").click(function(a){a.preventDefault();var c=$("#id_group-organizer-organizer").val()||"1";b(c)});var d=$("#id_group-organizer-add_organizer");a.find(".extra .cancel").click(function(b){b.preventDefault(),a.find('input[type="text"]').each(function(){$(this).val($(this).data("initial"))}),a.find("textarea").each(function(){$(this).val($(this).data("initial")),tinyMCE.get($(this).attr("id"))&&tinyMCE.get($(this).attr("id")).setContent($(this).data("initial"))});var e=$("#id_group-organizer-organizer").val()||"1";c(e),"True"==d.val()&&d.val("False")}),a.find(".extra .add").click(function(a){a.preventDefault();var c="0",e=$("#edit-organizer-desc-"+c).find("textarea").attr("id");b(c),d.val("True"),tinyMCE.execCommand("mceAddControl",!0,e)})},C=function(){a.Media.ImageUpload.prototype.handleImageMouseover=function(){},a.Media.ImageUpload.prototype.handleImageMouseout=function(){};var b=$(".js-image-upload__image"),c=$(".form__logo-upload__with-image-section .form__logo-upload__image-controls");new a.Media.ImageUpload({el:"#event-logo-uploader",filePickerEl:".js-file-picker__input",uploadFormEl:"#event_form",uploadInit:{form_selector:"#event_form",image_data_selector:"#id_group-logo-logo-upload-form",image_id_selector:"#id_logo_id-upload-form",image_version_selector:"#id_logo_version-upload-form",image_ext_selector:"#id_logo_ext-upload-form",image_sizes_selector:"#id_logo_sizes-upload-form",check_max_size_on_select_file:1},saveImageCallback:function(){var a=b.attr("src"),d=l($("#preview_frame")[0]);c.addClass("is-forced-visible"),b.parent(".js-uploaded-image-container").removeClass("l-pad-vert-4 l-sm-pad-vert-3").removeClass("l-pad-hor-3 l-sm-pad-hor-2").removeClass("pod").removeClass("pod--empty"),o=a,$(".event_title_image").html('<img class="photo" src="'+a+'" />'),d&&$(d).find(".event_title_image").html('<img class="photo" src="'+a+'" />')},removeImageCallback:function(){var a=l($("#preview_frame")[0]);c.removeClass("is-forced-visible"),b.parent(".js-uploaded-image-container").addClass("l-pad-vert-4 l-sm-pad-vert-3").addClass("l-pad-hor-3 l-sm-pad-hor-2").addClass("pod").addClass("pod--empty"),$(".event_title_image").html(o?'<img class="photo" src="'+o+'" />':""),o="",a&&$(a).find(".event_title_image").empty()}}),""===b.attr("src")?b.parent(".js-uploaded-image-container").addClass("l-pad-vert-4 l-sm-pad-vert-3").addClass("l-pad-hor-3 l-sm-pad-hor-2").addClass("pod").addClass("pod--empty"):c.addClass("is-forced-visible")},D=function(){$("#event_questions_questions_required").find('input[type="radio"]').change(function(){$("#id_group-questions-questions_required_3").is(":checked")?$(this).parentsUntil("ul").last().before('<li class="message">'+c("Go to Collect Custom Information within event management for additional options")+"</li>"):$(this).parentsUntil("div.right").find("li.message").remove()})},E=function(a){var b=$("#add_faqs_lightbox"),d=b.find(".faq_div"),e="id_group-details-description",f=function(){return d.find('input[type="checkbox"]:checked')},g=function(){f().each(function(){this.checked=!1,$(this).data("initial",!1)})},h=function(){return tinyMCE.get(e)},i=function(){var b="";return a.forEach(function(a,c){b+="<h3>"+a.heading+"</h3>",a.faqs.forEach(function(a,d){b+='<p><input id="faq-lightbox-checkbox'+c+d+'" type="checkbox" value="'+[c,d].join(",")+'" /> <label for="faq-lightbox-checkbox'+c+d+'">'+a+"</label></p>"})}),b},j=function(){var b,d,e;return b=f(),b.length?(d="<p>&nbsp;</p><p><strong>"+c("FAQs")+"</strong></p><p>&nbsp;</p>",b.each(function(){e=$(this).val().split(","),d+="<p><strong>"+a[e[0]].faqs[e[1]]+"</strong></p>",d+="<p>"+c("Your answer goes here")+"</p><p>&nbsp;</p>"}),d):void 0};d.html(i()),b.on("click",".js-save-faqs",function(a){var b,c,d;a.preventDefault(),b=j(),b&&(c=h(),c.isHidden()&&c.show(),d=c.getContent(),c.setContent(d+b)),g()})},F=function(){a.Ui.lightbox.show("#new_create_benefit"),$(".lightbox-close").on("click",function(){a.Ui.lightbox.hide("#new_create_benefit")})},G=function(){var b=function(b){b.preventDefault(),a.CreatePage.submit(!0,!0)},c=function(){a.CreatePage.submit(!1,!0),location.hash=""},d=function(){a.CreatePage.submit(!0,!0),location.hash=""};$(document).on("click",h.footerPublishButton,b).on("click",h.headerSaveButton,c).on("click",h.headerPublishButton,d)},H=function(){return Date.now?Date.now():(new Date).getTime()},I=function(){return Math.round(H()/1e3)},J=function(b){var c,d,e=0,f=0,g=0,h=!1,i,j=d=c=I(),k=function(){var k=I(),l=k-j;if(l>600){clearInterval(i),g++,h=!0;var m=j-d;e+=m,d=j;var n=k-c;a.Analytics.trackEvent(O("SwitchToIdle",null,!0,b,{metrics:[a.Analytics.METRICS.TIME_SPENT_ON_PAGE(n),a.Analytics.METRICS.IDLE_PERIOD_ID(g),a.Analytics.METRICS.TIME_SPENT_THIS_ACTIVE(m),a.Analytics.METRICS.TOTAL_TIME_SPENT_ACTIVE(e),a.Analytics.METRICS.TOTAL_TIME_SPENT_IDLE(f+600)],dimensions:[a.Analytics.DIMENSIONS.PAGE_SCROLL_POSITION(L().toString()),a.Analytics.DIMENSIONS.IN_FOCUS_FIELD(K())],nonInteraction:!0}))}},l=function(){var l=I();if(h){h=!1,d=l;var m=l-j;f+=m,i=setInterval(k,15e3);var n=l-c;a.Analytics.trackEvent(O("SwitchToActive",null,!0,b,{metrics:[a.Analytics.METRICS.TIME_SPENT_ON_PAGE(n),a.Analytics.METRICS.IDLE_PERIOD_ID(g),a.Analytics.METRICS.TIME_SPENT_THIS_IDLE(m),a.Analytics.METRICS.TOTAL_TIME_SPENT_ACTIVE(e),a.Analytics.METRICS.TOTAL_TIME_SPENT_IDLE(f)]}))}j=l};i=setInterval(k,15e3);var m=$(window);m.on("keydown click scroll",l);var n=!1,o=!1,p=function(d){return function(){if(o=!0,!n){n=!0;var e=I()-c;a.Analytics.trackEvent(O("DesignTabClicked",d,!0,b,{metrics:[a.Analytics.METRICS.TIME_SPENT_ON_PAGE(e)],dimensions:[a.Analytics.DIMENSIONS.NAME_OF_BUTTON(d)]}))}}};$("#tab_preview").on("click",p("DESIGN_TAB")),$("#tab_details").on("click",function(){o=!1});var q=$("#preview_page"),r=!1,s=function(){if(!r){r=!0;var d=I()-c;a.Analytics.trackEvent(O("DesignChanged",null,!0,b,{metrics:[a.Analytics.METRICS.TIME_SPENT_ON_PAGE(d)]}))}};q.one("click","img,a",s),q.one("change","input",s);var t=function(d,g){return function(){var h=I()-c;a.Analytics.trackEvent(O("SaveClicked",d+"-"+g,!0,b,{metrics:[a.Analytics.METRICS.TIME_SPENT_ON_PAGE(h),a.Analytics.METRICS.TOTAL_TIME_SPENT_ACTIVE(e),a.Analytics.METRICS.TOTAL_TIME_SPENT_IDLE(f)],dimensions:[a.Analytics.DIMENSIONS.PAGE_SCROLL_POSITION(L().toString()),a.Analytics.DIMENSIONS.NAME_OF_BUTTON(d),a.Analytics.DIMENSIONS.LOCATION_ON_PAGE(g),a.Analytics.DIMENSIONS.IS_ON_DESIGN_TAB(""+o)]}))}};$("#save-event-button").on("click",t("SAVE","HEADER")),$("#preview-event-button-header").on("click",t("PREVIEW","HEADER")),$("#make-event-live-button-header").on("click",t("MAKE_LIVE","HEADER")),$("#save-event-button-almost-done").on("click",t("SAVE","ALMOST_DONE")),$("#make-event-live-button-almost-done").on("click",t("MAKE_LIVE","ALMOST_DONE")),a.CreatePage.eventCreateFormSubmitted=!1,m.on("unload",function(){if(!a.CreatePage.eventCreateFormSubmitted){var g=I();h?f+=g-j:e+=j-d;var i=g-c;a.Analytics.trackEvent(O("UnsavedLeft",null,!0,b,{metrics:[a.Analytics.METRICS.TIME_SPENT_ON_PAGE(i),a.Analytics.METRICS.TOTAL_TIME_SPENT_ACTIVE(e),a.Analytics.METRICS.TOTAL_TIME_SPENT_IDLE(f)],dimensions:[a.Analytics.DIMENSIONS.PAGE_SCROLL_POSITION(L().toString()),a.Analytics.DIMENSIONS.IN_FOCUS_FIELD(K())],nonInteraction:!0})),$.ajax({type:"GET",url:"/nohealthcheck?_a=EventCreateUnsavedLeft&_i="+b+"&_t="+H(),async:!1,timeout:2e3})}})},K=function(){var a=$(document.activeElement);return a.is("input, textarea, select")?a.attr("name")||null:null},L=function(){var a=$(document).scrollTop(),b=document.documentElement.scrollHeight,c=$(window).height(),d=Math.round(a/b*100),e=Math.round((a+c)/b*100);return[d,e]},M=function(b){$("#id_group-details-name").one("keyup",function(){a.Analytics.trackEvent(O("TitleEntered",null,!0,b))});var c=!1,d=!1,e=function(d){return function(){c||(c=!0,a.Analytics.trackEvent(O("LocationEntered",d,!0,b,{dimensions:[a.Analytics.DIMENSIONS.HOW_ENTERED(d)]})))}};$("#location-is-online-button").one("click",e("ONLINE"));var f=$("#create_location_content");f.one("change","#location_select_past",e("PAST")),f.one("change","#location_edit_form input",e("MANUAL")),f.one("change","#location_edit_form input",function(c){if(a.CreatePage.googlePlacesAutocompleteWasSelected&&!d){d=!0;var e=c.srcElement.className,f="venue";e.indexOf("address_1")>-1?f="address_1":e.indexOf("address_2")>-1?f="address_2":e.indexOf("city")>-1?f="city":e.indexOf("state")>-1?f="state":e.indexOf("postal_code")>-1&&(f="postal_code"),a.Analytics.trackEvent(O("LocationDetailsEdited",null,!0,b,{dimensions:[a.Analytics.DIMENSIONS.FIELD_CHANGED(f)]}))}});var g=!1,h=function(c){return function(){g&&!c||(g=!0,a.Analytics.trackEvent(O("DateChanged","repeating="+c,!0,b,{dimensions:[a.Analytics.DIMENSIONS.IS_REPEATING(""+c)]})))}};$("#id_group-details-start_date").one("change",h(!1)),$("#id_group-details-end_date").one("change",h(!1)),$("#event_details_date").one("click",".js-add_series_schedule",h(!0)),$("#event_details_date_timezone").one("click","btn,.save",function(){a.Analytics.trackEvent(O("DateTimeSettingsChanged",null,!0,b))});var i=function(){a.Analytics.trackEvent(O("LogoAdded",null,!0,b))};$("#id_group-logo-logo-upload-form").one("change",i),$(".js-logo-croploader").one("croploader-ready",function(){$(".croploader-modal .js-btn-save").one("click",i)});var j=!1,k=function(){j||(j=!0,a.Analytics.trackEvent(O("DescriptionEntered",null,!0,b)))};$("#id_group-details-description").one("keyup",k),window.tinyMCEDeferred.done(function(){var a=tinyMCE.get("id_group-details-description");a.onKeyUp.add(k),a.onPaste.add(k)});var l=!1,m=function(c){return function(){l||(l=!0,a.Analytics.trackEvent(O("OrganizerSelected",c,!0,b,{dimensions:[a.Analytics.DIMENSIONS.HOW_ENTERED(c)]})))}};setTimeout(function(){$("#id_group-organizer-organizer").one("change",m("SELECTED"))},2500),$("#id_group-organizer-organizers-2-organization_name").one("keyup",m("ENTERED"));var n=function(){a.Analytics.trackEvent(O("EditOrganizerProfile",null,!0,b))};$("#edit_organizer_profile").on("click",n);var o=$("#create_tickets_wrapper"),p=o.find("section.js-ticket-summary"),q=!1,r=!1,s=function(c){return function(){a.Analytics.trackEvent(O("TicketAdded",c,!0,b,{dimensions:[a.Analytics.DIMENSIONS.TICKET_TYPE(c)]}))}};o.on("click","#create-ticket-free-button",s("FREE")),o.on("click","#create-ticket-paid-button",s("PAID")),o.on("click","#create-ticket-donation-button",s("DONATION")),p.on("click","a.js-delete-ticket",function(){a.Analytics.trackEvent(O("TicketDeleted",null,!0,b))}),p.one("click","a.js-ticket-settings-link",function(){q||(q=!0,a.Analytics.trackEvent(O("TicketSettingsClicked",null,!0,b)))}),p.one("change","div.ticket-settings-container input",function(){r||(r=!0,a.Analytics.trackEvent(O("TicketSettingsChanged",null,!0,b)))}),$("#create_tickets_header").find("a.js-switch-view-button").one("click",function(){a.Analytics.trackEvent(O("ReservedSeatingEnabled",null,!0,b))});var t=$("#privacy_and_promotion_wrapper"),u=!1;t.one("change","input",function(){u||(u=!0,a.Analytics.trackEvent(O("AdditionalSettingsChanged",null,!0,b)))}),t.on("change","[name='group-privacy_and_promotion-listed']",function(c){var d="True"==c.srcElement.value?"PUBLIC":"PRIVATE";a.Analytics.trackEvent(O("VisibilityChanged",d,!0,b,{dimensions:[a.Analytics.DIMENSIONS.VISIBILITY(d)]}))})},N=function(b){var c=I(),d=!1,e=function(){d=!0};$("#tab_preview").on("click",e),$("#tab_details").on("click",function(){d=!1});var f=function(e,f){return function(){var g=I()-c;a.Analytics.trackEvent(O("EditSaveClicked",e+"-"+f,!1,b,{metrics:[a.Analytics.METRICS.TIME_SPENT_ON_PAGE(g)],dimensions:[a.Analytics.DIMENSIONS.PAGE_SCROLL_POSITION(L().toString()),a.Analytics.DIMENSIONS.NAME_OF_BUTTON(e),a.Analytics.DIMENSIONS.LOCATION_ON_PAGE(f),a.Analytics.DIMENSIONS.IS_ON_DESIGN_TAB(""+d)]}))}};$("#save-event-button").on("click",f("SAVE","HEADER")),$("#preview-event-button-header").on("click",f("PREVIEW","HEADER")),$("#make-event-live-button-header").on("click",f("MAKE_LIVE","HEADER")),$("#save-event-button-almost-done").on("click",f("SAVE","ALMOST_DONE")),$("#make-event-live-button-almost-done").on("click",f("MAKE_LIVE","ALMOST_DONE"))},O=function(b,c,d,e,f){var g=f||{};return"dimensions"in g||(g.dimensions=[]),"metrics"in g||(g.metrics=[]),g.category="create",g.action=b,g.label=c,g.sendToHive=!0,d?g.dimensions.push(a.Analytics.DIMENSIONS.TEMPORARY_OBJECT_ID(""+e)):g.dimensions.push(a.Analytics.DIMENSIONS.EVENT_ID(""+e)),g},P=function(){var a=$(".js-dtp-has-errors").length>0;return a&&alert(window.gettext("There is a problem with the event's date and time.")),a},Q=function(a){a.each(function(a,b){var c=$(b);c.data(i,c.attr("disabled")).removeAttr("disabled")})},R=function(a){a.each(function(a,b){var c=$(b);c.attr("disabled",c.data(i))})},S=function(d,h){var i=$("#event_form select[disabled], #event_form input[disabled], #event_form .js-ticket-description"),j=$("#event_form"),k=new Date,l=!1,m=$.Deferred(),n;return $(".js-error-not-saved").addClass("is-hidden"),"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave(),$(".include_social_page").trigger("change"),a.CreatePage.toggleTrackingErrors(!0),d&&(a.Date.fromSql($("#id_group-details-end_date").val())<k&&(confirm(c("Both the start and end date for this event are set in the past. Do you want to continue?"))||(l=!0,a.CreatePage.trackError("start_end_dates_in_past"))),1===eventModel.get("inventory_type")&&(!eventModel.get("has_payment_type")||eventModel.get("accept_eventbrite")&&!currencyModel.requiresPaypal()||(alert(window.gettext("Reserved Seating events require using Eventbrite Payment Processing and its supported currencies. Please change your payment processing on the Manage page or search for 'Credit card processing setup' on help.eventbrite.com.")),l=!0,a.CreatePage.trackError("reserved_seating_requires_epp")),eventModel.get("is_repeating")&&(alert(window.gettext("Reserved Seating is not yet supported for repeating events.")),l=!0,a.CreatePage.trackError("reserved_seating_no_repeating"))),eventModel.get("is_series")&&r&&0===r.length&&(alert(window.gettext("You must add at least one date to your repeating event.")),l=!0,a.CreatePage.trackError("repeating_event_no_dates"))),n=this.validateTickets(),l||(l=n),eventModel.get("allow_transfers")&&!p.hasPaidTicket()&&(confirm(window.gettext("You have turned on transfers for one or more tickets on this event. Changing this to a free or donation-only event will disable transfers for this event. Continue?"))||(l=!0,
a.CreatePage.trackError("enabled_transfers_no_paid_tickets"))),P()&&(l=!0),this.eventTicketsView.currencyView.validateView()&&($(".js-error-not-saved").removeClass("is-hidden"),$("html body").stop().animate({scrollTop:0},400),e&&e.logCheckpointViaAjax("create_payout_validation_error"),l=!0),a.CreatePage.toggleTrackingErrors(!1),l?(m.reject(),m.promise()):($("#id_group-details-make_live").val(d?1:0),a.DirtyPage.setDirty(!1),Q(i),a.CreatePage.eventCreateFormSubmitted=!0,h&&eventModel.get("is_series")&&a.CreatePage.featureFlags.loading_modal_for_event_save&&f.then(function(){g.open()}),b.delay(function(){j.submit(),R(i),m.resolve()}),m.promise())},T=function(){d(["url-lib","require/components/feature_prompt/components/notification_view"],function(b,c){var e=b.parseQuery(window.location.search),f=e.success,g=e.pckg;if(f&&g)if("Professional Plus"===g)$("#main_content").prepend('<div id="feature-prompt"></div>'),d(["require/asyncBundles/featurePrompt.amd.async"],function(b){b["default"]({planType:"package2",featureType:"proPlusSuccess",canChangePlan:a.CreatePage.featurePrompt.canChangePlan,pricing:a.CreatePage.featurePrompt.pricing})});else{var h=new c({promptType:"existingUserPrompt",upgradedTo:g.toLowerCase()});$("#main_content").prepend(h.render().$el)}})},U={init:function(b){var c=$("#event_form");a.Ui.placeholder('input:not([id*="__prefix__"])');var d=$("#id_group-details-name");a.Ui.charLimit("#id_group-details-name",0,75,20,!0),d.hasClass("error")&&d.keyup(function(){$(this).val().length>0?($(this).removeClass("error"),$("#id_group-details-name_errors").addClass("hidden")):($(this).addClass("error"),$("#id_group-details-name_errors").removeClass("hidden"))}),"boolean"==typeof b.persistentNavigationFlag&&b.persistentNavigationFlag&&-1===document.location.href.indexOf("/try-eventbrite")&&$("#tab_manage").on("click",function(b){var c=$("#event_form"),d=a.DirtyPage.isDirty(),e=window.gettext("Do you want to save the changes made to your event?"),f=window.gettext("Do you want to save changes to the draft event you've created?\nYour changes will be lost if you do not save them."),g=e;-1===document.location.pathname.search("edit")&&(g=f),a.DirtyPage.setDirty(!1),d&&confirm(g)&&(b.preventDefault(),c.append($('<input type="hidden" name="go_to_manage" value="1" />')),a.CreatePage.submit())}),c.on("click",".js-create-seat-map",function(b){b.preventDefault(),c.append($('<input type="hidden" name="go_to_seatmap" value="1" />')),a.CreatePage.temporary_id&&a.Analytics.trackEvent(O("SeatMapAddStarted",null,!0,a.CreatePage.temporary_id)),a.CreatePage.submit()}),c.on("keypress",function(a){13===a.keyCode&&a.preventDefault()}),v(),w(b.lastSaved),B(),A(b.timezone_info,b.readonly_date,b.isEventSaved),z(b.currencyCode),C(),D(),E(b.faqs),G(),b.showNewCreateBenefit&&F(),T(),window.save=a.CreatePage.submit,window.publish=function(){a.CreatePage.submit(!0)}},initAnalyticsActions:function(b){this.temporary_id="temporary_id"in b&&b.temporary_id.length>0?b.temporary_id:null,this.eid="eid"in b&&b.eid>0?b.eid:null,this.googlePlacesAutocompleteWasSelected=!1,this.isFirstCreate="isFirstCreate"in b&&b.isFirstCreate,this.temporary_id?(a.Analytics.trackEvent(O("Start",null,!0,this.temporary_id,{nonInteraction:!0,dimensions:[a.Analytics.DIMENSIONS.IS_FIRST_CREATE_VIEW(this.isFirstCreate.toString())]})),a.Analytics.analyticsAction("EventCreateStartAction",{temporary_object_id:this.temporary_id},{}),J(this.temporary_id),M(this.temporary_id)):this.eid&&(a.Analytics.trackEvent(O("EditStart",null,!1,this.eid,{nonInteraction:!0})),N(this.eid))},initCappedFeeRules:function(b){a.CreatePage.cappedFeeRules={cappedFeeThreshold:b.cappedFeeThreshold,cappedFeeRate:b.cappedFeeRate}},toggleTrackingErrors:function(a){this.trackedErrors=[],this.trackingErrors=a},trackError:function(c){if(this.trackingErrors&&!b.contains(this.trackedErrors,c)){this.trackedErrors.push(c);var d,e,f="";this.temporary_id?(d=!0,e=this.temporary_id):(d=!1,e=this.eid,f="Edit"),a.Analytics.trackEvent(O(f+"InteractiveError",null,d,e,{dimensions:[a.Analytics.DIMENSIONS.ERROR_CODE(c)]}))}},googlePlacesAutocompleteSelected:function(){this.googlePlacesAutocompleteWasSelected||(this.googlePlacesAutocompleteWasSelected=!0,a.Analytics.trackEvent(O("LocationEntered","AUTOCOMPLETE",!0,this.temporary_id,{dimensions:[a.Analytics.DIMENSIONS.HOW_ENTERED("AUTOCOMPLETE")]})))},submit:b.debounce(S,4e3,!0),eid:n,setTicketCollection:function(a){p=a},setTicketSummaryView:function(a){q=a},scrollToTop:function(){$("html body").stop().animate({scrollTop:0},400)},validateTickets:function(){var a=!1,b=this.eventTicketsView.ticketCollection.hasAllValidTicketLimits();return eventModel.isValid(!0)&&b||($(".js-error-not-saved").removeClass("is-hidden"),this.scrollToTop(),a=!0),b||"none"!==$(".ticket-settings").css("display")||$(".js-ticket-settings-link").trigger("click"),parseInt($("#id_group-tickets-TOTAL_FORMS").val(),10)>0&&0===$("#id_group-tickets-0-id").length&&(a=!0,this.trackError("no_tickets")),a},setSeriesCollection:function(a){r=a},getTicketsCollection:function(){return p},getSeriesCollection:function(){return r},getRepeatingEventsV3Channel:function(){return s},updateTimeZoneByGeo:function(a,b){parseFloat(a)&&parseFloat(b)&&$.ajax({url:"/ajax/timezone_from_geo",data:{latitude:a,longitude:b}}).done(function(a){a&&a.timezone&&x.selectTimeZone(a.timezone)&&(x.updateTimeZoneDisplay(),x.timezoneChangedTooltip.show())})}};b.extend(a.CreatePage,U)}(window.EB,window._,window.gettext,require),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.NewLocationController=c.Controller.extend({initialize:function(){_.bindAll(this,"locationEdit","locationCantFind","locationIsOnline","locationSelectPast"),this.view=new a.CreatePage.NewLocationView({model:this.sandbox.request("venue:entity:new"),hasPastLocations:!!this.sandbox.request("venue:entities:past"),isCepEnabled:!(!a.CreatePage.featureFlags||!a.CreatePage.featureFlags.isBrasil()),updateCreateUX:!(!a.CreatePage.featureFlags||!a.CreatePage.featureFlags.updateCreateUX)}),this.region.show(this.view),this.listenTo(this.view,"location:place:selected",this.locationEdit),this.listenTo(this.view,"location:cantFind:clicked",this.locationCantFind),this.listenTo(this.view,"location:isOnline:clicked",this.locationIsOnline),this.listenTo(this.view,"location:selectPast:clicked",this.locationSelectPast),this.listenTo(this.view,"location:cep:selected",this.locationEdit)},locationEdit:function(){this.sandbox.execute("location:navigate:edit")},locationCantFind:function(){this.sandbox.request("venue:entity:new"),this.sandbox.execute("location:navigate:edit")},locationIsOnline:function(){this.sandbox.execute("location:navigate:isOnline")},locationSelectPast:function(){this.sandbox.execute("location:navigate:selectPast")},onClose:function(){this.view.close()}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","region"]})}(window.EB,window.EB.App,window.Marionette),function(a,b,c,d){"use strict";a.namespace("CreatePage"),a.CreatePage.NewLocationView=c.ItemView.extend({bindings:{".js-location-input-new":"address_1"},triggers:{"click .js-location-cant-find":"location:cantFind:clicked","click .js-location-is-online":"location:isOnline:clicked","click .js-location-select-past":"location:selectPast:clicked","focus .js-location-cep":"location:cep:selected"},template:"new_location",initialize:function(){_.bindAll(this,"clearGoogleMapsAutoCompleteListeners","handleCantFindLocationClick","handlePlaceSelected","initializeGoogleMapsAutocomplete","injectCantFindLocationAutocomplete","handleLatLongChange"),this.listenTo(this.model,"change:latitude change:longitude",_.debounce(this.handleLatLongChange,10)),d(["backbone_wreqr"],function(a){this.channel=a.radio.channel("taxOptionsChannel"),this.listenTo(this.model,"change:state change:country",this.handleLocationChange)}.bind(this))},getTemplate:function(){return window.Handlebars.templates.new_location},onRender:function(){b.request("googleMapsAPIDeferred").done(this.initializeGoogleMapsAutocomplete),a.Ui.placeholder(this.$el.find('input[type="text"]'))},initializeGoogleMapsAutocomplete:function(a){this.googlePlacesAutocompleteEl=this.$(".js-location-input-new")[0],this.googlePlacesAutocomplete=new a.places.Autocomplete(this.googlePlacesAutocompleteEl),this.injectCantFindLocationAutocomplete(),a.event.addListener(this.googlePlacesAutocomplete,"place_changed",this.handlePlaceSelected)},handleCantFindLocationClick:function(){this.trigger("location:cantFind:clicked")},serializeData:function(){return{hasPastLocations:this.hasPastLocations,isCepEnabled:this.isCepEnabled,updateCreateUX:this.updateCreateUX}},handleLatLongChange:function(){a.CreatePage.updateTimeZoneByGeo(this.model.get("latitude"),this.model.get("longitude"))},handleLocationChange:function(){this.channel.vent.trigger("change:eventLocation",this.model.get("state"),this.model.get("country"))},injectCantFindLocationAutocomplete:function(){var a=$(".pac-container");a.length?(a.addClass("location-autocomplete-container"),a.append(window.Handlebars.templates.cant_find_location()),a.find(".js-location-cant-find").on("mousedown",this.handleCantFindLocationClick)):setTimeout(this.injectCantFindLocationAutocomplete,100)},handlePlaceSelected:function(){var b=this.googlePlacesAutocomplete.getPlace();b.geometry&&(this.model.setFromGooglePlace(b),this.trigger("location:place:selected"),a.CreatePage.googlePlacesAutocompleteSelected())},clearGoogleMapsAutoCompleteListeners:function(a){"undefined"!=typeof this.googlePlacesAutocomplete&&a.event.clearInstanceListeners(this.googlePlacesAutocomplete)},detachAutoCompleteContainer:function(){$(".pac-container").detach()},onClose:function(){this.detachAutoCompleteContainer(),b.request("googleMapsAPIDeferred").done(this.clearGoogleMapsAutoCompleteListeners)}}).mixin(a.Backbone.Mixins.withStickitForMarionette).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["hasPastLocations","isCepEnabled","updateCreateUX"]})}(window.EB,window.EB.App,window.Marionette,require),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.EditLocationController=c.Controller.extend({initialize:function(b){_.bindAll(this,"resetLocation"),this.view=new a.CreatePage.EditLocationView({model:this.sandbox.request("venue:entity:current"),sandbox:this.sandbox,isCepEnabled:!(!a.CreatePage.featureFlags||!a.CreatePage.featureFlags.isBrasil())}),this.region.show(this.view),b&&!_.isEmpty(b.errors)&&this.view.displayValidationErrors(b.errors),this.listenTo(this.view,"location:reset:clicked",this.resetLocation)},resetLocation:function(){this.sandbox.execute("location:navigate:new")},onClose:function(){this.view.close()}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","region"]})}(window.EB,window.EB.App,window.Marionette),function(a,b,c,d){"use strict";a.namespace("CreatePage"),a.CreatePage.EditLocationView=c.Layout.extend({regions:{googleMap:".js-google-map-region"},ui:{locationReset:".js-location-reset",venue:".js-location-edit-venue"},events:{"click @ui.locationReset":"resetLocation","change @ui.venue":"handleVenueChange"},getTemplate:function(){return window.Handlebars.templates.edit_location},config:{country:"select.js-location-edit-country"},bindings:{".js-location-edit-venue":"venue",".js-location-edit-address_1":"address_1",".js-location-edit-address_2":"address_2",".js-location-edit-city":"city",".js-location-edit-postal_code":"postal_code",".js-location-edit-state":"state",".js-location-edit-country":"country",".js-location-edit-zoom":"zoom",".js-location-edit-longaddress":"longaddress",".js-location-edit-longitude":"longitude",".js-location-edit-latitude":"latitude",".js-location-edit-showmap":"showmap"},initialize:function(){_.bindAll(this,"getGoogleMapView","handleGeocoderResponse","handleLatLongChange","handleModelChange","initializeGoogleMap","updateTimeZone"),d(["backbone_wreqr"],function(a){this.channel=a.radio.channel("taxOptionsChannel"),this.listenTo(this.model,"change:state change:country",this.handleLocationChange),this.listenTo(this.model,"change:postal_code",this.handlePostalCodeChange),this.model.get("postal_code")&&this.handlePostalCodeChange()}.bind(this))},onRender:function(){b.request("googleMapsAPIDeferred").done(this.initializeGoogleMap),a.Ui.placeholder(this.$el.find('input[type="text"]')),$("#start_date_date").datepicker("hide").trigger("blur"),window.setTimeout(_.bind(function(){return this.isCepEnabled&&!this.model.get("postal_code")?void this.$(".js-location-edit-postal_code").focus():void(this.model.get("address_1")?this.$(".js-location-edit-venue").trigger("focus"):this.$(".js-location-edit-address_1").trigger("focus"))},this),0);var c=this.$(".js-country-select").get(0);d(["dorsal"],function(a){a.wire(c)})},getGoogleMapView:function(b){return new a.CreatePage.GoogleMapView({googleMapsAPI:b,model:this.model,sandbox:this.sandbox})},initializeGoogleMap:function(a){this.listenTo(this.model,"change:address_1 change:address_2 change:postal_code change:city change:state",_.bind(this.handleModelChange,this,a)),this.listenTo(this.model,"change:latitude change:longitude",_.bind(this.handleLatLongChange,this,a)),this.listenTo(this.model,"change:latitude change:longitude",_.debounce(this.updateTimeZone,10)),this.renderGoogleMapsRegion(a)},renderGoogleMapsRegion:function(b){this.model.hasMapPosition()?this.googleMap.currentView instanceof a.CreatePage.GoogleMapView||this.googleMap.show(this.getGoogleMapView(b)):this.googleMap.currentView instanceof a.CreatePage.MapPlaceholderView||this.googleMap.show(new a.CreatePage.MapPlaceholderView)},handleLatLongChange:function(a){this.renderGoogleMapsRegion(a)},updateTimeZone:function(){a.CreatePage.updateTimeZoneByGeo(this.model.get("latitude"),this.model.get("longitude"))},handleModelChange:function(a){"undefined"==typeof this.geocoder&&(this.geocoder=new a.Geocoder);var b=this.model.getComputedLongAddress();this.geocoder.geocode({address:b,newForwardGeocoder:!1},_.bind(this.handleGeocoderResponse,this,a))},handleGeocoderResponse:function(a,b,c){if(c===a.GeocoderStatus.OK&&b.length>0){var d=b[0],e=d.address_components,f=this.model.parseAddressComponents(e);this.model.updateFromGeocodeGeometry(d.geometry),this.model.set("country",f.country),this.updateCountrySelect()}else this.model.set({latitude:"0.0",longitude:"0.0",country:""})},handleLocationChange:function(){this.channel.vent.trigger("change:eventLocation",this.model.get("state"),this.model.get("country"))},handlePostalCodeChange:function(){this.channel.vent.trigger("change:postalCode",this.model.get("postal_code"))},handleVenueChange:function(a){var b=a.currentTarget,c=b.value.trim();this.model.set("venue",c),b.value=c},resetLocation:function(a){a.preventDefault(),this.model.get("postal_code")&&this.handlePostalCodeChange(),this.model.set({state:"",country:""}),this.trigger("location:reset:clicked")},updateCountrySelect:function(){this.$(this.config.country).trigger("change")},serializeData:function(){return{isCepEnabled:this.isCepEnabled,countries:a.CreatePage.countries}}}).mixin(a.Backbone.Mixins.withStickitForMarionette).mixin(a.Backbone.Mixins.withInputValidation).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","isCepEnabled"]})}(window.EB,window.EB.App,window.Marionette,require),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.GoogleMapView=c.ItemView.extend({initialize:function(){_.bindAll(this,"handleLatLongChange","handleModelZoomChange","handleMapZoomChange"),this.listenTo(this.model,"change:zoom",this.handleModelZoomChange),this.listenTo(this.model,"change:latitude change:longitude",this.handleLatLongChange),this.googleMapsAPI.event.addListener(this.getMap(),"zoom_changed",this.handleMapZoomChange)},getTemplate:function(){return _.template("")},onRender:function(){this.appendMap(),this.updateLatLong(),this.updateZoom(),this.updateMarker()},appendMap:function(){this.$el.append(this.getMap().getDiv())},detachMap:function(){$(this.getMap().getDiv()).detach()},getMarker:function(){return"undefined"==typeof this._marker&&(this._marker=new this.googleMapsAPI.Marker({map:this.getMap(),draggable:!1})),this._marker},getMap:function(){return"undefined"==typeof this._map&&(this._map=this.sandbox.request("googleMap",this.googleMapsAPI)),this._map},handleLatLongChange:function(){this.updateLatLong(),this.updateMarker()},handleModelZoomChange:function(a,b){this.getMap().setZoom(b)},handleMapZoomChange:function(){this.model.set("zoom",this.getMap().getZoom())},updateLatLong:function(){this.getMap().setCenter(this.getLatLong())},updateMarker:function(){this.getMarker().setPosition(this.getMap().getCenter())},updateZoom:function(){this.getMap().setZoom(this.model.get("zoom"))},getLatLong:function(){return new this.googleMapsAPI.LatLng(this.model.get("latitude"),this.model.get("longitude"))},removeMarker:function(){this.getMarker().setMap(null)},onClose:function(){this.removeMarker(),this.detachMap(),this.googleMapsAPI.event.clearInstanceListeners(this.getMap())}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["googleMapsAPI","model","sandbox"]})}(window.EB,window.EB.App,window.Marionette),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.MapPlaceholderView=a.Backbone.View.extend({}).mixin(a.Backbone.Mixins.withTemplate,{templateName:"location_placeholder"})}(window.EB,window.EB.App,window.Marionette),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.OnlineLocationController=c.Controller.extend({initialize:function(){_.bindAll(this,"newLocation"),this.view=new a.CreatePage.OnlineLocationView,this.region.show(this.view),this.listenTo(this.view,"location:new",this.newLocation)},newLocation:function(){this.sandbox.execute("location:navigate:new")}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","region"]})}(window.EB,window.EB.App,window.Marionette),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.OnlineLocationView=c.ItemView.extend({className:"g-cell g-cell-1-1",triggers:{"click .js-location-new":"location:new"},getTemplate:function(){return window.Handlebars.templates.online_location}})}(window.EB,window.EB.App,window.Marionette),function(a,b,c,d){"use strict";a.namespace("CreatePage"),a.CreatePage.PastLocationController=c.Controller.extend({initialize:function(){_.bindAll(this,"locationIsOnline","resetLocation","setPastLocation"),this.view=new a.CreatePage.PastLocationView({model:this.sandbox.request("venue:entity:new"),collection:this.sandbox.request("venue:entities:past")}),this.listenTo(this.view,"location:isOnline:clicked",this.locationIsOnline),this.listenTo(this.view,"location:reset:clicked",this.resetLocation),this.listenTo(this.view,"location:pastLocation:selected",this.setPastLocation),this.region.show(this.view)},resetLocation:function(){this.sandbox.execute("location:navigate:new")},locationIsOnline:function(){this.sandbox.execute("location:navigate:isOnline")},setPastLocation:function(b){this.view.model.set(b.attributes),this.sandbox.execute("location:navigate:edit"),a.CreatePage.updateTimeZoneByGeo(this.view.model.get("latitude"),this.view.model.get("longitude"))},onClose:function(){this.view.close()}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","region"]})}(window.EB,window.EB.App,window.Marionette,window.jQuery),function(a,b,c,d,e){"use strict";a.namespace("CreatePage"),a.CreatePage.PastLocationView=c.ItemView.extend({className:"g-cell g-cell-1-1",events:{"change .js-location-select-past":"handlePastVenueChange"},triggers:{"click .js-location-reset":"location:reset:clicked","click .js-location-is-online":"location:isOnline:clicked"},initialize:function(){_.bindAll(this,"handlePastVenueChange"),e(["backbone_wreqr"],function(a){this.channel=a.radio.channel("taxOptionsChannel"),this.listenTo(this.model,"change:state change:country",this.handleLocationChange)}.bind(this))},getTemplate:function(){return window.Handlebars.templates.past_locations},renderCustomSelect:function(){this.customSelectBox=new a.UIComponents.SelectBox({element:this.$(".js-location-select-past"),parentClass:"responsive-form__select"})},onRender:function(){this.renderCustomSelect()},handlePastVenueChange:function(a){var b=a.currentTarget.value;b&&this.trigger("location:pastLocation:selected",this.collection.findWhere({id:parseInt(b,10)}))},handleLocationChange:function(){this.channel.vent.trigger("change:eventLocation",this.model.pick("state","country"))},serializeData:function(){return{collection:this.collection.toJSON(),pastVenueOptions:_.map(this.collection.models,function(a){return{label:a.getLabel(),value:a.get("id")}})}},onClose:function(){this.customSelectBox&&this.customSelectBox.remove()}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["collection","model"]})}(window.EB,window.EB.App,window.Marionette,window.jQuery,require),function(a,b,c,d){"use strict";a.namespace("CreatePage"),a.CreatePage.LocationLayout=c.Layout.extend({regions:{content:".js-region-location-content"},bindings:{'[name="group-location-old_venue"]':"id",'[name="group-extras-online_event"]':{observe:"online_event",onGet:"toPythonBoolean"},'[name="group-location-venue"]':"venue",'[name="group-location-address_1"]':"address_1",'[name="group-location-address_2"]':"address_2",'[name="group-location-city"]':"city",'[name="group-location-postal_code"]':"postal_code",'[name="group-location-state"]':"state",'[name="group-location-country"]':"country",'[name="group-location-zoom"]':"zoom",'[name="group-location-longaddress"]':"longaddress",'[name="group-location-longitude"]':"longitude",'[name="group-location-latitude"]':"latitude",'[name="group-location-showmap"]':{observe:"showmap",onGet:"toPythonBoolean"},'[name="group-location-google_place_id"]':"google_place_id"},toPythonBoolean:function(a){return a?"True":"False"}}).mixin(a.Backbone.Mixins.withTemplate,{templateName:"location_layout"}).mixin(a.Backbone.Mixins.withStickit)}(window.EB,window.EB.App,window.Marionette,window.jQuery),function(a,b){"use strict";a.namespace("CreatePage"),a.CreatePage.LocationComponentFactory=a.ComponentFactory.extend({start:function(a){this.initializePastVenues(a.pastVenueAttributes),this.hasExistingLocation(a)||!_.isEmpty(a.errors)?(delete a.venueAttributes.id,this.venue=b.request("venue:entity:new",a.venueAttributes),this.initializeLayout(a.region),this.venue.get("online_event")?this.sandbox.execute("location:navigate:isOnline"):this.sandbox.execute("location:navigate:edit",{errors:a.errors})):(this.venue=b.request("venue:entity:new"),this.initializeLayout(a.region),this.sandbox.execute("location:navigate:new"))},componentMethods:{initializePastVenues:function(a){_.isEmpty(a)||(this.pastVenues=b.request("venue:entities:new",a))},initializeLayout:function(b){var c=new a.CreatePage.LocationLayout({model:this.venue});b.show(c),this.contentRegion=c.content},hasExistingLocation:function(a){return"undefined"!=typeof a.venueAttributes&&["id","venue","address_1","address_2","city","state","postal_code","country","longaddress","online_event"].some(function(b){return!!a.venueAttributes[b]})},getCurrentVenue:function(){return this.venue}},commands:{"location:navigate:new":function(){this.controller&&this.controller.close(),this.controller=new a.CreatePage.NewLocationController({sandbox:this.sandbox,region:this.contentRegion})},"location:navigate:edit":function(b){this.controller&&this.controller.close(),this.controller=new a.CreatePage.EditLocationController({sandbox:this.sandbox,region:this.contentRegion,errors:b?b.errors:{}})},"location:navigate:isOnline":function(){this.controller&&this.controller.close(),this.sandbox.request("venue:entity:new"),this.venue.set("online_event",!0),this.controller=new a.CreatePage.OnlineLocationController({sandbox:this.sandbox,region:this.contentRegion})},"location:navigate:selectPast":function(){this.pastVenues&&(this.controller&&this.controller.close(),this.controller=new a.CreatePage.PastLocationController({sandbox:this.sandbox,region:this.contentRegion}))}},requests:{"venue:entity:current":function(){return this.venue},"venue:entity:new":function(){return"undefined"!=typeof this.venue?(this.venue.clear(),this.venue.set(this.venue.defaults)):this.venue=b.request("venue:entity:new"),this.trigger("venue:new",this,this.venue),this.venue},"venue:entities:past":function(){return this.pastVenues},googleMap:function(a){return"undefined"==typeof this.googleMap&&(this.googleMapEl=document.createElement("div"),this.googleMapEl.setAttribute("id","edit_location_google_map"),this.googleMapEl.setAttribute("class","location-map-panel"),this.googleMap=new a.Map(this.googleMapEl,{mapTypeId:a.MapTypeId.ROADMAP,mapTypeControl:!1,scrollwheel:!1})),google.maps.event.addListenerOnce(this.googleMap,"tilesloaded",d),this.googleMap}}});var c,d;c=function(a){b.reqres.setHandler("googleMapsAPIDeferred",function(){return a.googleMapsAPIDeferred})},d=function(){var b=$("#edit_location_google_map"),c=new a.UIComponents.GoogleMapsAccessibility({map:b}),d=b.find('div[title="Change map style"],div[title="Show street map"],div[title="Show street map with terrain"],div[title="Show satellite imagery"],div[title="Zoom in to show 45 degree view"],div[title="Show imagery with street names"],div[title="Zoom in"],div[title="Zoom out"],img[title="Rotate map 90 degrees"]');d.each(function(a,b){c.addAriaLabel($(b),b.title)})},b.addInitializer(c)}(window.EB,window.EB.App),//! moment.js
//! version : 2.4.0
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
function(a){function b(a,b){return function(c){return i(a.call(this,c),b)}}function c(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function d(){}function e(a){u(a),g(this,a)}function f(a){var b=o(a),c=b.year||0,d=b.month||0,e=b.week||0,f=b.day||0,g=b.hour||0,h=b.minute||0,i=b.second||0,j=b.millisecond||0;this._input=a,this._milliseconds=+j+1e3*i+6e4*h+36e5*g,this._days=+f+7*e,this._months=+d+12*c,this._data={},this._bubble()}function g(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function h(a){return 0>a?Math.ceil(a):Math.floor(a)}function i(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function j(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months,h,i;e&&a._d.setTime(+a._d+e*c),(f||g)&&(h=a.minute(),i=a.hour()),f&&a.date(a.date()+f*c),g&&a.month(a.month()+g*c),e&&!d&&ba.updateOffset(a),(f||g)&&(a.minute(h),a.hour(i))}function k(a){return"[object Array]"===Object.prototype.toString.call(a)}function l(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function m(a,b,c){var d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0,g;for(g=0;d>g;g++)(c&&a[g]!==b[g]||!c&&q(a[g])!==q(b[g]))&&f++;return f+e}function n(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=Ka[a]||La[b]||b}return a}function o(a){var b={},c,d,e;for(d in a)a.hasOwnProperty(d)&&(c=n(d),c&&(b[c]=a[d]));return b}function p(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}ba[b]=function(e,f){var g,h,i=ba.fn._lang[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=ba().utc().set(d,a);return i.call(ba.fn._lang,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function q(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function r(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function s(a){return t(a)?366:365}function t(a){return a%4===0&&a%100!==0||a%400===0}function u(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[ga]<0||a._a[ga]>11?ga:a._a[ha]<1||a._a[ha]>r(a._a[fa],a._a[ga])?ha:a._a[ia]<0||a._a[ia]>23?ia:a._a[ja]<0||a._a[ja]>59?ja:a._a[ka]<0||a._a[ka]>59?ka:a._a[la]<0||a._a[la]>999?la:-1,a._pf._overflowDayOfYear&&(fa>b||b>ha)&&(b=ha),a._pf.overflow=b)}function v(a){a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function w(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function x(a){return a?a.toLowerCase().replace("_","-"):a}function y(a,b){return b.abbr=a,ma[a]||(ma[a]=new d),ma[a].set(b),ma[a]}function z(a){delete ma[a]}function A(a){var b=0,c,d,e,f,g=function(a){if(!ma[a]&&na)try{require("./lang/"+a)}catch(b){}return ma[a]};if(!a)return ba.fn._lang;if(!k(a)){if(d=g(a))return d;a=[a]}for(;b<a.length;){for(f=x(a[b]).split("-"),c=f.length,e=x(a[b+1]),e=e?e.split("-"):null;c>0;){if(d=g(f.slice(0,c).join("-")))return d;if(e&&e.length>=c&&m(f,e,!0)>=c-1)break;c--}b++}return ba.fn._lang}function B(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function C(a){var b=a.match(ra),c,d;for(c=0,d=b.length;d>c;c++)Pa[b[c]]?b[c]=Pa[b[c]]:b[c]=B(b[c]);return function(e){var f="";for(c=0;d>c;c++)f+=b[c]instanceof Function?b[c].call(e,a):b[c];return f}}function D(a,b){return a.isValid()?(b=E(b,a.lang()),Ma[b]||(Ma[b]=C(b)),Ma[b](a)):a.lang().invalidDate()}function E(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(sa.lastIndex=0;d>=0&&sa.test(a);)a=a.replace(sa,c),sa.lastIndex=0,d-=1;return a}function F(a,b){var c;switch(a){case"DDDD":return va;case"YYYY":case"GGGG":case"gggg":return wa;case"YYYYY":case"GGGGG":case"ggggg":return xa;case"S":case"SS":case"SSS":case"DDD":return ua;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return za;case"a":case"A":return A(b._l)._meridiemParse;case"X":return Ca;case"Z":case"ZZ":return Aa;case"T":return Ba;case"SSSS":return ya;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"ww":case"W":case"WW":case"e":case"E":return ta;default:return c=new RegExp(N(M(a.replace("\\","")),"i"))}}function G(a){var b=(Aa.exec(a)||[])[0],c=(b+"").match(Ha)||["-",0,0],d=+(60*c[1])+q(c[2]);return"+"===c[0]?-d:d}function H(a,b,c){var d,e=c._a;switch(a){case"M":case"MM":null!=b&&(e[ga]=q(b)-1);break;case"MMM":case"MMMM":d=A(c._l).monthsParse(b),null!=d?e[ga]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[ha]=q(b));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=q(b));break;case"YY":e[fa]=q(b)+(q(b)>68?1900:2e3);break;case"YYYY":case"YYYYY":e[fa]=q(b);break;case"a":case"A":c._isPm=A(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[ia]=q(b);break;case"m":case"mm":e[ja]=q(b);break;case"s":case"ss":e[ka]=q(b);break;case"S":case"SS":case"SSS":case"SSSS":e[la]=q(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=G(b);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":a=a.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=b)}}function I(a){var b,c,d=[],e,f,g,h,i,j,k,l;if(!a._d){for(e=K(a),a._w&&null==a._a[ha]&&null==a._a[ga]&&(g=function(b){return b?b.length<3?parseInt(b,10)>68?"19"+b:"20"+b:b:null==a._a[fa]?ba().weekYear():a._a[fa]},h=a._w,null!=h.GG||null!=h.W||null!=h.E?i=X(g(h.GG),h.W||1,h.E,4,1):(j=A(a._l),k=null!=h.d?T(h.d,j):null!=h.e?parseInt(h.e,10)+j._week.dow:0,l=parseInt(h.w,10)||1,null!=h.d&&k<j._week.dow&&l++,i=X(g(h.gg),l,k,j._week.doy,j._week.dow)),a._a[fa]=i.year,a._dayOfYear=i.dayOfYear),a._dayOfYear&&(f=null==a._a[fa]?e[fa]:a._a[fa],a._dayOfYear>s(f)&&(a._pf._overflowDayOfYear=!0),c=S(f,0,a._dayOfYear),a._a[ga]=c.getUTCMonth(),a._a[ha]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=d[b]=e[b];for(;7>b;b++)a._a[b]=d[b]=null==a._a[b]?2===b?1:0:a._a[b];d[ia]+=q((a._tzm||0)/60),d[ja]+=q((a._tzm||0)%60),a._d=(a._useUTC?S:R).apply(null,d)}}function J(a){var b;a._d||(b=o(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],I(a))}function K(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function L(a){a._a=[],a._pf.empty=!0;var b=A(a._l),c=""+a._i,d,e,f,g,h,i=c.length,j=0;for(f=E(a._f,b).match(ra)||[],d=0;d<f.length;d++)g=f[d],e=(F(g,a).exec(c)||[])[0],e&&(h=c.substr(0,c.indexOf(e)),h.length>0&&a._pf.unusedInput.push(h),c=c.slice(c.indexOf(e)+e.length),j+=e.length),Pa[g]?(e?a._pf.empty=!1:a._pf.unusedTokens.push(g),H(g,e,a)):a._strict&&!e&&a._pf.unusedTokens.push(g);a._pf.charsLeftOver=i-j,c.length>0&&a._pf.unusedInput.push(c),a._isPm&&a._a[ia]<12&&(a._a[ia]+=12),a._isPm===!1&&12===a._a[ia]&&(a._a[ia]=0),I(a),u(a)}function M(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function N(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function O(a){var b,c,d,e,f;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=g({},a),v(b),b._f=a._f[e],L(b),w(b)&&(f+=b._pf.charsLeftOver,f+=10*b._pf.unusedTokens.length,b._pf.score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function P(a){var b,c=a._i,d=Da.exec(c);if(d){for(a._pf.iso=!0,b=4;b>0;b--)if(d[b]){a._f=Fa[b-1]+(d[6]||" ");break}for(b=0;4>b;b++)if(Ga[b][1].exec(c)){a._f+=Ga[b][0];break}Aa.exec(c)&&(a._f+="Z"),L(a)}else a._d=new Date(c)}function Q(b){var c=b._i,d=oa.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):"string"==typeof c?P(b):k(c)?(b._a=c.slice(0),I(b)):l(c)?b._d=new Date(+c):"object"==typeof c?J(b):b._d=new Date(c)}function R(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function S(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function T(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function U(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function V(a,b,c){var d=da(Math.abs(a)/1e3),e=da(d/60),f=da(e/60),g=da(f/24),h=da(g/365),i=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",da(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,U.apply({},i)}function W(a,b,c){var d=c-b,e=c-a.day(),f;return e>d&&(e-=7),d-7>e&&(e+=7),f=ba(a).add("d",e),{week:Math.ceil(f.dayOfYear()/7),year:f.year()}}function X(a,b,c,d,e){var f=new Date(Date.UTC(a,0)).getUTCDay(),g,h;return c=null!=c?c:e,g=e-f+(f>d?7:0),h=7*(b-1)+(c-e)+g+1,{year:h>0?a:a-1,dayOfYear:h>0?h:s(a-1)+h}}function Y(a){var b=a._i,c=a._f;return"undefined"==typeof a._pf&&v(a),null===b?ba.invalid({nullInput:!0}):("string"==typeof b&&(a._i=b=A().preparse(b)),ba.isMoment(b)?(a=g({},b),a._d=new Date(+b._d)):c?k(c)?O(a):L(a):Q(a),new e(a))}function Z(a,b){ba.fn[a]=ba.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),ba.updateOffset(this),this):this._d["get"+c+b]()}}function $(a){ba.duration.fn[a]=function(){return this._data[a]}}function _(a,b){ba.duration.fn["as"+a]=function(){return+this/b}}function aa(b){var c=!1,d=ba;"undefined"==typeof ender&&(b?this.moment=function(){return!c&&console&&console.warn&&(c=!0),d.apply(null,arguments)}:this.moment===a&&(this.moment=ba))}for(var ba,ca="2.4.0",da=Math.round,ea,fa=0,ga=1,ha=2,ia=3,ja=4,ka=5,la=6,ma={},na="undefined"!=typeof module&&module.exports,oa=/^\/?Date\((\-?\d+)/i,pa=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,qa=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ra=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,sa=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ta=/\d\d?/,ua=/\d{1,3}/,va=/\d{3}/,wa=/\d{1,4}/,xa=/[+\-]?\d{1,6}/,ya=/\d+/,za=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Aa=/Z|[\+\-]\d\d:?\d\d/i,Ba=/T/i,Ca=/[\+\-]?\d+(\.\d{1,3})?/,Da=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d:?\d\d|Z)?)?$/,Ea="YYYY-MM-DDTHH:mm:ssZ",Fa=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],Ga=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ha=/([\+\-]|\d\d)/gi,Ia="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Ja={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Ka={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},La={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Ma={},Na="DDD w W M D d".split(" "),Oa="M D H h m s w W".split(" "),Pa={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return i(this.year()%100,2)},YYYY:function(){return i(this.year(),4)},YYYYY:function(){return i(this.year(),5)},gg:function(){return i(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return i(this.weekYear(),5)},GG:function(){return i(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return i(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return q(this.milliseconds()/100)},SS:function(){return i(q(this.milliseconds()/10),2)},SSS:function(){return i(this.milliseconds(),3)},SSSS:function(){return i(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(q(a/60),2)+":"+i(q(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(q(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},Qa=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Na.length;)ea=Na.pop(),Pa[ea+"o"]=c(Pa[ea],ea);for(;Oa.length;)ea=Oa.pop(),Pa[ea+ea]=b(Pa[ea],2);for(Pa.DDDD=b(Pa.DDD,3),g(d.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=ba.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=ba([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return W(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ba=function(b,c,d,e){return"boolean"==typeof d&&(e=d,d=a),Y({_i:b,_f:c,_l:d,_strict:e,_isUTC:!1})},ba.utc=function(b,c,d,e){var f;return"boolean"==typeof d&&(e=d,d=a),f=Y({_useUTC:!0,_isUTC:!0,_l:d,_i:b,_f:c,_strict:e}).utc()},ba.unix=function(a){return ba(1e3*a)},ba.duration=function(a,b){var c=ba.isDuration(a),d="number"==typeof a,e=c?a._input:d?{}:a,g=null,h,i,j,k,l;return d?b?e[b]=a:e.milliseconds=a:(g=pa.exec(a))?(h="-"===g[1]?-1:1,e={y:0,d:q(g[ha])*h,h:q(g[ia])*h,m:q(g[ja])*h,s:q(g[ka])*h,ms:q(g[la])*h}):(g=qa.exec(a))&&(h="-"===g[1]?-1:1,j=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*h},e={y:j(g[2]),M:j(g[3]),d:j(g[4]),h:j(g[5]),m:j(g[6]),s:j(g[7]),w:j(g[8])}),i=new f(e),c&&a.hasOwnProperty("_lang")&&(i._lang=a._lang),i},ba.version=ca,ba.defaultFormat=Ea,ba.updateOffset=function(){},ba.lang=function(a,b){var c;return a?(b?y(x(a),b):null===b?(z(a),a="en"):ma[a]||A(a),c=ba.duration.fn._lang=ba.fn._lang=A(a),c._abbr):ba.fn._lang._abbr},ba.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),A(a)},ba.isMoment=function(a){return a instanceof e},ba.isDuration=function(a){return a instanceof f},ea=Qa.length-1;ea>=0;--ea)p(Qa[ea]);for(ba.normalizeUnits=function(a){return n(a)},ba.invalid=function(a){var b=ba.utc(NaN);return null!=a?g(b._pf,a):b._pf.userInvalidated=!0,b},ba.parseZone=function(a){return ba(a).parseZone()},g(ba.fn=e.prototype,{clone:function(){return ba(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return D(ba(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return w(this)},isDSTShifted:function(){return this._a?this.isValid()&&m(this._a,(this._isUTC?ba.utc(this._a):ba(this._a)).toArray())>0:!1},parsingFlags:function(){return g({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=D(this,a||ba.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a?ba.duration(+b,a):ba.duration(a,b),j(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?ba.duration(+b,a):ba.duration(a,b),j(this,c,-1),this},diff:function(a,b,c){var d=this._isUTC?ba(a).zone(this._offset||0):ba(a).local(),e=6e4*(this.zone()-d.zone()),f,g;return b=n(b),"year"===b||"month"===b?(f=432e5*(this.daysInMonth()+d.daysInMonth()),g=12*(this.year()-d.year())+(this.month()-d.month()),g+=(this-ba(this).startOf("month")-(d-ba(d).startOf("month")))/f,g-=6e4*(this.zone()-ba(this).startOf("month").zone()-(d.zone()-ba(d).startOf("month").zone()))/f,"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:h(g)},from:function(a,b){return ba.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(ba(),a)},calendar:function(){var a=this.diff(ba().zone(this.zone()).startOf("day"),"days",!0),b=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(b,this))},isLeapYear:function(){return t(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=T(a,this.lang()),this.add({d:a-b})):b},month:function(a){var b=this._isUTC?"UTC":"",c;return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(c=this.date(),this.date(1),this._d["set"+b+"Month"](a),this.date(Math.min(c,this.daysInMonth())),ba.updateOffset(this),this):this._d["get"+b+"Month"]()},startOf:function(a){switch(a=n(a)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),this},endOf:function(a){return a=n(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+ba(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+ba(a).startOf(b)},isSame:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)===+ba(a).startOf(b)},min:function(a){return a=ba.apply(null,arguments),this>a?this:a},max:function(a){return a=ba.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=G(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,b!==a&&j(this,ba.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?ba(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return r(this.year(),this.month())},dayOfYear:function(a){var b=da((ba(this).startOf("day")-ba(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},weekYear:function(a){var b=W(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=W(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=W(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){return a=n(a),this[a]()},set:function(a,b){return a=n(a),"function"==typeof this[a]&&this[a](b),this},lang:function(b){return b===a?this._lang:(this._lang=A(b),this)}}),ea=0;ea<Ia.length;ea++)Z(Ia[ea].toLowerCase().replace(/s$/,""),Ia[ea]);Z("year","FullYear"),ba.fn.days=ba.fn.day,ba.fn.months=ba.fn.month,ba.fn.weeks=ba.fn.week,ba.fn.isoWeeks=ba.fn.isoWeek,ba.fn.toJSON=ba.fn.toISOString,g(ba.duration.fn=f.prototype,{_bubble:function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data,e,f,g,i;d.milliseconds=a%1e3,e=h(a/1e3),d.seconds=e%60,f=h(e/60),d.minutes=f%60,g=h(f/60),d.hours=g%24,b+=h(g/24),d.days=b%30,c+=h(b/30),d.months=c%12,i=h(c/12),d.years=i},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12)},humanize:function(a){var b=+this,c=V(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=ba.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=ba.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=n(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=n(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:ba.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}});for(ea in Ja)Ja.hasOwnProperty(ea)&&(_(ea,Ja[ea]),$(ea.toLowerCase()));_("Weeks",6048e5),ba.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},ba.lang("en",{ordinal:function(a){var b=a%10,c=1===q(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),function(a){a(ba)}(function(a){return a.lang("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}),function(a){a(ba)}(function(a){return a.lang("ar",{months:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),monthsShort:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}),function(a){a(ba)}(function(a){return a.lang("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinal:function(a){var b=a%10,c=a%100;return 0===a?a+"-ев":0===c?a+"-ен":c>10&&20>c?a+"-ти":1===b?a+"-ви":2===b?a+"-ри":7===b||8===b?a+"-ми":a+"-ти"},week:{dow:1,doy:7}})}),function(a){a(ba)}(function(b){function c(a,b,c){var d={mm:"munutenn",MM:"miz",dd:"devezh"};return a+" "+f(d[c],a)}function d(a){switch(e(a)){case 1:case 3:case 4:case 5:case 9:return a+" bloaz";default:return a+" vloaz"}}function e(a){return a>9?e(a%10):a}function f(a,b){return 2===b?g(a):a}function g(b){var c={m:"v",b:"v",d:"z"};return c[b.charAt(0)]===a?b:c[b.charAt(0)]+b.substring(1)}return b.lang("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:c,h:"un eur",hh:"%d eur",d:"un devezh",dd:c,M:"ur miz",MM:c,y:"ur bloaz",yy:d},ordinal:function(a){var b=1===a?"añ":"vet";return a+b},week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){function b(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}return a.lang("bs",{months:"januar_februar_mart_april_maj_juni_juli_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:b,mm:b,h:b,hh:b,d:"dan",dd:b,M:"mjesec",MM:b,y:"godinu",yy:b},ordinal:"%d.",week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){return a.lang("ca",{months:"Gener_Febrer_Març_Abril_Maig_Juny_Juliol_Agost_Setembre_Octubre_Novembre_Desembre".split("_"),monthsShort:"Gen._Febr._Mar._Abr._Mai._Jun._Jul._Ag._Set._Oct._Nov._Des.".split("_"),weekdays:"Diumenge_Dilluns_Dimarts_Dimecres_Dijous_Divendres_Dissabte".split("_"),weekdaysShort:"Dg._Dl._Dt._Dc._Dj._Dv._Ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){function b(a){return a>1&&5>a&&1!==~~(a/10)}function c(a,c,d,e){var f=a+" ";switch(d){case"s":return c||e?"pár vteřin":"pár vteřinami";case"m":return c?"minuta":e?"minutu":"minutou";case"mm":return c||e?f+(b(a)?"minuty":"minut"):f+"minutami";case"h":return c?"hodina":e?"hodinu":"hodinou";
case"hh":return c||e?f+(b(a)?"hodiny":"hodin"):f+"hodinami";case"d":return c||e?"den":"dnem";case"dd":return c||e?f+(b(a)?"dny":"dní"):f+"dny";case"M":return c||e?"měsíc":"měsícem";case"MM":return c||e?f+(b(a)?"měsíce":"měsíců"):f+"měsíci";case"y":return c||e?"rok":"rokem";case"yy":return c||e?f+(b(a)?"roky":"let"):f+"lety"}}var d="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),e="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");return a.lang("cs",{months:d,monthsShort:e,monthsParse:function(a,b){var c,d=[];for(c=0;12>c;c++)d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i");return d}(d,e),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("cv",{months:"кăрлач_нарăс_пуш_ака_май_çĕртме_утă_çурла_авăн_юпа_чӳк_раштав".split("_"),monthsShort:"кăр_нар_пуш_ака_май_çĕр_утă_çур_ав_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кĕçнерникун_эрнекун_шăматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кĕç_эрн_шăм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кç_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ]",LLL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT",LLLL:"dddd, YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ĕнер] LT [сехетре]",nextWeek:"[Çитес] dddd LT [сехетре]",lastWeek:"[Иртнĕ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(a){var b=/сехет$/i.exec(a)?"рен":/çул$/i.exec(a)?"тан":"ран";return a+b},past:"%s каялла",s:"пĕр-ик çеккунт",m:"пĕр минут",mm:"%d минут",h:"пĕр сехет",hh:"%d сехет",d:"пĕр кун",dd:"%d кун",M:"пĕр уйăх",MM:"%d уйăх",y:"пĕр çул",yy:"%d çул"},ordinal:"%d-мĕш",week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){return a.lang("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn &#244;l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinal:function(a){var b=a,c="",d=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return b>20?c=40===b||50===b||60===b||80===b||100===b?"fed":"ain":b>0&&(c=d[b]),a+c},week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){function b(a,b,c,d){var e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?e[c][0]:e[c][1]}return a.lang("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Uhr]",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:b,mm:"%d Minuten",h:b,hh:"%d Stunden",d:b,dd:b,M:b,MM:b,y:b,yy:b},ordinal:"%d",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(a,b){return/D/.test(b.substring(0,b.indexOf("MMMM")))?this._monthsGenitiveEl[a.month()]:this._monthsNominativeEl[a.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(a,b,c){return a>11?c?"μμ":"ΜΜ":c?"πμ":"ΠΜ"},longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:"[την προηγούμενη] dddd [{}] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendarEl[a],d=b&&b.hours();return c.replace("{}",d%12===1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinal:function(a){return a+"η"},week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}})}),function(a){a(ba)}(function(a){return a.lang("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("en-HK",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("en-NZ",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("en-SG",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiem:function(a,b,c){return a>11?c?"p.t.m.":"P.T.M.":c?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinal:"%da",week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){return a.lang("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){function b(a,b,c,d){return d||b?"paari sekundi":"paar sekundit"}return a.lang("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:b,m:"minut",mm:"%d minutit",h:"tund",hh:"%d tundi",d:"päev",dd:"%d päeva",M:"kuu",MM:"%d kuud",y:"aasta",yy:"%d aastat"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinal:"%d.",week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){var b={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},c={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};return a.lang("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiem:function(a,b,c){return 12>a?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چندین ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(a){return a.replace(/[۰-۹]/g,function(a){return c[a]}).replace(/،/g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]}).replace(/,/g,"،")},ordinal:"%dم",week:{dow:6,doy:12}})}),function(a){a(ba)}(function(a){function b(a,b,d,e){var f="";switch(d){case"s":return e?"muutaman sekunnin":"muutama sekunti";case"m":return e?"minuutin":"minuutti";case"mm":f=e?"minuutin":"minuuttia";break;case"h":return e?"tunnin":"tunti";case"hh":f=e?"tunnin":"tuntia";break;case"d":return e?"päivän":"päivä";case"dd":f=e?"päivän":"päivää";break;case"M":return e?"kuukauden":"kuukausi";case"MM":f=e?"kuukauden":"kuukautta";break;case"y":return e?"vuoden":"vuosi";case"yy":f=e?"vuoden":"vuotta"}return f=c(a,e)+" "+f}function c(a,b){return 10>a?b?e[a]:d[a]:a}var d="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),e=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",d[7],d[8],d[9]];return a.lang("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:b,m:b,mm:b,h:b,hh:b,d:b,dd:b,M:b,MM:b,y:b,yy:b},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(a){return a+(1===a?"er":"")}})}),function(a){a(ba)}(function(a){return a.lang("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(a){return a+(1===a?"er":"")},week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(a){return"uns segundos"===a?"nuns segundos":"en "+a},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){return a.lang("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY LT",LLLL:"dddd, D [ב]MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(a){return 2===a?"שעתיים":a+" שעות"},d:"יום",dd:function(a){return 2===a?"יומיים":a+" ימים"},M:"חודש",MM:function(a){return 2===a?"חודשיים":a+" חודשים"},y:"שנה",yy:function(a){return 2===a?"שנתיים":a+" שנים"}}})}),function(a){a(ba)}(function(a){var b={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},c={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return a.lang("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(a){return a.replace(/[१२३४५६७८९०]/g,function(a){return c[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]})},meridiem:function(a,b,c){return 4>a?"रात":10>a?"सुबह":17>a?"दोपहर":20>a?"शाम":"रात"},week:{dow:0,doy:6}})}),function(a){a(ba)}(function(a){function b(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}return a.lang("hr",{months:"sječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:b,mm:b,h:b,hh:b,d:"dan",dd:b,M:"mjesec",MM:b,y:"godinu",yy:b},ordinal:"%d.",week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){function b(a,b,c,d){var e=a,f;switch(c){case"s":return d||b?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(d||b?" perc":" perce");case"mm":return e+(d||b?" perc":" perce");case"h":return"egy"+(d||b?" óra":" órája");case"hh":return e+(d||b?" óra":" órája");case"d":return"egy"+(d||b?" nap":" napja");case"dd":return e+(d||b?" nap":" napja");case"M":return"egy"+(d||b?" hónap":" hónapja");case"MM":return e+(d||b?" hónap":" hónapja");case"y":return"egy"+(d||b?" év":" éve");case"yy":return e+(d||b?" év":" éve")}return""}function c(a){return(a?"":"[múlt] ")+"["+d[this.day()]+"] LT[-kor]"}var d="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");return a.lang("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return c.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return c.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:b,m:b,mm:b,h:b,hh:b,d:b,dd:b,M:b,MM:b,y:b,yy:b},ordinal:"%d.",week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){return a.lang("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(a,b,c){return 11>a?"pagi":15>a?"siang":19>a?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",
yy:"%d tahun"},week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){function b(a){return a%100===11?!0:a%10!==1}function c(a,c,d,e){var f=a+" ";switch(d){case"s":return c||e?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return c?"mínúta":"mínútu";case"mm":return b(a)?f+(c||e?"mínútur":"mínútum"):c?f+"mínúta":f+"mínútu";case"hh":return b(a)?f+(c||e?"klukkustundir":"klukkustundum"):f+"klukkustund";case"d":return c?"dagur":e?"dag":"degi";case"dd":return b(a)?c?f+"dagar":f+(e?"daga":"dögum"):c?f+"dagur":f+(e?"dag":"degi");case"M":return c?"mánuður":e?"mánuð":"mánuði";case"MM":return b(a)?c?f+"mánuðir":f+(e?"mánuði":"mánuðum"):c?f+"mánuður":f+(e?"mánuð":"mánuði");case"y":return c||e?"ár":"ári";case"yy":return b(a)?f+(c||e?"ár":"árum"):f+(c||e?"ár":"ári")}}return a.lang("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:c,m:c,mm:c,h:"klukkustund",hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("it",{months:"Gennaio_Febbraio_Marzo_Aprile_Maggio_Giugno_Luglio_Agosto_Settembre_Ottobre_Novembre_Dicembre".split("_"),monthsShort:"Gen_Feb_Mar_Apr_Mag_Giu_Lug_Ago_Set_Ott_Nov_Dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:"[lo scorso] dddd [alle] LT",sameElse:"L"},relativeTime:{future:function(a){return(/^[0-9].+$/.test(a)?"tra":"in")+" "+a},past:"%s fa",s:"secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日LT",LLLL:"YYYY年M月D日LT dddd"},meridiem:function(a,b,c){return 12>a?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}),function(a){a(ba)}(function(a){function b(a,b){var c={nominative:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),accusative:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},d=/D[oD] *MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function c(a,b){var c={nominative:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),accusative:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_")},d=/(წინა|შემდეგ)/.test(b)?"accusative":"nominative";return c[d][a.day()]}return a.lang("ka",{months:b,monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:c,weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(a){return/(წამი|წუთი|საათი|წელი)/.test(a)?a.replace(/ი$/,"ში"):a+"ში"},past:function(a){return/(წამი|წუთი|საათი|დღე|თვე)/.test(a)?a.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(a)?a.replace(/წელი$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinal:function(a){return 0===a?a:1===a?a+"-ლი":20>a||100>=a&&a%20===0||a%100===0?"მე-"+a:a+"-ე"},week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){return a.lang("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 mm분",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 LT",LLLL:"YYYY년 MMMM D일 dddd LT"},meridiem:function(a,b,c){return 12>a?"오전":"오후"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinal:"%d일"})}),function(a){a(ba)}(function(a){function b(a,b,c,d){return b?"kelios sekundės":d?"kelių sekundžių":"kelias sekundes"}function c(a,b,c,d){return b?e(c)[0]:d?e(c)[1]:e(c)[2]}function d(a){return a%10===0||a>10&&20>a}function e(a){return h[a].split("_")}function f(a,b,f,g){var h=a+" ";return 1===a?h+c(a,b,f[0],g):b?h+(d(a)?e(f)[1]:e(f)[0]):g?h+e(f)[1]:h+(d(a)?e(f)[1]:e(f)[2])}function g(a,b){var c=-1===b.indexOf("dddd LT"),d=i[a.weekday()];return c?d:d.substring(0,d.length-2)+"į"}var h={m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"},i="pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis_sekmadienis".split("_");return a.lang("lt",{months:"sausio_vasario_kovo_balandžio_gegužės_biržėlio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:g,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:b,m:c,mm:f,h:c,hh:f,d:c,dd:f,M:c,MM:f,y:c,yy:f},ordinal:function(a){return a+"-oji"},week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){function b(a,b,c){var d=a.split("_");return c?b%10===1&&11!==b?d[2]:d[3]:b%10===1&&11!==b?d[0]:d[1]}function c(a,c,e){return a+" "+b(d[e],a,c)}var d={mm:"minūti_minūtes_minūte_minūtes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mēnesi_mēnešus_mēnesis_mēneši",yy:"gadu_gadus_gads_gadi"};return a.lang("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vēlāk",past:"%s agrāk",s:"dažas sekundes",m:"minūti",mm:c,h:"stundu",hh:c,d:"dienu",dd:c,M:"mēnesi",MM:c,y:"gadu",yy:c},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiem:function(a,b,c){return 4>a?"രാത്രി":12>a?"രാവിലെ":17>a?"ഉച്ച കഴിഞ്ഞ്":20>a?"വൈകുന്നേരം":"രാത്രി"}})}),function(a){a(ba)}(function(a){var b={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},c={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return a.lang("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%s नंतर",past:"%s पूर्वी",s:"सेकंद",m:"एक मिनिट",mm:"%d मिनिटे",h:"एक तास",hh:"%d तास",d:"एक दिवस",dd:"%d दिवस",M:"एक महिना",MM:"%d महिने",y:"एक वर्ष",yy:"%d वर्षे"},preparse:function(a){return a.replace(/[१२३४५६७८९०]/g,function(a){return c[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]})},meridiem:function(a,b,c){return 4>a?"रात्री":10>a?"सकाळी":17>a?"दुपारी":20>a?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})}),function(a){a(ba)}(function(a){return a.lang("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(a,b,c){return 11>a?"pagi":15>a?"tengahari":19>a?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){return a.lang("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"H.mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){var b={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},c={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};return a.lang("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आइ._सो._मङ्_बु._बि._शु._श.".split("_"),longDateFormat:{LT:"Aको h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(a){return a.replace(/[१२३४५६७८९०]/g,function(a){return c[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]})},meridiem:function(a,b,c){return 3>a?"राती":10>a?"बिहान":15>a?"दिउँसो":18>a?"बेलुका":20>a?"साँझ":"राती"},calendar:{sameDay:"[आज] LT",nextDay:"[भोली] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडी",s:"केही समय",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){var b="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),c="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");return a.lang("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(a,d){return/-MMM-/.test(d)?c[a.month()]:b[a.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinal:"%d",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregående] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekund",m:"ett minutt",mm:"%d minutt",h:"en time",hh:"%d timar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){function b(a){return 5>a%10&&a%10>1&&1!==~~(a/10)}function c(a,c,d){var e=a+" ";switch(d){case"m":return c?"minuta":"minutę";case"mm":return e+(b(a)?"minuty":"minut");case"h":return c?"godzina":"godzinę";case"hh":return e+(b(a)?"godziny":"godzin");case"MM":return e+(b(a)?"miesiące":"miesięcy");case"yy":return e+(b(a)?"lata":"lat")}}var d="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),e="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");return a.lang("pl",{months:function(a,b){return/D MMMM/.test(b)?e[a.month()]:d[a.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:c,mm:c,h:c,hh:c,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:c,y:"rok",yy:c},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº"})}),function(a){a(ba)}(function(a){return a.lang("pt",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("ro",{months:"Ianuarie_Februarie_Martie_Aprilie_Mai_Iunie_Iulie_August_Septembrie_Octombrie_Noiembrie_Decembrie".split("_"),monthsShort:"Ian_Feb_Mar_Apr_Mai_Iun_Iul_Aug_Sep_Oct_Noi_Dec".split("_"),weekdays:"Duminică_Luni_Marţi_Miercuri_Joi_Vineri_Sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:"%d minute",h:"o oră",hh:"%d ore",d:"o zi",dd:"%d zile",M:"o lună",MM:"%d luni",y:"un an",yy:"%d ani"},week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){function b(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function c(a,c,d){var e={mm:"минута_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===d?c?"минута":"минуту":a+" "+b(e[d],+a)}function d(a,b){var c={nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function e(a,b){var c={nominative:"янв_фев_мар_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),accusative:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function f(a,b){var c={nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")},d=/\[ ?[Вв] ?(?:прошлую|следующую)? ?\] ?dddd/.test(b)?"accusative":"nominative";return c[d][a.day()]}return a.lang("ru",{months:d,monthsShort:e,weekdays:f,weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(){switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:c,mm:c,h:"час",hh:c,d:"день",dd:c,M:"месяц",MM:c,y:"год",yy:c},meridiem:function(a,b,c){return 4>a?"ночи":12>a?"утра":17>a?"дня":"вечера"},ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":return a+"-й";case"D":return a+"-го";case"w":case"W":return a+"-я";default:return a}},week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){function b(a){return a>1&&5>a}function c(a,c,d,e){var f=a+" ";switch(d){case"s":return c||e?"pár sekúnd":"pár sekundami";case"m":return c?"minúta":e?"minútu":"minútou";case"mm":return c||e?f+(b(a)?"minúty":"minút"):f+"minútami";case"h":return c?"hodina":e?"hodinu":"hodinou";case"hh":return c||e?f+(b(a)?"hodiny":"hodín"):f+"hodinami";case"d":return c||e?"deň":"dňom";case"dd":return c||e?f+(b(a)?"dni":"dní"):f+"dňami";case"M":return c||e?"mesiac":"mesiacom";case"MM":return c||e?f+(b(a)?"mesiace":"mesiacov"):f+"mesiacmi";case"y":return c||e?"rok":"rokom";case"yy":return c||e?f+(b(a)?"roky":"rokov"):f+"rokmi"}}var d="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),e="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");return a.lang("sk",{months:d,monthsShort:e,monthsParse:function(a,b){var c,d=[];for(c=0;12>c;c++)d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i");return d}(d,e),weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){function b(a,b,c){var d=a+" ";switch(c){case"m":return b?"ena minuta":"eno minuto";case"mm":return d+=1===a?"minuta":2===a?"minuti":3===a||4===a?"minute":"minut";case"h":return b?"ena ura":"eno uro";case"hh":return d+=1===a?"ura":2===a?"uri":3===a||4===a?"ure":"ur";case"dd":return d+=1===a?"dan":"dni";case"MM":return d+=1===a?"mesec":2===a?"meseca":3===a||4===a?"mesece":"mesecev";case"yy":return d+=1===a?"leto":2===a?"leti":3===a||4===a?"leta":"let"}}return a.lang("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejšnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"%s nazaj",s:"nekaj sekund",m:b,mm:b,h:b,hh:b,d:"en dan",dd:b,M:"en mesec",MM:b,y:"eno leto",yy:b},ordinal:"%d.",week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){return a.lang("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Marte_E Mërkure_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Neser në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s me parë",s:"disa seconda",m:"një minut",mm:"%d minutea",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"dddd LT",lastWeek:"[Förra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"e":1===b?"a":2===b?"a":"e";return a+c},week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"มกรา_กุมภา_มีนา_เมษา_พฤษภา_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),longDateFormat:{LT:"H นาฬิกา m นาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา LT",LLLL:"วันddddที่ D MMMM YYYY เวลา LT"},meridiem:function(a,b,c){return 12>a?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}),function(a){a(ba)}(function(a){return a.lang("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinal:function(a){return a},week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){var b={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};return a.lang("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(a){if(0===a)return a+"'ıncı";var c=a%10,d=a%100-c,e=a>=100?100:null;return a+(b[c]||b[d]||b[e])},week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){return a.lang("tzm-la",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),
weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}),function(a){a(ba)}(function(a){return a.lang("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}),function(a){a(ba)}(function(a){function b(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function c(a,c,d){var e={mm:"хвилина_хвилини_хвилин",hh:"година_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===d?c?"хвилина":"хвилину":"h"===d?c?"година":"годину":a+" "+b(e[d],+a)}function d(a,b){var c={nominative:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),accusative:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_")},d=/D[oD]? *MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function e(a,b){var c={nominative:"неділя_понеділок_вівторок_середа_четвер_п'ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п'ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п'ятниці_суботи".split("_")},d=/(\[[ВвУу]\]) ?dddd/.test(b)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(b)?"genitive":"nominative";return c[d][a.day()]}function f(a){return function(){return a+"о"+(11===this.hours()?"б":"")+"] LT"}}return a.lang("uk",{months:d,monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:e,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., LT",LLLL:"dddd, D MMMM YYYY р., LT"},calendar:{sameDay:f("[Сьогодні "),nextDay:f("[Завтра "),lastDay:f("[Вчора "),nextWeek:f("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return f("[Минулої] dddd [").call(this);case 1:case 2:case 4:return f("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:c,mm:c,h:"годину",hh:c,d:"день",dd:c,M:"місяць",MM:c,y:"рік",yy:c},meridiem:function(a,b,c){return 4>a?"ночі":12>a?"ранку":17>a?"дня":"вечора"},ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return a+"-й";case"D":return a+"-го";default:return a}},week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){return a.lang("uz",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})}),function(a){a(ba)}(function(a){return a.lang("vn",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY LT",LLLL:"dddd, D MMMM [năm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinal:function(a){return a},week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(a,b,c){var d=100*a+b;return 600>d?"凌晨":900>d?"早上":1130>d?"上午":1230>d?"中午":1800>d?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var b,c;return b=a().startOf("week"),c=this.unix()-b.unix()>=604800?"[下]":"[本]",0===this.minutes()?c+"dddAh点整":c+"dddAh点mm"},lastWeek:function(){var b,c;return b=a().startOf("week"),c=this.unix()<b.unix()?"[上]":"[本]",0===this.minutes()?c+"dddAh点整":c+"dddAh点mm"},sameElse:"L"},ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"日";case"M":return a+"月";case"w":case"W":return a+"周";default:return a}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})}),function(a){a(ba)}(function(a){return a.lang("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(a,b,c){var d=100*a+b;return 900>d?"早上":1130>d?"上午":1230>d?"中午":1800>d?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"日";case"M":return a+"月";case"w":case"W":return a+"週";default:return a}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}})}),ba.lang("en"),na?(module.exports=ba,aa(!0)):"function"==typeof define&&define.amd?(define("moment",function(a,b,c){return ba}),aa()):aa()}.call(this),function(a,b,c,d,e,f){"use strict";c.namespace("CreatePage"),c.CreatePage.EventDetailsView=c.Backbone.View.extend({el:"#event_details_wrapper",events:{"click .js-add_series_schedule":"handleToggleIsSeriesClick","click .js-switch-editor":"handleClickSwitchEditor"},bindings:{".js-event-start-date":{observe:"start_date"}},config:{liteEditorConfigSelector:"input[name=group-extras-has_lite_tiny_mce]",switchEditorLinkSelector:".js-switch-editor",classicEditorTextSelector:".js-classic-editor",newEditorTextSelector:".js-new-editor",disabledClass:"btn--disabled",tooltipClass:"js-d-tooltip",addDatesButtonSelector:".js-series-create"},initialize:function(){b.bindAll(this,"showRepeatingBasedOnATD","showRepeatingBasedOnInventoryType","showRepeating","hideRepeating","seriesStateChanged","swapEditors","getSwitchEditorModalHeading","buildSwitchEditorModal","showSwitchEditorModal"),this.$repeatingContainer=this.$("#event_details_repeat"),this.$repeatingLink=this.$(".repeated_option"),this.$repeatingLabel=this.$(".js-event-repeats-label"),this.$eventDateAndTime=this.$("#event_details_date"),this.$previewButton=a(".preview_button"),this.$displayEventStartDateWrapper=a("#display_start_date_wrapper"),this.initSelectBoxes(),this.model.on("change:is_atd",this.showRepeatingBasedOnATD),this.model.on("change:inventory_type",this.showRepeatingBasedOnInventoryType),this.initializeLocation(),this.model.on("change:is_series",this.seriesStateChanged),this.$seriesContainer=this.$("#event_details_series"),this.$isSeriesParentField=this.$("#id_group-series-is_series_parent"),this.initializeSeries(),this.showRepeatingBasedOnInventoryType(),this.model.on("change:has_lite_tiny_mce",this.swapEditors),this.$hasLiteEditorInput=this.$(this.config.liteEditorConfigSelector),this.$switchEditorLink=this.$(this.config.switchEditorLinkSelector),this.$classicEditorText=this.$(this.config.classicEditorTextSelector),this.$newEditorText=this.$(this.config.newEditorTextSelector),this.initializeHelpDocs(),d(["url-lib"],function(a){var b=a.parseQuery(f.location.search),c=b.repeatingEvent,d=b.nocoyoteredirect;d&&c&&this.showSeries()}.bind(this))},initializeHelpDocs:function(){c.App.addInitializer(function(a){c.App.reqres.setHandler("helpDocs",function(){return a.helpDocs})})},initializeLocation:function(){var a=this.model;c.App.addInitializer(function(b){var d=c.CreatePage.LocationComponentFactory.create();d.start({googleMapsAPIDeferred:b.googleMapsAPIDeferred,errors:b.formErrors.location,venueAttributes:b.venueAttributes,pastVenueAttributes:b.pastVenueAttributes,region:new f.Backbone.Marionette.Region({el:"#event_details_super_location"})}),d.on("venue:new",function(b,c){a.set("venue",c)}),a.set("venue",d.getCurrentVenue())})},initSelectBoxes:function(){this.startDateTime=new c.UIComponents.SelectBox({element:this.$("#start_date_time"),parentClass:"responsive-form__select create_select_time_field custom-select-time-picker"}),this.startDateTime.$el.prev(".custom-select-arrow").on("click",function(){a(this).next("input").focus()}),this.endDateTime=new c.UIComponents.SelectBox({element:this.$("#end_date_time"),parentClass:"responsive-form__select create_select_time_field custom-select-time-picker"}),this.endDateTime.$el.prev(".custom-select-arrow").on("click",function(){a(this).next("input").focus()})},render:function(){return this},getSwitchEditorModalHeading:function(){return e(this.model.get("has_lite_tiny_mce")?"Switch to HTML Editor":"Switch to Standard Editor")},buildSwitchEditorModal:function(){var a=this;d(["eb-styleguide/js/ui_components/overlays/dialog"],function(b){a.switchEditorModal=b.popoverDialog.create(),a.switchEditorModal.frame.$el.appendTo("body")})},showSwitchEditorModal:function(){var a,b,c,e=this;d(["require/components/create/switch_editor_view","eb-styleguide/js/components/header"],function(d,f){c=new d({model:e.model}),a=e.switchEditorModal.dialog,e.switchEditorModal.model.set("heading",e.getSwitchEditorModalHeading()),b=new f({model:e.switchEditorModal.model}).render(),a.header.show(b),a.content.show(c),e.switchEditorModal.model.set("show",!0)})},handleClickSwitchEditor:function(a){a.preventDefault(),this.buildSwitchEditorModal(),this.showSwitchEditorModal()},swapEditors:function(){var a,b=this.model.get("has_lite_tiny_mce");c.TinyMCE.removeAll(),b?(c.TinyMCE.initEditor(c.CreatePage.tinyMCELiteConfig),this.$newEditorText.addClass("is-hidden"),this.$classicEditorText.removeClass("is-hidden"),a="to advanced"):(c.TinyMCE.initEditor(c.CreatePage.tinyMCEAdvancedConfig),this.$newEditorText.removeClass("is-hidden"),this.$classicEditorText.addClass("is-hidden"),a="to basic"),this.$hasLiteEditorInput.val(b),this.$switchEditorLink.data("event-label",a)},showRepeatingBasedOnATD:function(){this.showOrHideRepeatingLink()},showRepeatingBasedOnInventoryType:function(){this.showOrHideRepeatingLink()},showOrHideRepeatingLink:function(){c.CreatePage.TicketCollection.hasATDTicket&&c.CreatePage.TicketCollection.hasATDTicket()||this.model.get("inventory_type")===c.CreatePage.EventDetailsView.RESERVED_INVENTORY_TYPE?(this.hideRepeating(),this.$repeatingLink.addClass("is-hidden"),this.hideSeries()):(this.$repeatingLink.removeClass("is-hidden"),this.model.get("is_repeating")&&this.showRepeating(),this.model.get("is_series")&&this.showSeries())},showRepeating:function(){this.$repeatingContainer.removeClass("is-hidden"),this.$repeatingLabel.html(e("Remove repeating event schedule"))},hideRepeating:function(){this.$repeatingContainer.addClass("is-hidden"),this.$repeatingLabel.html(e("Schedule multiple events"))},handleToggleIsSeriesClick:function(a){a.preventDefault(),this.model.set("is_series",!this.model.get("is_series"))},seriesStateChanged:function(){this.model.get("is_series")?this.showSeries():this.hideSeries()},showSeries:function(){this.$isSeriesParentField.val("True").change(),this.$seriesContainer.removeClass("is-hidden"),this.$repeatingLabel.html(e("Remove repeating event schedule")),this.$eventDateAndTime.addClass("is-hidden"),this.$previewButton.addClass("is-hidden"),this.$displayEventStartDateWrapper.addClass("is-hidden"),a("#timezone_short_series").html(a("#timezone_short").html())},hideSeries:function(){this.$isSeriesParentField.val("False").change(),this.$seriesContainer.addClass("is-hidden"),this.$repeatingLabel.html(e("Schedule multiple events")),this.$eventDateAndTime.removeClass("is-hidden"),this.$previewButton.removeClass("is-hidden"),this.$displayEventStartDateWrapper.removeClass("is-hidden")},initializeSeries:function(){var d=this.model;c.App.addInitializer(function(e){function g(){a("#id_group-series-saved_events").val(i.savedEventsToJSON()).change(),a("#id_group-series-new_events").val(i.newEventsToJSON()).change(),a("#id_group-series-delete_events").val(JSON.stringify(k)).change()}function h(b){a(this.config.addDatesButtonSelector).removeClass(this.config.disabledClass).removeClass(this.config.tooltipClass).tooltip("destroy"),b&&a(this.config.addDatesButtonSelector).addClass(this.config.disabledClass).addClass(this.config.tooltipClass).tooltip()}var i,j,k=[];if(e.seriesComponentEnabled){var l;f.moment.lang(c.Intl.getLocale()),i=c.Models.SeriesCollection.fromSeriesJSON(a("input[name=group-series-saved_events]").val()),j=c.Models.SeriesCollection.fromSeriesJSON(a("input[name=group-series-new_events]").val()),j.length>0&&i.add(j.toJSON()),c.CreatePage.setSeriesCollection(i),l=c.CreatePage.SeriesComponentFactory.create({collection:i,seriesDeleteEvents:k,canCancelSeries:this.options.canCancelSeries}),l.start({region:new Backbone.Marionette.Region({el:".js-series-browser"})}),l.on("disable",function(){d.set("is_series",!1),a("#event_details_series .errorlist").addClass("is-hidden")}),i.on("change reset add remove",b.debounce(g,100)),i.on("load",c.DirtyPage.setDirty(!1)),this.listenTo(i,"seriesCollectionMaxLimitReached",h),i.checkLimitReached()}}.bind(this)),this.seriesStateChanged(),this.options.hasSeriesErrors&&this.$seriesContainer.hasClass("is-hidden")&&this.showSeries()}},{RESERVED_INVENTORY_TYPE:1}).mixin(c.Backbone.Mixins.withStickit)}(window.jQuery,window._,window.EB,require,window.gettext,window),function(a,b,c){"use strict";b.namespace("CreatePage"),b.CreatePage.TieredPricingModel=b.Backbone.Model.extend({AUTO_HIDE_TYPES:{SALES_START_END:"0",CUSTOM_DATE_TIME:"1"},defaults:{autoHide:!1,hideType:"0",hideUntil:null,hideAfter:null,startSalesDate:null,endSalesDate:null,isHidden:!1},initialize:function(a){var b=["change:autoHide","change:hideType","change:hideUntilDate","change:hideAfterDate","change:startSalesDate","change:endSalesDate"];c.bindAll(this,"customHideChanged","isCurrentlyHidden"),this.on("change:hideUntil change:hideAfter",this.customHideChanged),this.on(b.join(" "),this.isCurrentlyHidden)},customHideEnabled:function(){return!(!this.get("hideUntil")&&!this.get("hideAfter"))},customHideChanged:function(){this.customHideEnabled()||this.get("hideType")===this.AUTO_HIDE_TYPES.SALES_START_END||this.trigger("resetAutoHideType"),this.isCurrentlyHidden()},isCurrentlyHidden:function(){var a=!1,b=new Date;return this.get("autoHide")?(a=this.get("hideType")===this.AUTO_HIDE_TYPES.SALES_START_END?b<this.get("startSalesDate")||b>this.get("endSalesDate"):!!(this.get("hideUntil")&&b<this.get("hideUntilDate")||this.get("hideAfter")&&b>this.get("hideAfterDate")),this.set("isHidden",a),a):void this.set("isHidden",!1)}})}(window.jQuery,window.EB,window._),function(a,b,c){"use strict";b.namespace("CreatePage"),b.CreatePage.TieredPricingView=b.Backbone.View.extend({events:{},initialize:function(){c.bindAll(this,"formSubmit","autoHideToggled","autoHideTypeChanged","autoHideUntilToggled","autoHideAfterToggled","resetAutoHideType","hideUntilChanged","hideAfterChanged","autoHideUntilInputChanged","autoHideAfterInputChanged"),this._defineElementIds(),this._defineElements(),this._configureEvents(),a("#event_form").on("submit",this.formSubmit),this.autoHideToggled(),this.autoHideUntilToggled(),this.autoHideAfterToggled(),this.autoHideTypeChanged(),this.autoHideUntilInputChanged(),this.autoHideAfterInputChanged(),this.model.isCurrentlyHidden()},_defineElementIds:function(){this.elementIds={autoHideToggle:"#"+this.options.parentId+"auto_hide",autoHideSettings:"#"+this.options.parentId+"auto_hide_settings",autoHideType:"input[name$=auto_hide_type]",autoHideCustom:"#"+this.options.parentId+"auto_hide_custom",autoHideUntilToggle:"#"+this.options.parentId+"auto_hide_until",autoHideUntilDateGroup:"#"+this.options.parentId+"auto_hide_until_datetime_group",autoHideUntilDateInput:"#"+this.options.parentId+"hide_until",autoHideAfterToggle:"#"+this.options.parentId+"auto_hide_after",autoHideAfterDateGroup:"#"+this.options.parentId+"auto_hide_after_datetime_group",autoHideAfterDateInput:"#"+this.options.parentId+"hide_after",hidden:"#"+this.options.parentId+"hidden"}},_defineElements:function(){this.$elements={autoHideToggle:this.$(this.elementIds.autoHideToggle),autoHideSettings:this.$(this.elementIds.autoHideSettings),autoHideType:this.$(this.elementIds.autoHideType),autoHideCustom:this.$(this.elementIds.autoHideCustom),autoHideUntilToggle:this.$(this.elementIds.autoHideUntilToggle),autoHideUntilDateGroup:this.$(this.elementIds.autoHideUntilDateGroup),autoHideUntilDateInput:this.$(this.elementIds.autoHideUntilDateInput),autoHideAfterToggle:this.$(this.elementIds.autoHideAfterToggle),autoHideAfterDateGroup:this.$(this.elementIds.autoHideAfterDateGroup),autoHideAfterDateInput:this.$(this.elementIds.autoHideAfterDateInput),hidden:this.$(this.elementIds.hidden)}},_configureEvents:function(){this.events["change "+this.elementIds.autoHideToggle]="autoHideToggled",this.events["change "+this.elementIds.autoHideType]="autoHideTypeChanged",this.events["change "+this.elementIds.autoHideUntilToggle]="autoHideUntilToggled",this.events["change "+this.elementIds.autoHideAfterToggle]="autoHideAfterToggled",this.events["change "+this.elementIds.autoHideUntilDateInput]="autoHideUntilInputChanged",this.events["change "+this.elementIds.autoHideAfterDateInput]="autoHideAfterInputChanged",this.delegateEvents(),this.model.on("resetAutoHideType",this.resetAutoHideType),this.model.on("change:hideUntil",this.hideUntilChanged),this.model.on("change:hideAfter",this.hideAfterChanged)},syncAutoHideDates:function(){b.CreatePage.Dates.updateDateTimeInputs(this.$elements.autoHideUntilDateGroup,this.model.get("startSalesDate")),b.CreatePage.Dates.updateDateTimeInputs(this.$elements.autoHideAfterDateGroup,this.model.get("endSalesDate"))},autoHideUntilInputChanged:function(){this.model.set("hideUntilDate",b.Date.fromSql(this.$elements.autoHideUntilDateInput.val()))},autoHideAfterInputChanged:function(){this.model.set("hideAfterDate",b.Date.fromSql(this.$elements.autoHideAfterDateInput.val()))},autoHideToggled:function(){this.model.set("autoHide",this.$elements.autoHideToggle.is(":checked")),this.$elements.autoHideSettings.toggle(this.model.get("autoHide"))},autoHideUntilToggled:function(){this.model.set("hideUntil",this.$elements.autoHideUntilToggle.is(":checked"))},hideUntilChanged:function(){this._toggleDisableDateTime(this.$elements.autoHideUntilDateGroup,this.$elements.autoHideUntilDateInput,!this.model.get("hideUntil"))},autoHideAfterToggled:function(){this.model.set("hideAfter",this.$elements.autoHideAfterToggle.is(":checked"))},hideAfterChanged:function(){this._toggleDisableDateTime(this.$elements.autoHideAfterDateGroup,this.$elements.autoHideAfterDateInput,!this.model.get("hideAfter"))},autoHideTypeChanged:function(){var a=this.$elements.autoHideType.filter(":checked").val();this.model.set("hideType",a),this.$elements.autoHideCustom.toggleClass("hidden",a!==this.model.AUTO_HIDE_TYPES.CUSTOM_DATE_TIME),this.model.get("hideType")!==this.model.AUTO_HIDE_TYPES.CUSTOM_DATE_TIME||this.model.customHideEnabled()||(this.$elements.autoHideUntilToggle.prop("checked",!0).trigger("change"),this.$elements.autoHideAfterToggle.prop("checked",!0).trigger("change"))},resetAutoHideType:function(){this.$elements.autoHideType.filter("[value="+this.model.AUTO_HIDE_TYPES.SALES_START_END+"]").prop("checked",!0).trigger("change")},formSubmit:function(){this.model.get("autoHide")&&this.model.get("hideType")===this.model.AUTO_HIDE_TYPES.SALES_START_END&&(this.$elements.autoHideUntilToggle.prop("checked",!1).trigger("change"),this.$elements.autoHideAfterToggle.prop("checked",!1).trigger("change"))},_toggleDisableDateTime:function(a,b,c){a.find("input, select").prop("disabled",c),b.prop("disabled",c)}})}(window.jQuery,window.EB,window._),function(a,b,c,d,e){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketCollection=c.Backbone.Collection.extend({model:c.Models.TicketModel,sumQuantity:function(){var a,b,c;return this.reduce(function(d,e){return a=parseInt(e.get("quantity")||"0",10),b=parseInt(e.get("quantity_sold")||"0",10),c=b>a?b:a,d+c},0)},hasAllFreeTickets:function(){return this.every(function(a){return"free"===a.get("paymentType")})},hasPaidTicket:function(){return this.some(function(a){return 0!==parseFloat(a.get("ticketPrice"))})},hasATDTicket:function(){return this.some(function(a){return a.get("available_atd")})},containsTicketWithId:function(a){return this.any(function(b){var c=b.id||"-"+b.cid.slice(1);return a===c})},hasAllValidTicketLimits:function(){return this.every(function(a){return a.isValid(["order_min","order_limit"])})},updateFee:function(){this.each(function(a){a.updateFee()})}}).mixin(c.Backbone.Mixins.sortableByIndex)}(window.jQuery,window._,window.EB,window),function(a,b,c,d,e){"use strict";var f;c.namespace("CreatePage"),require(["eb/janus"],function(a){f=a}),c.CreatePage.FeaturePromptView=e.ItemView.extend({config:{template:{reservedSeating:"reserved_seating_feature_prompt_view",unlimitedTickets:"unlimited_tickets_feature_prompt_view"},featurePrompt:{mainSelector:"#main_content"},planType:"package2"},events:{"click .js-prompt-button":"_handlePromptButtonClick"},initialize:function(){this.userId=c.CreatePage.featurePrompt.userId,require(["backbone_wreqr"],function(a){var b=a.radio.channel("feature-prompt");this.listenTo(b.vent,"userUpgraded",this._handleUpgraded.bind(this))}.bind(this))},onRender:function(){c.Analytics.trackEvent({action:"UpgradePromptView",category:"change-plan",label:this.options.gaLabel,userId:this.userId})},_isFeatureType:function(a){return this.options.featureType===a},_isCreate:function(){var a=this._isFeatureType("unlimitedTickets")||this._isFeatureType("reservedSeating")||this._isFeatureType("globalHeader");return a},_handlePromptButtonClick:function(){this.openReactModal(),c.Analytics.trackEvent({action:"UpgradePromptClick",category:"change-plan",label:this.options.gaLabel,userId:this.userId})},_handleUpgraded:function(){require(["url-lib","require/components/feature_prompt/components/notification_view"],function(b,c){var d=b.parseQuery(window.location.search),e=d.success,f=d.pckg,g;e&&f&&(g=new c({promptType:"existingUserPrompt",upgradedTo:f.toLowerCase()}),a(this.config.featurePrompt.mainSelector).prepend(g.render().$el),this.remove())}.bind(this))},openReactModal:function(){require(["require/asyncBundles/featurePrompt.amd.async","backbone_wreqr"],function(a,b){a["default"]({planType:this.config.planType,organizationId:c.CreatePage.featurePrompt.organizationId,userId:this.userId,pricing:c.CreatePage.featurePrompt.pricing,canChangePlan:c.CreatePage.featurePrompt.canChangePlan,featureType:this.options.featureType,gaLabel:this.options.gaLabel,isUnlimitedTicketsPrompt:this._isFeatureType("unlimitedTickets"),isCreate:this._isCreate(),callbackAfterUpgrade:function(){var a=b.radio.channel("feature-prompt");a.vent.trigger("userUpgraded")}})}.bind(this))},getTemplate:function(){return d.templates[this.config.template[this.options.featureType]]}})}(window.jQuery,window._,window.EB,window.Handlebars,window.Marionette),function(a,b,c,d,e,f){"use strict";c.namespace("CreatePage");var g='<div class="text--normal"><h3 class="text-body-large">'+e.gettext("Turn on Reserved Seating?")+'</h3><p class="l-pad-vert-1">'+e.gettext("Design a custom venue map for your event, set prices for each section, and choose whether attendees can pick their seats.")+"</p></div>",h='<div class="text--normal"><h3 class="text-body-large">'+e.gettext("Turn off Reserved Seating?")+'</h3><p class="l-pad-vert-1">'+e.gettext("This will turn your event into a general admission event.")+"</p></div>";c.CreatePage.EventTicketsView=c.Backbone.View.extend({el:"#create_tickets_wrapper",initialize:function(a){b.bindAll(this,"handleReservedSeatingToggled","refreshReservedSeatingToggle","showOrHideReservedSeatingToggle","updateFee"),this.eventModel=a.eventModel,this.currencyModel=a.currencyModel,this.ticketCollection=a.ticketCollection,this.currencyView=new c.CreatePage.CurrencyView({eventModel:this.eventModel,model:this.currencyModel}),this.currencyView.render(),this.refundPolicyView=new c.CreatePage.RefundPolicyView({eventModel:this.eventModel}),this.refundPolicyView.render(),this.ticketSummaryView=new c.CreatePage.TicketSummaryView(a),this.eventModel.keys().indexOf("inventory_type")>-1&&(this.listenTo(this.eventModel,"change:inventory_type",this.handleInventoryTypeChanged),this.initializeAssignedSeating()),this.updateFeeDebounce=b.debounce(this.updateFee,250),require(["backbone_wreqr"],function(a){this.channel=a.radio.channel("taxOptionsChannel"),this.channel.vent.on("change:postalCode",this.updateFeeDebounce)}.bind(this))},updateFee:function(){this.ticketSummaryView.updateFee()},initializeAssignedSeating:function(){var a=this.$(".js-reserved-seating-status").first();this.reservedSeatingComponent=c.CreatePage.ReservedSeatingComponentFactory.create({eventModel:this.eventModel,ticketCollection:this.ticketCollection}),a.length&&(this.listenTo(this.eventModel,"change:is_repeating",this.refreshReservedSeatingToggle),this.listenTo(this.eventModel,"change:is_series",this.refreshReservedSeatingToggle),this.listenTo(this.currencyModel,"change:country",this.refreshReservedSeatingToggle),this.listenTo(this.currencyModel,"change:currency",this.refreshReservedSeatingToggle),this.ticketCollection.on("change",this.showOrHideReservedSeatingToggle),a.on("toggle",this.handleReservedSeatingToggled),this.refreshReservedSeatingToggle(),document.referrer.indexOf("reserved-seating")>-1&&this.$(".js-switch-view").tooltip("show")),this.reservedSeatingComponent.start({region:new d.Marionette.Region({el:"#event_reserved_seating_super_location"})})},handleReservedSeatingToggled:function(c){var d=b.isBoolean(c)?c:c.currentTarget.checked;this.eventModel.set("inventory_type",Number(d)),this.$(".js-switch-view").tooltip("destroy").tooltip({title:d?h:g,placement:"left",html:!0}),d?(a(".repeated_option").addClass("is-hidden"),a("#event_details_repeat").addClass("is-hidden"),a("#id-group-extras-is_pick_a_seat_enabled").val("on"),a("#id-group-extras-can_display_seat_map").val("on"),a("#id-group-extras-show_colors_in_seatmap_thumbnail").val("on"),this.showCurrencySelection()):(a(".repeated_option").removeClass("is-hidden"),a(".js-event-repeats-label").html(e.gettext("Schedule multiple events")),a("#id-group-extras-is_pick_a_seat_enabled").val(""),a("#id-group-extras-can_display_seat_map").val(""),a("#id-group-extras-show_colors_in_seatmap_thumbnail").val(""),this.hideCurrencySelection())},refreshReservedSeatingToggle:function(){var b=!0,c=!1,d=!1;this.eventModel.get("is_series")&&(b=!1),this.currencyModel.requiresPaypal()&&(b=!1),a(".js-switch-view").is(".switch--selected")&&(d=!0),b&&this.eventModel.get("inventory_type")&&(c=!0),d!==c&&a(".js-switch-view").click(),a(".js-reserved-toggle-container").toggle(b)},showOrHideReservedSeatingToggle:function(){this.ticketCollection.length?this.$(".js-reserved-toggle-container").slideUp():this.$(".js-reserved-toggle-container").slideDown()},handleInventoryTypeChanged:function(a,b){this.ticketSummaryView.render(),1===b?this.ticketSummaryView.handleHideView():this.ticketSummaryView.handleShowView()},showCurrencySelection:function(){a(".js-change-currency").removeClass("is-hidden")},hideCurrencySelection:function(){this.currencyView.handleIsFreeChange()},render:function(){this.ticketSummaryView.render(),c.CreatePage.setTicketSummaryView(this.ticketSummaryView)}})}(window.jQuery,window._,window.EB,window.Backbone,window),function(a,b,c,d,e){"use strict";c.namespace("CreatePage.Mixins"),"object"==typeof e.Advice&&"function"!=typeof c.Backbone.View.mixin&&(e.Advice.addMixin(c.Backbone.View),e.Advice.addMixin(c.Backbone.Model),e.Advice.addMixin(c.Backbone.Collection)),c.CreatePage.Mixins.stickitIEHack=function(a){this.clobber("unstickit",function(a){b.each(this._modelBindings,b.bind(function(b,c){return a&&b.model!==a?!1:(b.model.off(b.event,b.fn),void delete this._modelBindings[c])},this)),this._modelBindings=b.compact(this._modelBindings)})},c.CreatePage.Mixins.animatedView=function(b){b||(b={isOpen:!1,scrollSpeed:600}),this.after("initialize",function(){this.isOpen=b.isOpen,this.scrollSpeed=b.scrollSpeed}),this.clobber({scrollViewToViewport:function(b){a("html body").stop().animate({scrollTop:b},this.scrollSpeed)},show:function(b){var c=a("html body").scrollTop();this.isOpen=!0,this.beforeShow(),this.$el.delay(10).slideDown(this.scrollSpeed),b>c&&this.scrollViewToViewport(b)},hide:function(b){var c=a("html body").scrollTop();this.isOpen=!1,this.$el.slideUp(this.scrollSpeed),c>b&&this.scrollViewToViewport(b)}}),this.setDefaults({beforeShow:function(){}})}}(window.jQuery,window._,window.EB,window.Handlebars,window.Backbone),// Ticket View is a view controlling both the ticket row and ticket settings
function(a,b,c,d){"use strict";c.namespace("CreatePage");var e,f;require(["require/components/dialog/confirmation"],function(a){f=d.templates.delete_ticket_type_confirmation,e=new a({template:f})}),c.CreatePage.TicketView=c.Backbone.View.extend({tagName:"div",className:"create-tickets--ticket",events:{"click .js-ticket-settings-link":"handleSettingsClick","click .js-minimize-settings-link":"handleSettingsClick","click .js-delete-ticket":"handleDeleteTicketClick","click .js-ticket-edit-children":"handleSelectChildrenClick","focus .js-price-input":"handlePriceInputChange"},initialize:function(){b.bindAll(this,"handleSettingsClick","handleSettingsOpenEvent","toggleSettings","handleSettingsViewValidationFail","handlePriceInputChange","changePriceCallback","handleDeleteTicketClick","toggleSettingsTabSelect","removeFromCollection","deleteTicketCallback","setDraggable","disableInputsWhenReadonly","updateEventSet"),this.ticketRowView=new c.CreatePage.TicketRowView({model:this.model}),this.ticketSettingsView=new c.CreatePage.TicketSettingsView({model:this.model}),this.hasSettingsOpen=!1,Backbone.on("ticket-settings-open-"+this.model.cid,this.handleSettingsOpenEvent),this.eventsSelectionEventName=["handleSeriesSelection",this.model.cid].join(":"),this.repeatingEventsV3Channel=c.CreatePage.getRepeatingEventsV3Channel()},render:function(){return this.$el.append(this.ticketRowView.render().el),this.$el.append(this.ticketSettingsView.render().el),this.$settingsLink=this.$(".js-ticket-settings-link"),this.$el.hide(),this.ticketSettingsView.$el.hide(),this.ticketSettingsView.on("validationFail",this.handleSettingsViewValidationFail),this.model.get("requireValidation")&&(this.ticketRowView.validateView(),this.ticketSettingsView.validateView()),this.listenTo(this.repeatingEventsV3Channel.vent,this.eventsSelectionEventName,this.updateEventSet),this.disableInputsWhenReadonly(),this},disableInputsWhenReadonly:function(){this.model.get("readonly")&&(this.disableInputs(),this.$(".js-delete-ticket").hide())},showFirst:function(){this.$el.fadeTo(0,1)},show:function(){this.$el.slideDown(150),this.$el.fadeTo(300,1)},enableTooltips:function(){this.ticketRowView.enableTooltips()},enablePaymentTooltip:function(){this.ticketRowView.enablePaymentTooltip()},disableTooltips:function(){this.ticketRowView.disableTooltips()},handleSettingsClick:function(a){a&&a.preventDefault(),this.ticketSettingsView.$el.promise().done(this.toggleSettings),this.model.collection.trigger("settingsVisibilityChanged")},handleSettingsOpenEvent:function(a){this.ticketSettingsView.isOpen||this.ticketSettingsView.$el.promise().done(this.toggleSettings),this.ticketSettingsView.$(a).trigger("click")},handleSettingsViewValidationFail:function(){this.showTicketSettingsView()},handleSelectChildrenClick:function(a){var c;a.preventDefault(),this.model.get("readonly")||(c=b.map(this.model.get("newEventSet"),function(a){return a.toString()}),this.repeatingEventsV3Channel.vent.trigger("getSeriesChildrenViewModal",this.model,c))},updateEventSet:function(a){var d,e;e=b.map(a,function(a){return parseInt(a,10)}),this.model.set("newEventSet",e),d=this.model.get("currentEventSet"),b.isEqual(d,e)||c.DirtyPage.setDirty(!0)},getTicketRowOffset:function(){return this.ticketRowView.$el.offset().top-120},showTicketSettingsView:function(){this.toggleSettingsTabSelect(),this.ticketSettingsView.show(this.getTicketRowOffset())},hideTicketSettingsView:function(){this.ticketSettingsView.hide(this.getTicketRowOffset()),this.ticketSettingsView.$el.promise().done(this.toggleSettingsTabSelect)},toggleSettings:function(){this.ticketSettingsView.isOpen?(this.hideTicketSettingsView(),this.hasSettingsOpen=!1):(this.showTicketSettingsView(),this.hasSettingsOpen=!0)},toggleSettingsTabSelect:function(){this.$settingsLink.toggleClass("is-selected")},handlePriceInputChange:function(a){a.preventDefault(),this.model.canEditPrice(this.changePriceCallback)},changePriceCallback:function(a,b){a||(alert(b),this.$(".js-price-input").prop("disabled","true"))},handleDeleteTicketClick:function(a){a.preventDefault(),this.model.canBeDeleted(this.deleteTicketCallback)},deleteTicketCallback:function(a,b){a?e.show().done(this._startRemovingTicketClass.bind(this)):alert(b)},_startRemovingTicketClass:function(){this.$el.fadeTo(600,0),this.$el.slideUp(250,this.removeFromCollection)},removeFromCollection:function(){this.model.collection.remove(this.model),this.model.set("deleted",1)},validateViews:function(){this.ticketRowView.resetValidationErrors(),this.ticketRowView.validateView(),this.ticketSettingsView.resetValidationErrors(),this.ticketSettingsView.validateView()},setDraggable:function(a){a?this.ticketRowView.$el.addClass("draggable"):this.ticketRowView.$el.removeClass("draggable")}}).mixin(c.Backbone.Mixins.disabledInputs)}(window.jQuery,window._,window.EB,window.Handlebars),function(a,b,c,d,e,f){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketSummaryFooterView=c.Backbone.View.extend({config:{createTicketsButtonsSelector:".js-create-ticket-footer",ticketSummaryFooterSelector:".js-ticket-summary-footer",designerButton:".js-designer-launch",unlimitedTicketsClass:"unlimited-tickets-feature-prompt__ticket--footer",disabledClasses:"btn--disabled is-disabled",designerButtonClass:"designer-button"},events:{"click .js-designer-launch":"handleLaunchDesigner"},initialize:function(a){this.readonly=a.readonly,1===this.model.get("inventory_type")&&(this.readonly=!0),this.options=a,this.collection=a.ticketCollection,require(["backbone_wreqr"],function(a){var b=a.radio.channel("feature-prompt");this.listenTo(b.vent,"userUpgraded",this.handleFeatureUpgraded.bind(this))}.bind(this))},render:function(){this.options.readonly&&(this.$(".js-create-ticket").addClass("btn--disabled"),this.$(".js-create-ticket").prop("disabled",!0)),this.eventCapacityView=new c.CreatePage.EventCapacityView({el:this.$(".js-event-capacity"),ticketCollection:this.collection,model:this.model,readonly:this.readonly,capacityErrors:this.options.capacityErrors}),this.eventCapacityView.render(),this.renderUnlimitedTicketsFeaturePrompt()},isUnlimitedTicketsFeaturePrompt:function(){return c.CreatePage.featurePrompt.isUnlimitedTicketsFeaturePrompt},handleFeatureUpgraded:function(){c.CreatePage.featurePrompt.isUnlimitedTicketsFeaturePrompt=!1,this.unlimitedTicketsFeaturePromptView&&this.unlimitedTicketsFeaturePromptView.remove(),this.enableCreateTicketButtons()},trackViewUpgradePromptEvent:function(){c.Analytics.trackEvent({action:"UpgradePromptView",category:"change-plan",label:"Tickets",userId:this.options.userId})},renderUnlimitedTicketsFeaturePrompt:function(){this.isUnlimitedTicketsFeaturePrompt()&&(this.disabledCreateTicketButtons(),this.unlimitedTicketsFeaturePromptView=new c.CreatePage.FeaturePromptView({el:this.$(".js-unlimited-tickets-prompt-container"),featureType:"unlimitedTickets",gaLabel:"Tickets"}),this.unlimitedTicketsFeaturePromptView.render(),this.collection.on("add",this.trackViewUpgradePromptEvent,this))},enableCreateTicketButtons:function(){this.$(this.config.designerButton).removeClass(this.config.disabledClasses).removeClass(this.config.designerButtonClass).prop("disabled",!1),this.$(this.config.createTicketsButtonsSelector).removeClass(this.config.disabledClasses).prop("disabled",!1),a(this.config.ticketSummaryFooterSelector).removeClass(this.config.unlimitedTicketsClass)},disabledCreateTicketButtons:function(){this.$(this.config.createTicketsButtonsSelector).addClass(this.config.disabledClasses).prop("disabled",!0),this.$(this.config.designerButton).addClass(this.config.designerButtonClass).addClass(this.config.disabledClasses).prop("disabled",!0),a(this.config.ticketSummaryFooterSelector).addClass(this.config.unlimitedTicketsClass)},getTemplateName:function(){return 1===this.model.get("inventory_type")?"ticket_summary_reserved_footer":"ticket_summary_footer"},handleLaunchDesigner:function(b){a("#event_form").append(a("<input/>",{type:"hidden",name:"go_to_seatmap",value:"1"})),c.CreatePage.submit()}}).mixin(c.Backbone.Mixins.withTemplate)}(window.jQuery,window._,window.EB,window.Backbone,window),// Ticket Summary View contains the entire create ticket flow.
// It is a combo ticket collection view and ticket router
function(a,b,c,d,e,f,g){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketSummaryView=c.Backbone.View.extend({el:".js-create-ticket-wrapper",events:{"click .js-create-ticket":"createTicket"},initialize:function(){b.bindAll(this,"initializeNumTicket","setTicketDraggability","handleErrorNotification","handleHideView","handleShowView","updateFee"),this.collection=this.options.ticketCollection,this.numTickets=0,this.numFreeTickets=0,this.numDonationTickets=0,this.numPaidTickets=0,this.collection.each(this.initializeNumTicket),this.collection.each(this.handleErrorNotification),this.collection.on("settingsVisibilityChanged",this.setTicketDraggability),this.deletedTicketCollection=new c.CreatePage.TicketCollection,this.listenTo(this.collection,"remove",this.handleTicketRemoved),e.Events.on("create:tickets:hide",this.handleHideView),e.Events.on("create:tickets:show",this.handleShowView),this.listenTo(this.options.eventModel,"change:is_series",this.handleSeriesTypeChange),this.listenTo(this,"collection:rendered",this.handleCollectionRendered),this.listenTo(this.collection,"show",this.handleTicketShownRequested),this.listenTo(this.collection,"change:deleteError",this.handleErrorNotification)},updateFee:function(){this.collection.length&&this.collection.updateFee()},render:function(){this.container=this.$(".js-ticket-container"),this.$ticketError=this.$(".js-create-ticket-error"),this.$el.removeClass("loading"),this.options.publishError&&this.$ticketError.removeClass("is-hidden"),this.$ticketToggleContainer=new c.UIComponents.ToggleContainerVisibility({el:this.$el,containers:this.$(".js-ticket-summary-container"),animation:!1}),this.ticketSummaryFooterView=new c.CreatePage.TicketSummaryFooterView({ticketCollection:this.collection,model:this.options.eventModel,readonly:this.options.readonly,capacityErrors:this.options.capacityErrors,userId:this.options.userId}),this.$(".js-ticket-summary-footer").html(this.ticketSummaryFooterView.render().$el),this.renderDeletedTickets(),this.stopListening(this.$ticketToggleContainer),this.listenTo(this.$ticketToggleContainer,"start",this.handleAnimationEvent.bind(this,!0)),this.listenTo(this.$ticketToggleContainer,"hidden",this.handleAnimationEvent.bind(this,!1))},getTemplateName:function(){return this.options.eventModel.get("is_series")&&this.options.eventModel.get("allow_ticket_event_map")?"ticket_summary_series":"ticket_summary"},renderDeletedTickets:function(){var a=this.$(".js-deleted-tickets");this.deletedTicketCollection.each(function(b){var d=new c.CreatePage.TicketView({model:b});a.append(d.render().$el)})},initializeNumTicket:function(a){a.set("numTicket",this.numTickets),this.numTickets++},createTicket:function(d){var e,f,g={free:function(){return this.numFreeTickets++}.bind(this),paid:function(){return this.numPaidTickets++}.bind(this),donation:function(){return this.numDonationTickets++}.bind(this)},h=c.CreatePage.getSeriesCollection().filter(function(a){return b.isNumber(a.id)&&a.id>0}).map(function(a){return a.id});d.preventDefault(),c.DirtyPage.setDirty(!0),this.$ticketToggleContainer.animationDuration=800,(!this.isAnimatingContainer||this.collection.length>0)&&(e=a(d.target).data("type")||a(d.target).closest(".js-create-ticket").data("type"),f=g[e](),this.collection.add({paymentType:e,numTicket:this.numTickets,ticketTypeNumber:f,currencyModel:this.options.currencyModel,eventModel:this.options.eventModel,taxModel:this.options.taxModel,sort:!1,hasAttendees:!1,readonly:this.options.readonly,sqlNow:this.options.sqlNow,newEventSet:h,currentEventSet:[]}),this.numTickets++)},handleAnimationEvent:function(a){this.isAnimatingContainer=a},handleViewAdded:function(b,c){var d;b.show(),d=this.deletedTicketCollection.length>0?this.deletedTicketCollection.length+c.get("numTicket"):c.get("numTicket")+1,a("#id_group-tickets-TOTAL_FORMS").val(d),this.options.eventModel.set("is_free",this.collection.hasAllFreeTickets()),this.setTicketDraggability()},handleViewRemoved:function(a){a.$el.detach().appendTo(".js-deleted-tickets"),this.options.eventModel.set("is_free",this.collection.hasAllFreeTickets()),this.setTicketDraggability()},handleFirstViewAdded:function(a){this.$ticketError.addClass("is-hidden"),a.showFirst(),this.$ticketToggleContainer.toggleContainers()},handleNoViews:function(){this.$ticketToggleContainer.toggleContainers()},handleCollectionRendered:function(){b.keys(this.modelCIDViewMap).length&&this.$(".js-ticket-summary").hasClass("is-hidden")&&this.$ticketToggleContainer.toggleContainers()},handleShowView:function(){this.$el.removeClass("is-hidden")},handleHideView:function(){this.collection.length||this.$el.addClass("is-hidden")},handleSeriesTypeChange:function(){this.template=d.templates[this.getTemplateName()],this.render()},handleTicketRemoved:function(a){this.deletedTicketCollection.add(a),a.collection=this.deletedTicketCollection},handleTicketShownRequested:function(a){this.handleCollectionRendered(),e.trigger("ticket-settings-open-"+a.cid)},setTicketDraggability:function(){b.every(this.modelCIDViewMap,this.hasClosedSettings)&&this.collection.length>1?(this.container.sortable("option","disabled",!1),this.$el.removeClass("ticket-container--no-handles"),b.each(this.modelCIDViewMap,this.setTicketIsDraggable)):(this.container.sortable("option","disabled",!0),this.$el.addClass("ticket-container--no-handles"),b.each(this.modelCIDViewMap,this.setTicketIsNotDraggable))},hasClosedSettings:function(a){return!a.hasSettingsOpen},setTicketIsDraggable:function(a){a.setDraggable(!0)},setTicketIsNotDraggable:function(a){a.setDraggable(!1)},validateViews:function(){var a=!1;return b.each(b.values(this.modelCIDViewMap),function(b){b.model.isValid(!0)||(b.validateViews(),b.$(".form__field-error").not(":empty").length>0&&(a=!0))}),a},handleErrorNotification:function(){var b=!1;this.collection.each(function(a){var c=a.get("deleteError");if(c){var d=!!c;b=d||b}}),a(".js-deletion-error-for-row").toggleClass("is-hidden",!b)}}).mixin(c.Backbone.Mixins.withTemplate).mixin(c.Backbone.Mixins.sortableCollectionView,{containerSelector:".js-ticket-container",viewClass:c.CreatePage.TicketView,collectionClass:c.CreatePage.TicketCollection,handle:".sorting-gripper"})}(window.jQuery,window._,window.EB,window.Handlebars,window.Backbone,window),function(a,b,c,d){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketRowView=c.Backbone.View.extend({tagName:"div",className:"g-group create-tickets--row",bindings:{".js-ticket-name":"name",".js-quantity-input":"quantity",".js-quantity-text":"quantity",".js-current-event-set":{observe:"currentEventSet",onGet:"formatJson"},".js-new-event-set":{observe:"newEventSet",onGet:"formatJson"},".js-ticket-edit-children":{observe:"newEventSet",onGet:"formatEventSelection"},".js-ticket-order":{observe:"index",onGet:"formatTicketOrder"},".js-has-attendees":{observe:"hasAttendees"},".js-ticket-delete":{observe:"deleted"},".js-delete-ticket":{observe:"hasAttendees",visible:function(a){return!a},updateView:!1},".js-ticket-row":{observe:"deleteError",visible:!0,updateView:!1,visibleFn:"toggleErrorNotification"}},events:{"click .js-ticket-row":"handleDeleteCloseNotification"},initialize:function(){this.isMobile=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/),this.listenTo(this.model,"change:index",this.displayTooltips),this.listenTo(this.model,"change:hidden",this.handleVisibilityChange),this.listenTo(this.model,"change:name",this.showChangePriceTip),this.listenTo(this.model,"change:ticketPrice",this.showChangePriceTip),this.listenTo(this.model.get("eventModel"),"change:is_series",this.handleSeriesTypeChange),d.registerPartial("series_hidden_fields",d.templates.ticket_row_series_hidden_fields),d.registerPartial("series_user_fields",d.templates.ticket_row_series_user_fields),d.registerPartial("series_actions",d.templates.ticket_row_series_actions)},render:function(){return this.$nameInput=this.$(".js-ticket-name"),this.$nameErrorText=this.$(".js-error-for-name"),this.$visibilityIcon=this.$(".js-ticket-visibility"),this.$deleteTicket=this.$(".js-delete-ticket"),this.$ticketCostContainer=this.$(".js-payment-type"),this.$settingsLink=this.$(".js-ticket-settings-link"),this.$quantityInput=this.$(".js-quantity-input"),this.$changePriceTips=this.$(".js-change-price-tip"),this.renderTicketCost(),this.model.isUnlimitedDonation()&&this.model.get("hasAttendees")&&this.$quantityInput.prop("disabled","true"),this.initializeTooltips(),this.handleVisibilityChange(),this},getContextData:function(){return{color:this.model.get("color"),numTicket:this.model.get("numTicket"),readOnly:this.model.get("readonly"),quantityErrors:this.model.get("quantityErrors"),isDonation:this.model.isDonation(),index:this.model.get("index"),id:this.model.id,cid:this.model.getCid(),helpDocs:c.App.reqres.request("helpDocs")}},renderTicketCost:function(){var a;"free"===this.model.get("paymentType")?c.featureFlags&&c.featureFlags.allowFreeTicketConversionToPaid===!0?(this.model.set("ticketPrice",c.Intl.formatNumber(0)),this.ticketPaidView=new c.CreatePage.TicketPaidView({model:this.model}),a=this.ticketPaidView.render().el):a=d.templates.ticket_cost_free(this.model.toJSON()):"donation"===this.model.get("paymentType")?a=d.templates.ticket_cost_donation(this.model.toJSON()):(this.ticketPaidView=new c.CreatePage.TicketPaidView({model:this.model}),a=this.ticketPaidView.render().el,this.$el.addClass("report__row--paid-ticket")),this.$ticketCostContainer.html(a)},initializeTooltips:function(){this.isMobile||(this.$nameInput.tooltip({trigger:"focus"}),this.$quantityInput.tooltip({trigger:"focus"}),this.$deleteTicket.tooltip(),this.$settingsLink.tooltip(),this.displayTooltips())},displayTooltips:function(){0===this.model.get("index")?(this.$nameInput.tooltip("enable"),this.$quantityInput.tooltip("enable"),this.$settingsLink.tooltip("enable"),this.$deleteTicket.tooltip("enable")):(this.$nameInput.tooltip("disable"),this.$quantityInput.tooltip("disable"),this.$settingsLink.tooltip("disable"),this.$deleteTicket.tooltip("disable"))},handleVisibilityChange:function(){this.model.get("hidden")?(this.$visibilityIcon.removeClass("is-hidden"),this.$nameInput.parent().addClass("form-input-with-icon")):(this.$visibilityIcon.addClass("is-hidden"),this.$nameInput.parent().removeClass("form-input-with-icon"))},handleSeriesTypeChange:function(){this.template=d.templates[this.getTemplateName()],this.render()},formatTicketOrder:function(a){return a+1},formatEventSelection:function(a){var b=a.length,d=c.CreatePage.getSeriesCollection(),e=b;return 0==b?e=gettext("None"):b==d.length&&(e=gettext("All")),e},formatJson:function(a){return JSON.stringify(a)},getTemplateName:function(){var a=this.model.get("eventModel"),b;return b=a.get("inventory_type")&&!this.model.get("deleted")?"ticket_row_reserved":a.get("is_series")&&a.get("allow_ticket_event_map")?"ticket_row_series":"ticket_row"},toggleErrorNotification:function(a,b,c){var d=!!this.model.get("deleteError"),e="";this.$quantityInput.toggleClass("has-form-input-error",d),this.$nameInput.toggleClass("has-form-input-error",d),d&&(e=gettext("Start time of a different ticket depends on this ticket.")),this.$nameErrorText.html(e).toggleClass("is-hidden",!d)},handleDeleteCloseNotification:function(){this.model.set("deleteError",!1)},showChangePriceTip:function(){this.model.get("hasAttendees")&&this.model.get("eventModel").get("hasSeenChangePriceTips")!==!0&&!this.model.get("priceChangeDisabled")&&(this.$changePriceTips.show(),this.model.get("eventModel").set("hasSeenChangePriceTips",!0))}}).mixin(c.Backbone.Mixins.withTemplate).mixin(c.Backbone.Mixins.withStickit).mixin(c.Backbone.Mixins.withInputValidation)}(window.jQuery,window._,window.EB,window.Handlebars),function(a,b,c,d,e){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketPaidView=c.Backbone.View.extend({tagName:"div",config:{delayHideLoader:500},bindings:{".js-ticket-buyer-total-number":{observe:["formattedTotal","formattedCost","available_online","available_atd"],onGet:"updateBuyerTotal"},".js-ticket-buyer-total":{observe:["available_online","available_atd"],visible:function(a){return b.any(a)?!0:void 0},updateView:!1},".js-price-input":"ticketPrice",".js-ticket-fee-hidden":{observe:"fee"},".js-ticket-fee-summary-link":{observe:["available_online","available_atd"],visible:!0,updateView:!1}},events:{"click .js-ticket-fee-summary-link":"handleClickFeeSummary","click .js-ticket-buyer-total":"handleClickBuyerTotal","keyup .js-price-input":"handleInputCurrency"},initialize:function(){b.bindAll(this,"getFeeSummaryTemplate","handleFeesUpdated","handlePriceChange","handleInputCurrency","handleClickBuyerTotal","handleTaxUpdated","initializeTooltips","displayPaidTooltip","render"),this.listenTo(this.model,"change:currencySymbol",this.render),this.listenTo(this.model,"eventAssortmentHasChange",this.showTicketBuyerLoaderAndRecalculateFee.bind(this)),require(["backbone_wreqr"],function(a){var b=a.radio.channel("feature-prompt");this.listenTo(b.vent,"userUpgraded",this.handleUserUpgraded.bind(this))}.bind(this))},render:function(){return this.$settingsLink=this.$(".js-ticket-settings-link"),this.$priceField=this.$(".js-price-input"),this.initializeTicketCostField(),this.$ticketBuyerTotal=this.$(".js-ticket-buyer-total"),this.$feeSummaryLink=this.$(".js-ticket-fee-summary-link"),this.$ticketBuyerTotalLoader=this.$(".js-ticket-buyer-total-loader"),this.$ticketBuyerTotalContent=this.$(".js-ticket-buyer-total-content"),this.initializeTooltips(),this.handlePriceChange(),this.handleFeesUpdated(),this.currencyModel=this.model.currencyModel,this.listenTo(this.model.collection,"sort",this.displayPaidTooltip),this.model.on("change:ticketPrice",this.handlePriceChange),this.model.on("feesUpdated",this.handleFeesUpdated),this.model.on("taxUpdated",this.handleTaxUpdated),(this.model.get("priceChangeDisabled")||this.model.get("disableCost"))&&this.$priceField.prop("disabled","true"),this},getContextData:function(){return{index:this.model.get("index"),currencySymbol:this.model.get("currencySymbol"),currencySuffix:c.Intl.getCurrencyFormat().isSymbolSuffix,currencyLong:this.model.get("currencySymbol").length>1,numTicket:this.model.get("numTicket"),costErrors:this.model.get("costErrors"),disableCost:this.model.get("disableCost"),ticketCostPlaceholder:c.Intl.formatNumber(15)}},initializeTooltips:function(){this.$feeSummaryLink.tooltip({title:this.getFeeSummaryTemplate,html:!0}),this.$priceField.tooltip({trigger:"focus"}),this.displayPaidTooltip()},displayPaidTooltip:function(){var a;this.model.collection&&(a=this.model.collection.findWhere({paymentType:"paid"})),this.model===a?this.$priceField.tooltip("enable"):this.$priceField.tooltip("disable")},initializeTicketCostField:function(){this.model.get("ticketPrice")&&this.$priceField.val(this.model.get("ticketPrice"))},handleClickFeeSummary:function(a){a.preventDefault()},handleUserUpgraded:function(){c.Models.TicketModel.EVENT_ASSORTMENT_HAS_CHANGED=!0,this.showTicketBuyerLoaderAndRecalculateFee()},showTicketBuyerLoaderAndRecalculateFee:function(){this.showTicketBuyerLoader(),b.delay(this.recalculateFee.bind(this),this._getDelayForRecalculateFee())},_getDelayForRecalculateFee:function(){var a=60-(new Date).getSeconds()+1;return 1e3*a},recalculateFee:function(){c.Models.TicketModel.EVENT_ASSORTMENT_HAS_CHANGED=!1,this.model.trigger("change:ticketPrice",this.model),b.delay(this.hideTicketBuyerLoader.bind(this),this.config.delayHideLoader)},showTicketBuyerLoader:function(){this.$ticketBuyerTotalLoader.removeClass("is-hidden"),this.$ticketBuyerTotalContent.addClass("is-hidden")},hideTicketBuyerLoader:function(){this.$ticketBuyerTotalLoader.addClass("is-hidden"),this.$ticketBuyerTotalContent.removeClass("is-hidden")},localizeCappedFeeMessageText:function(a,b){return e("Tickets %(threshold)s and under have a fee of only %(rate)s",{threshold:a,rate:b})},getFeeSummaryTemplate:function(){var a=this.model.get("ticketPrice")||"0",b=c.Intl.formatMoney(a.replace(",","."),{symbol:this.model.get("currencySymbol")}),e;e=this.model.isSalesChannel(this.model.config.salesChannelAtd)?{ticketPrice:b,hasTaxes:this.model.isTaxApplied(),hasTaxOnFees:this.model.isTaxOnFeesApplied(),tax:this.model.get("formattedTax"),taxPassed:this.model.get("formattedTaxPassed"),taxAbsorbed:this.model.get("formattedTaxAbsorbed"),hasToDisplaySplitTax:this.model.get("splitTax"),fee:this.model.get("formattedATDFee"),buyerTotal:this.model.get("formattedATDTotal"),ebTax:this.model.get("formattedEbTax"),ebTaxName:this.model.get("ebTaxName"),hasToDisplayAtdDisclaimer:this.model.isFeePassed(),isPassOnATDCurrency:this.model.isPassOnATDFeeAvailableInPayoutCurrency()}:{ticketPrice:b,hasTaxes:this.model.isTaxApplied(),hasTaxOnFees:this.model.isTaxOnFeesApplied(),tax:this.model.get("formattedTax"),taxPassed:this.model.get("formattedTaxPassed"),taxAbsorbed:this.model.get("formattedTaxAbsorbed"),hasToDisplaySplitTax:this.model.get("splitTax"),fee:this.model.get("formattedFee"),buyerTotal:this.model.get("formattedTotal"),ebTax:this.model.get("formattedEbTax"),ebTaxName:this.model.get("ebTaxName")};var f=c.CreatePage.currencyCode,g=c.Intl.minorToMajor(c.Intl.unformat(a),f),h=1400>=g,i=c.featureFlags&&c.featureFlags.cappedFeeExperimentFeatureFlag&&c.CreatePage.cappedFeeRules,j=h&&i;if(this.showCappedFeeRules=j,j){var k=c.Intl.formatMajorMoney(c.CreatePage.cappedFeeRules.cappedFeeThreshold,f),l=c.Intl.formatMajorMoney(c.CreatePage.cappedFeeRules.cappedFeeRate,f),m=this.localizeCappedFeeMessageText(k,l);e.cappedFeeHelperText=m}return d.templates.ticket_cost_summary(e)},handleInputCurrency:function(){var a=this.$priceField.val(),b=window.EB.Intl.getThousandsSeparator(),c=a.replace(b,"");a!==c&&this.$priceField.val(c)},handlePriceChange:function(){var a=this.model.get("ticketPrice");a&&a.replace(",",".")>0?(this.$ticketBuyerTotal.removeClass("is-hidden"),this.$feeSummaryLink.removeClass("is-hidden")):(this.$ticketBuyerTotal.addClass("is-hidden"),this.$feeSummaryLink.addClass("is-hidden"))},handleFeesUpdated:function(){this.updateFeesTooltip(),this.$(".js-price-input").trigger("change")},handleTaxUpdated:function(){this.updateFeesTooltip()},updateFeesTooltip:function(){this.$feeSummaryLink.data("tooltip").options.title=this.getFeeSummaryTemplate()},handleClickBuyerTotal:function(a){a.preventDefault(),this.showCappedFeeRules?window.open("/support/articleredirect?anum=41520","_blank"):Backbone.trigger("ticket-settings-open-"+this.model.cid,".js-ticket-fees")},updateBuyerTotal:function(){var a;return this.model.get("available_online")?a=this.model.get("formattedTotal"):this.model.get("available_atd")&&(a=this.model.get("formattedATDTotal")),a}}).mixin(c.Backbone.Mixins.withTemplate,{templateName:"ticket_cost_paid"}).mixin(c.Backbone.Mixins.withStickit).mixin(c.Backbone.Mixins.withInputValidation)}(window.jQuery,window._,window.EB,window.Handlebars,window.gettext),function(a,b,c,d){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketSettingsView=c.Backbone.View.extend({className:"ticket-settings settings",bindings:{".js-ticket-name":{observe:"name",onGet:"handleFormatName"},".js-ticket-description":{observe:"description"},".js-show-ticket-description":{observe:"show_description"},".js-order-minimum":"order_min",".js-order-maximum":"order_limit",".js-show-ticket-description-hidden":{observe:"show_description",onGet:"invertShowLogicForHiddenField"},".js-ticket-fees":{observe:["ticketPrice","available_online","available_atd","sales_channel_option"],updateView:!1,visible:"handleShowFeesByPaymentType"},".js-ticket-sales-channel":{observe:"canBeATD",visible:!0,updateView:!1},".js-ticket-sales-channel-available_online":"available_online",".js-ticket-sales-channel-available_atd":"available_atd",".js-ticket-sales-channel-option":{observe:"sales_channel_option"}},config:{translation:{online:gettext("Online only"),atd:gettext("At the door only"),everywhere:gettext("Everywhere"),not_on_sale:gettext("Not on sale")}},initialize:function(){b.bindAll(this,"handleATDChange","handleShowFeesByPaymentType","handleValidationFailure","handleFormatName","render","deferredRender"),this.isSalesChannelDropdownEnabled()||this.listenTo(this.model,"change:available_atd",this.handleATDChange),this.deferredRender=b.once(this.deferredRender),this.on("validationFail",this.handleValidationFailure),this.bindValidationToEvent(this.model,"change:order_min","order_limit")},render:function(){this.$minMaxSection=this.$(".js-min-max-tickets"),"donation"===this.model.get("paymentType")&&this.$minMaxSection.hide(),this.ticketFeesView=new c.CreatePage.TicketFeesView({model:this.model}),this.ticketStartEndSalesView=new c.CreatePage.TicketStartEndSalesView({model:this.model}),this.ticketVisibilityView=new c.CreatePage.TicketVisibilityView({model:this.model}),new c.UIComponents.SelectBox({element:this.$("#id_group-tickets-"+this.model.get("id")+"-include_ticket_fees_"),parentClass:"responsive-form__select"}),this.isSalesChannelDropdownEnabled()||this.handleATDChange(),this.$(".js-ticket-fees").append(this.ticketFeesView.render().el),this.$(".js-ticket-sales").append(this.ticketStartEndSalesView.render().el),this.$(".js-ticket-visibility").append(this.ticketVisibilityView.render().el),this.isSalesChannelDropdownEnabled()&&"not_on_sale"===this.model.get("sales_channel_option")&&this.appendSalesChannelOption(this.model.get("sales_channel_option")),require(["mediatorjs","dorsal","eb-styleguide/js/ui_components/loader/loader"],function(b,c,d){var e=new a.Deferred,f=this.model.getCid(),g=".js-group-tickets-loader-"+f,h=b.get("ticketGroupOptions")||{};d.createSectionLoader(g,e),require(["require/components/ticket_group/component_async"],function(a){var b;h.isTicketGroupEnabled&&(b=new a({cid:f,ticketGroupOptions:h,ticketId:this.model.id}).show()),e.resolve()}.bind(this)),c.wire(this.$(".js-sales-channel-help-tooltip")),this.isSalesChannelDropdownEnabled()&&c.wire(this.$(".js-ticket-sales-channel-option"))}.bind(this))},deferredRender:function(){return this.ticketStartEndSalesView.deferredRender(),this.ticketVisibilityView.deferredRender(),this},handleATDChange:function(){this.model.collection.hasATDTicket()?this.model.eventModel.set("is_atd",!0):this.model.eventModel.set("is_atd",!1)},handleShowFeesByPaymentType:function(a,c){var d=a.slice(1),e=this.model.get("paymentType");return b.any(d)?"paid"===e||"donation"===e:!1},handleValidationFailure:function(){this.ticketStartEndSalesView.validateView()},handleFormatName:function(a){return a?gettext("Settings for ")+a:gettext("Settings")},beforeShow:function(){this.deferredRender()},invertShowLogicForHiddenField:function(a){return!a},getContextData:function(){return{numTicket:this.model.get("numTicket"),cid:this.model.getCid(),isSalesChannelDropdownEnabled:this.isSalesChannelDropdownEnabled()}},appendSalesChannelOption:function(a){this.$(".js-ticket-sales-channel-option").append('<option value="'+a+'">'+this.config.translation[a]+"</option>")},isSalesChannelDropdownEnabled:function(){return c.CreatePage.featureFlags?c.CreatePage.featureFlags.isSalesChannelDropdownEnabled:!1}}).mixin(c.Backbone.Mixins.withTemplate,{templateName:"ticket_settings"}).mixin(c.CreatePage.Mixins.animatedView).mixin(c.Backbone.Mixins.withStickit).mixin(c.Backbone.Mixins.withInputValidation)}(window.jQuery,window._,window.EB,window.Handlebars),function(a,b,c,d){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketFeesView=c.Backbone.View.extend({tagName:"div",bindings:{".js-ticket-absorb-fees":{observe:"feeAbsorb"},".js-ticket-online-fee-amount":"formattedFee",".js-ticket-online-total":"formattedTotal",".js-ticket-atd-fee-amount":"formattedATDFee",".js-ticket-atd-total":"formattedATDTotal"},initialize:function(){b.bindAll(this,"render","handleATDChange","handleFeeAbsorbChange","salesChannelChange","toggleFeeOptions"),this.listenTo(this.model,"change:available_atd",this.handleATDChange),this.listenTo(this.model,"change:feeAbsorb",this.handleFeeAbsorbChange),this.listenTo(this.model.currencyModel,"change:currency",this.handleFeeAbsorbChange),this.listenTo(this.model,"change:sales_channel_option available-channel-changed",this.salesChannelChange)},render:function(){this.$helpTextContainer=this.$(".form__group--help-text-container"),this.$helpTextPass=this.$(".js-fee-help-pass"),this.$helpTextAbsorb=this.$(".js-fee-help-absorb"),this.$helpTextPassCCP=this.$(".js-fee-help-pass-ccp"),this.$helpTextAbsorbCCP=this.$(".js-fee-help-absorb-ccp"),this.$helpTextSplitCCP=this.$(".js-fee-help-split-ccp"),this.$ticketFeeInput=new c.UIComponents.SelectBox({element:this.$(".js-ticket-absorb-fees"),parentClass:"responsive-form__select"}),this.$ticketFeeInput.val(this.model.get("feeAbsorb")),this.$helpATDIcon=this.$(".js-sales-channel-help-tooltip"),this.handleATDChange(),this.handleFeeAbsorbChange(),"donation"===this.model.get("paymentType")&&this.$(".js-ticket-fees").detach(),this.$atdFeeBreakdown=this.$(".js-ticket-show-atd-fee-breakdown"),this.$onlineFeeBreakdown=this.$(".js-ticket-show-online-fee-breakdown"),this.salesChannelChange(),this.toggleFeeOptions()},toggleFeeOptions:function(){this.model.isFeeOptionAvailable()?this.$(".js-ticket-fee-options").show():this.$(".js-ticket-fee-options").hide()},salesChannelDisplayFeeDescriptions:function(a,b){a?this.$onlineFeeBreakdown.prop("style","display:block"):this.$onlineFeeBreakdown.prop("style","display:none"),b&&this.model.get("available_atd")?this.$atdFeeBreakdown.prop("style","display:block"):this.$atdFeeBreakdown.prop("style","display:none")},salesChannelChange:function(){this.model.isSalesChannel(this.model.config.salesChannelEverywhere)?this.salesChannelDisplayFeeDescriptions(!0,!0):this.model.isSalesChannel(this.model.config.salesChannelOnline)?this.salesChannelDisplayFeeDescriptions(!0,!1):this.salesChannelDisplayFeeDescriptions(!1,!0),this.toggleFeeOptions()},getContextData:function(){return{numTicket:this.model.get("numTicket"),helpDocs:c.App.reqres.request("helpDocs"),canPassATDFee:this.model.taxModel.get("canPassATDFee"),isFeePassedOption:this.model.isFeePassed(),passATDFeeDate:this.model.get("passATDFeeDate"),isPassOnATDCurrency:this.model.isPassOnATDFeeAvailableInPayoutCurrency(),activePassOnATD:c.CreatePage.featureFlags&&c.CreatePage.featureFlags.activePassOnATD}},handleATDChange:function(){this.renderTicketFeeInput()},renderTicketFeeInput:function(){!this.model.eventModel.isPossiblyCCP()||c.CreatePage.featureFlags&&c.CreatePage.featureFlags.disallowSplitFees?this.$ticketFeeOptionSplit=this.$ticketFeeInput.$el.find('option[value="2"]').detach():this.$ticketFeeInput.$el.append(this.$ticketFeeOptionSplit)},handleFeeAbsorbChange:function(){var a=this.model.eventModel.isPossiblyCCP();switch(this.$helpTextContainer.find("span").addClass("is-hidden"),this.model.get("feeAbsorb")){case"0":a?this.$helpTextPassCCP.removeClass("is-hidden"):this.$helpTextPass.removeClass("is-hidden"),this.$helpATDIcon.show();break;case"1":a?this.$helpTextAbsorbCCP.removeClass("is-hidden"):this.$helpTextAbsorb.removeClass("is-hidden"),this.$helpATDIcon.hide();break;case"2":this.$helpTextSplitCCP.removeClass("is-hidden"),this.$helpATDIcon.show()}}}).mixin(c.Backbone.Mixins.withTemplate,{templateName:"ticket_fees"}).mixin(c.Backbone.Mixins.withStickit)}(window.jQuery,window._,window.EB,window.Handlebars),function(a,b,c,d){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketStartEndSalesView=c.Backbone.View.extend({className:"g-group",bindings:{".js-sales-start-time-picker":{observe:"salesStartDate"},".js-sales-end-time-picker":{observe:"salesEndDate",update:function(a,b){a.val(b).trigger("change")}},".js-end-sales-relative-type":{observe:"endSalesRelativeType"},".js-end-sales-relative-to":{observe:"endSalesRelativeTo"},".js-end-sales-relative-time":{observe:"endSalesRelativeTime"},".js-start-sales-after-hidden":{observe:"startSalesAfterTicket"}},events:{".js-ticket-sales-start-by-date":"handleTicketSalesStartByDate","keyup .js-end-sales-relative-time":"handleRelativeTimeInputChange"},initialize:function(){b.bindAll(this,"render","deferredRender","renderCalendars","renderSalesEndByTicket","renderTicketChoice","handleEventRepeatingChange","handleTicketSalesStartByDate","handleTicketSalesStartDropdownChange","handleOtherTicketEndTimeChange","handleTicketCollectionChanged","handleSalesStartShow","handleSalesStartHide","handleTicketDeletedChange","handleSalesEndChange","handleRelativeTimeInputChange"),this.deferredRender=b.once(this.deferredRender),this.bindValidationToEvent(this.model,"change:salesStartDate","salesEndDate"),this.bindValidationToEvent(this.model,"change:salesStartDate","salesStartDate"),this.bindValidationToEvent(this.model,"change:salesEndDate","salesEndDate"),this.bindValidationToEvent(this.model.eventModel,"change:is_repeating","salesEndDate"),this.bindValidationToEvent(this.model,"change:endSalesRelativeTime","endSalesRelativeTime")},getContextData:function(){return{numTicket:this.model.get("numTicket"),startSalesAfterTicket:this.model.get("startSalesAfterTicket"),initialEndDate:this.model.get("salesEndDate")}},render:function(){this.$ticketSalesByTicketLink=this.$(".js-ticket-sales-end-link"),this.$ticketSalesTicketDropdown=this.$(".js-sales-ticket-choices"),this.$relativeEndSales=this.$(".js-end-sales-relative-type"),this.$endSalesRelativeTo=this.$(".js-end-sales-relative-to"),this.$relativeEndSalesTime=this.$(".js-end-sales-relative-time"),this.$startSalesHiddenInput=this.$(".js-sales-start-time-picker"),this.$endSalesHiddenInput=this.$(".js-sales-end-time-picker"),this.model.eventModel.on("change:is_repeating",this.handleEventRepeatingChange),this.model.eventModel.on("change:is_series",this.handleEventRepeatingChange),this.handleEventRepeatingChange()},deferredRender:function(){return this.ticketSalesTicketSelectBox=new c.UIComponents.SelectBox({element:this.$ticketSalesTicketDropdown,parentClass:"responsive-form__select"}),this.relativeEndSales=new c.UIComponents.SelectBox({element:this.$relativeEndSales,parentClass:"responsive-form__select"}),this.endSalesRelativeTo=new c.UIComponents.SelectBox({element:this.$endSalesRelativeTo,parentClass:"responsive-form__select"}),this.salesStartContainer=new c.UIComponents.ToggleContainerVisibility({el:this.$(".js-ticket-sales-start"),triggers:this.$(".js-visibility-trigger"),containers:this.$(".js-visibility-container"),animation:!0}),this.salesStartContainer.on("shown",this.handleSalesStartShow),this.salesStartContainer.on("hidden",this.handleSalesStartHide),this.renderCalendars(),this.renderSalesEndByTicket(),this.updateTicketSalesByTicketLink(),this.handleEventRepeatingChange(),this.model.eventModel.get("is_series")&&(this.relativeEndSales.updateText(),this.endSalesRelativeTo.updateText()),this.listenTo(this.model.collection,"add remove reset change:name change:formattedCost",this.handleTicketCollectionChanged),this.listenTo(this.model,"change:deleted",this.handleTicketDeletedChange),this.$ticketSalesTicketDropdown.on("change",this.handleTicketSalesStartDropdownChange),this.model.get("readonly")&&this.disableInputs(),this},renderSalesEndByTicket:function(){this.$ticketSalesTicketDropdown.html(""),this.model.collection.each(this.renderTicketChoice),this.model.get("startSalesAfterTicket")&&(this.salesStartContainer.toggleContainers(),this.$ticketSalesTicketDropdown.val(this.model.get("startSalesAfterTicket")),this.handleTicketSalesStartDropdownChange()),this.$ticketSalesTicketDropdown.trigger("change")},renderTicketChoice:function(a){var b,c;a!==this.model&&("paid"===a.paymentType&&(b=a.get("formattedTotal")),c=d.templates.ticket_sales_select_option({cid:a.id||"-"+a.cid.slice(1),name:a.get("name")+" ("+a.get("formattedCost")+")",cost:b}),this.$ticketSalesTicketDropdown.append(c),this.ticketSalesTicketSelectBox.updateText())},renderCalendars:function(){this.datePickerPair=new c.UIComponents.DateTimePickerPair({tabindex:80,startDateTimeInput:this.$startSalesHiddenInput,endDateTimeInput:this.$endSalesHiddenInput,show24Hours:!c.Intl.getUsesAMPM()}),this.datePickerPair.endDatepicker.on("change",this.handleSalesEndChange);
},updateTicketSalesByTicketLink:function(){this.model.collection.length>1?this.$ticketSalesByTicketLink.removeClass("is-hidden"):this.$ticketSalesByTicketLink.addClass("is-hidden")},handleSalesEndChange:function(){this.model.set("endSalesRelativeType",""),this.model.set("endSalesRelativeTo",""),this.model.set("endSalesRelativeTime",""),this.$(".js-end-sales-relative-time").val("")},showEndSalesRelative:function(){this.$(".js-ticket-sales-start-group").removeClass("is-hidden"),this.$(".js-end-sales-explicit").removeClass("is-hidden"),this.$(".js-end-sales-relative").addClass("is-hidden"),this.handleSalesEndChange()},hideEndSalesRelative:function(){this.$(".js-ticket-sales-start-group").addClass("is-hidden"),this.$(".js-end-sales-explicit").addClass("is-hidden"),this.$(".js-end-sales-relative").removeClass("is-hidden"),""===this.model.get("endSalesRelativeTime")&&this.model.set({endSalesRelativeTime:"1",endSalesRelativeType:"hours",endSalesRelativeTo:"start_time"}),this.$relativeEndSalesTime.val(c.Intl.formatNumber(this.model.get("endSalesRelativeTime"),{precision:2})),this.$(".js-end-sales-relative-type").val(this.model.get("endSalesRelativeType")),this.$(".js-end-sales-relative-to").val(this.model.get("endSalesRelativeTo"))},handleEventRepeatingChange:function(){this.model.eventModel.get("is_repeating")||this.model.eventModel.get("is_series")?(this.hideEndSalesRelative(),this.model.get("startSalesAfterTicket")&&this.model.set("startSalesAfterTicket","")):this.showEndSalesRelative()},handleOtherTicketEndTimeChange:function(a){var b=a.get("salesEndDate");this.model.set("salesStartDate",b),this.$startSalesHiddenInput.val(b).trigger("change")},handleTicketSalesStartDropdownChange:function(){var a=this.$ticketSalesTicketDropdown.val(),b=this.model.collection.get(this.model.get("startSalesAfterTicket")),c,d;d=0===a.indexOf("-")?"c"+a.slice(1):a,c=this.model.collection.get(d),b&&b.off("change:salesEndDate",this.handleOtherTicketEndTimeChange),a&&(this.handleOtherTicketEndTimeChange(c),c.on("change:salesEndDate",this.handleOtherTicketEndTimeChange)),this.model.set("startSalesAfterTicket",a)},handleTicketSalesStartByDate:function(){this.$ticketSalesTicketDropdown.val("")},handleTicketCollectionChanged:function(){var a=this.$ticketSalesTicketDropdown.val();this.updateTicketSalesByTicketLink(),this.$ticketSalesTicketDropdown.html(""),this.model.collection.each(this.renderTicketChoice),this.model.get("startSalesAfterTicket")&&(this.model.collection.containsTicketWithId(a)?this.$ticketSalesTicketDropdown.val(a):this.salesStartContainer.toggleContainers(),this.$ticketSalesTicketDropdown.trigger("change"))},handleSalesStartShow:function(a){a.hasClass("js-ticket-sales-end-select")&&this.handleTicketSalesStartDropdownChange()},handleSalesStartHide:function(a){a.hasClass("js-ticket-sales-end-select")&&this.model.set("startSalesAfterTicket","")},handleTicketDeletedChange:function(){this.stopListening(this.model.collection)},handleRelativeTimeInputChange:function(){var a=this.$relativeEndSalesTime.val(),b=window.EB.Intl.getThousandsSeparator(),c=a.replace(b,"");a!==c&&this.$relativeEndSalesTime.val(c)}}).mixin(c.Backbone.Mixins.withTemplate,{templateName:"ticket_start_end_sales"}).mixin(c.Backbone.Mixins.withStickit).mixin(c.CreatePage.Mixins.stickitIEHack).mixin(c.Backbone.Mixins.withInputValidation).mixin(c.Backbone.Mixins.disabledInputs)}(window.jQuery,window._,window.EB,window.Handlebars),function(a,b,c,d){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketVisibilityView=c.Backbone.View.extend({events:{"click .js-add-auto-hide-schedule":"handleAutoHideScheduleClick","change .js-auto-hide-on-sale":"handleAutoHideOnSaleClick"},bindings:{".js-ticket-hidden":"hidden",".js-hide-until":"hide_until",".js-hide-after":"hide_after",".js-auto-hide-schedule":{observe:"auto_hide"},".js-auto-hide-until":{observe:"auto_hide_until",onSet:"updateAutoHideUntil",onGet:"updateAutoHideUntil"},".js-auto-hide-after":{observe:"auto_hide_after",onSet:"updateAutoHideAfter",onGet:"updateAutoHideAfter"}},initialize:function(){b.bindAll(this,"deferredRender","handleAutoHideScheduleClick","handleAutoHideOnSaleClick","handleEventIsRepeatingChange","handleSalesDateChange","handleHideDateChange","displayAutoHideSchedule"),this.deferredRender=b.once(this.deferredRender),this.model.eventModel.on("change:is_repeating",this.handleEventIsRepeatingChange),this.model.eventModel.on("change:is_series",this.handleEventIsRepeatingChange),this.model.on("change:salesStartDate change:salesEndDate",this.handleSalesDateChange),this.model.on("change:auto_hide_until change:auto_hide_after change:hide_until change:hide_after",this.handleHideDateChange)},render:function(){this.$ticketHiddenCheckbox=this.$(".js-ticket-hidden"),this.$autoHideSettings=this.$(".js-auto-hide-settings"),this.$autoHideSettingsLink=this.$(".js-auto-hide-schedule-label"),this.$autoHideContainer=this.$(".js-auto-hide"),this.$autoHideOnSaleRadio=this.$(".js-auto-hide-on-sale"),this.$autoHideCustomRadio=this.$(".js-auto-hide-custom"),this.$autoHideUntilCheckbox=this.$(".js-auto-hide-until"),this.$autoHideAfterCheckbox=this.$(".js-auto-hide-after"),this.$hideUntilInput=this.$(".js-hide-until"),this.$hideAfterInput=this.$(".js-hide-after"),this.handleEventIsRepeatingChange(),this.initializeAutoHideSchedule()},deferredRender:function(){return new c.UIComponents.DateTimePickerPair({tabindex:80,startDateTimeInput:this.$hideUntilInput,endDateTimeInput:this.$hideAfterInput,show24Hours:!c.Intl.getUsesAMPM()}),this.model.get("readonly")&&this.disableInputs(),this},initializeAutoHideSchedule:function(){new c.UIComponents.ShowOnSelect({el:this.$el,selector:this.$autoHideCustomRadio,radioGroup:this.$autoHideSettings,showContainer:this.$(".js-auto-hide-custom-settings")}),(this.model.get("auto_hide_until")||this.model.get("auto_hide_after"))&&this.$autoHideCustomRadio.prop("checked",!0).trigger("change"),this.displayAutoHideSchedule()},handleAutoHideScheduleClick:function(){this.model.set("auto_hide",!this.model.get("auto_hide")),this.displayAutoHideSchedule()},displayAutoHideSchedule:function(){this.model.get("auto_hide")?(this.$ticketHiddenCheckbox.prop("disabled",!0),this.$autoHideSettings.removeClass("is-hidden"),this.$autoHideSettingsLink.html(gettext("Remove ticket auto-hide schedule")),this.updateAutoHideState()):(this.$ticketHiddenCheckbox.prop("disabled",!1),this.$autoHideSettings.addClass("is-hidden"),this.$autoHideSettingsLink.html(gettext("Add ticket auto-hide schedule")),this.$autoHideUntilCheckbox.prop("checked",!1),this.$autoHideAfterCheckbox.prop("checked",!1))},handleAutoHideOnSaleClick:function(){this.$autoHideOnSaleRadio.is(":checked")&&(this.$autoHideUntilCheckbox.prop("checked",!1),this.$autoHideAfterCheckbox.prop("checked",!1))},handleEventIsRepeatingChange:function(){this.model.eventModel.get("is_repeating")||this.model.eventModel.get("is_series")?(this.model.set("auto_hide",!1),this.displayAutoHideSchedule(),this.$autoHideContainer.addClass("is-hidden")):this.$autoHideContainer.removeClass("is-hidden")},handleSalesDateChange:function(){this.updateAutoHideState()},handleHideDateChange:function(){this.updateAutoHideState()},updateAutoHideUntil:function(a){return a?this.$hideUntilInput.removeAttr("disabled"):this.$hideUntilInput.attr("disabled","disabled"),a},updateAutoHideAfter:function(a){return a?this.$hideAfterInput.removeAttr("disabled"):this.$hideAfterInput.attr("disabled","disabled"),a},updateAutoHideState:function(){if(this.model.get("auto_hide")){var a=this.isTicketCurrentlyHidden();this.$ticketHiddenCheckbox.prop("checked",a),this.model.set("hidden",a)}},isTicketCurrentlyHidden:function(){return this.model.get("auto_hide_until")&&this.model.get("auto_hide_after")?this.model.get("sqlNow")>this.model.get("hide_after")||this.model.get("sqlNow")<this.model.get("hide_until"):this.model.get("auto_hide_until")?this.model.get("sqlNow")<this.model.get("hide_until"):this.model.get("auto_hide_after")?this.model.get("sqlNow")>this.model.get("hide_after"):this.model.get("sqlNow")<this.model.get("salesStartDate")||this.model.get("sqlNow")>this.model.get("salesEndDate")}}).mixin(c.Backbone.Mixins.withTemplate,{templateName:"ticket_visibility"}).mixin(c.CreatePage.Mixins.animatedView).mixin(c.Backbone.Mixins.withStickit).mixin(c.Backbone.Mixins.disabledInputs)}(window.jQuery,window._,window.EB,window.Handlebars),// Ticket Summary View contains the entire create ticket flow.
// It is a combo ticket collection view and ticket router
function(a,b,c,d,e){"use strict";c.namespace("CreatePage"),c.CreatePage.EventCapacityView=c.Backbone.View.extend({bindings:{"#id_group-details-capacity":"capacity",".js-event-capacity-input":{observe:"capacity",updateView:!1,onSet:"onSet"}},initialize:function(){b.bindAll(this,"updateQuantity","handleTicketAdded","handleTicketDeleted","handleCapacityBlur","focusCapacityInput"),this.listenTo(this.options.ticketCollection,"add",this.handleTicketAdded),this.listenTo(this.options.ticketCollection,"remove",this.handleTicketDeleted),this.listenTo(this.options.ticketCollection,"change:quantity",this.updateQuantity),this.listenTo(this.model,"change:capacity",this.updateQuantity)},render:function(){this.$totalCapacityContainer=this.$(".js-event-capacity-input"),this.$capacityLink=this.$(".js-edit-capacity"),this.$(".js-event-capacity-display").tooltip({title:gettext("You can set a limit on the total number of tickets sold for your event, regardless of the ticket type")}),(this.options.ticketCollection.length>1||"0"!==this.model.get("capacity"))&&this.$el.removeClass("is-hidden"),this.$capacitySummaryToggle=new c.UIComponents.ToggleContainerVisibility({el:this.$el,containers:this.$el,animation:!1}),this.$capacityEditContainerToggle=new c.UIComponents.ToggleContainerVisibility({el:this.$el,triggers:this.$capacityLink,containers:this.$totalCapacityContainer.add(this.$capacityLink),animation:!1}),this.$totalCapacityContainer.on("blur",this.handleCapacityBlur),this.$capacityLink.on("click",this.focusCapacityInput),this.updateQuantity(),this.options.readonly&&(this.disableInputs(),this.$("#id_group-details-capacity").prop("disabled",!1)),this.showServerErrors()},handleTicketAdded:function(){this.options.ticketCollection.length>1&&this.$capacitySummaryToggle.$el.hasClass("is-hidden")&&this.$capacitySummaryToggle.toggleContainers()},handleTicketDeleted:function(){1===this.options.ticketCollection.length&&"0"===this.model.get("capacity")&&this.$capacitySummaryToggle.toggleContainers()},handleCapacityBlur:function(){this.model.get("capacity")<1&&this.model.set("capacity",0),this.$capacityEditContainerToggle.toggleContainers()},showServerErrors:function(){var a=this.$(".js-error-for-capacity");this.options.capacityErrors&&(a.html(this.options.capacityErrors),a.removeClass("is-hidden"))},updateQuantity:function(){var a=this.model.get("capacity");0!==parseInt(a,10)&&typeof a!==e||(a=this.options.ticketCollection.sumQuantity()),this.$totalCapacityContainer.val(a),this.$capacityLink.text(a)},focusCapacityInput:function(){this.$totalCapacityContainer.focus()}}).mixin(c.Backbone.Mixins.withStickit).mixin(c.Backbone.Mixins.withTemplate,{templateName:"event_capacity"}).mixin(c.Backbone.Mixins.disabledInputs).mixin(c.Backbone.Mixins.withInputValidation)}(window.jQuery,window._,window.EB,window),function(a,b){"use strict";a.namespace("CreatePage"),a.CreatePage.ReservedSeatingComponentFactory=a.ComponentFactory.extend({requests:{event:function(){return this.eventModel},tickets:function(){return this.ticketCollection},eventForm:function(){return $("#event_form")},"location:longitude":function(){return $('[name="group-location-longitude"]').val()},"location:latitude":function(){return $('[name="group-location-latitude"]').val()},seatmapThumbnail:function(){return $(".seatmap-image")},"seatmapThumbnail:img":function(){return $(".seatmap-image__thumbnail")},seatmapThumbnailPlaceholder:function(){return $(".seatmap-image__thumbnail-placeholder")}},commands:{"ui:loading:start":function(){$(this.contentRegion.el).addClass("seatmap-image--loading")},"ui:loading:stop":function(){$(this.contentRegion.el).removeClass("seatmap-image--loading")},"navigate:new":function(){this.controller&&this.controller.close(),1===parseInt(this.eventModel.get("inventory_type"),10)&&(this.controller=new a.CreatePage.ReservedSeating.NewController({sandbox:this.sandbox,region:this.contentRegion}))},"navigate:featurePrompt":function(){this.controller&&this.controller.close(),1===parseInt(this.eventModel.get("inventory_type"))&&(this.controller=new a.CreatePage.ReservedSeating.FeaturePromptController({sandbox:this.sandbox,region:this.contentRegion}))},"navigate:close":function(){this.controller&&this.controller.close()},"navigate:show":function(b){this.controller&&this.controller.close(),1===parseInt(this.eventModel.get("inventory_type"),10)&&(this.controller=new a.CreatePage.ReservedSeating.ShowController({sandbox:this.sandbox,region:this.contentRegion,seatmapData:b}))},"seatmap_image:update":function(a){this.controller.updateSeatmapImage(a)},"seatmap_image:reload":function(){this.reservedSeatingController.getMetaForSeatmapImage()}},componentMethods:{initializeLayout:function(b){this.layout=new a.CreatePage.ReservedSeatingLayout({model:this.eventModel}),b.show(this.layout),this.contentRegion=this.layout.content}},postCreate:function(a){this.controller=void 0,this.eventModel=a.eventModel,this.ticketCollection=a.ticketCollection},start:function(b){this.initializeLayout(b.region),this.reservedSeatingController=new a.CreatePage.ReservedSeatingController({sandbox:this.sandbox,model:this.eventModel})}})}(window.EB,window.EB.App),function(a,b,c,d){"use strict";a.namespace("CreatePage"),a.CreatePage.ReservedSeatingController=c.Controller.extend({initialize:function(){_.bindAll(this,"handleCurrentMap","handleNewMap","getMetaForSeatmapImage"),this.retrieveMap(),this.listenTo(this.model,"change:inventory_type",function(){this.retrieveMap()}),require(["backbone_wreqr"],function(a){var b=a.radio.channel("feature-prompt");this.listenTo(b.vent,"userUpgraded",this.handleFeatureUpgraded.bind(this))}.bind(this))},getMeta:function(){var a="/inventory/v1/"+this.model.get("eid")+"/meta";return d.getJSON(a).pipe(function(a){return _.isEmpty(a)||a.errors||!a.event_id?d.Deferred().reject():a})},retrieveMap:function(){return 1!==parseInt(this.model.get("inventory_type"),10)?void this.sandbox.execute("navigate:close"):(this.sandbox.execute("ui:loading:start"),void(this.model.get("eid")?this.getMeta().done(this.handleCurrentMap).fail(this.handleNewMap):this.handleNewMap()))},handleCurrentMap:function(a){this.sandbox.execute("ui:loading:stop"),this.sandbox.execute("navigate:show",a)},handleNewMap:function(){var a="navigate:new";this.sandbox.execute("ui:loading:stop"),this.shouldShowFeaturePrompt()&&(a="navigate:featurePrompt"),this.sandbox.execute(a)},handleFeatureUpgraded:function(){this.model.set("userUpgraded",!0)},shouldShowFeaturePrompt:function(){return a.CreatePage.featurePrompt.isReservedSeatingFeaturePrompt&&!this.model.get("userUpgraded")},getMetaForSeatmapImage:function(){this.getMeta().done(function(a){this.sandbox.execute("seatmap_image:update",a)}.bind(this))}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","model"]})}(window.EB,window.EB.App,window.Marionette,window.jQuery),function(a,b,c,d){"use strict";a.namespace("CreatePage"),a.CreatePage.ReservedSeatingLayout=c.Layout.extend({regions:{content:".js-region-reserved-seating-content"},bindings:{'[name="group-details-inventory_type"]':"inventory_type"}}).mixin(a.Backbone.Mixins.withTemplate,{templateName:"reserved_layout"}).mixin(a.Backbone.Mixins.withStickit)}(window.EB,window.EB.App,window.Marionette,window.jQuery),function(a,b,c,d,e){"use strict";a.namespace("CreatePage.ReservedSeating"),a.CreatePage.ReservedSeating.LightboxController=c.Controller.extend({initialize:function(){_.bindAll(this,"handleSaveClick","handleCancelClick"),this.model=this.sandbox.request("event"),this.view=new a.CreatePage.ReservedSeating.LightboxView({model:new e.Model({inventory_type:this.model.get("inventory_type")})}),this.listenTo(this.view,"lightbox:save:clicked",this.handleSaveClick),this.listenTo(this.view,"lightbox:cancel:clicked",this.handleCancelClick),this.view.render()},handleSaveClick:function(){this.model.set(this.view.model.toJSON()),this.view.close(),1===parseInt(this.model.get("inventory_type"),10)?(d(".repeated_option").addClass("is-hidden"),d("#event_details_repeat").addClass("is-hidden")):(d(".repeated_option").removeClass("is-hidden"),d(".js-event-repeats-label").html(gettext("Schedule multiple events")))},handleCancelClick:function(){this.view.close()},onClose:function(){this.view.close()}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox"]})}(window.EB,window.EB.App,window.Marionette,window.jQuery,window.Backbone),function(a,b,c,d){"use strict";a.namespace("CreatePage.ReservedSeating"),a.CreatePage.ReservedSeating.LightboxView=c.ItemView.extend({bindings:{".js-reserved-toggle":"inventory_type"},triggers:{"click .js-save":"lightbox:save:clicked","click .js-cancel":"lightbox:cancel:clicked","click .eb_lightbox_close":"lightbox:cancel:clicked"},serializeData:function(){return _.extend({MEDIA_URL:a.getMediaUrl()},this.model.toJSON())},getTemplate:function(){return window.Handlebars.templates.reserved_toggle_lightbox},onRender:function(){this.$(".eb_lightbox").hide(),d("body").append(this.$el),a.Ui.lightbox.show(this.$(".eb_lightbox"))},onClose:function(){a.Ui.lightbox.hide(this.$(".eb_lightbox"))}}).mixin(a.Backbone.Mixins.withStickitForMarionette)}(window.EB,window.EB.App,window.Marionette,window.jQuery),function(a,b,c,d){"use strict";a.namespace("CreatePage"),a.CreatePage.ReservedSeating.NewController=c.Controller.extend({maxSeatMapsShown:4,initialize:function(){_.bindAll(this,"seatDesignerCreate","seatDesignerLoad","loadTemplates","loadTemplatesSuccess");var b=this.sandbox.request("event").get("venue"),c;b&&(c=b.get("venue")),this.view=new a.CreatePage.ReservedSeating.NewChooserView({model:new d.Model({venueName:c})}),this.region.show(this.view),this.loadTemplates(),d.Events.trigger("create:tickets:hide"),this.listenTo(this.view,"chooser:create:clicked",this.seatDesignerCreate)},seatDesignerCreate:function(){this.seatDesignerOpen()},seatDesignerLoad:function(a){this.sandbox.request("eventForm").append($("<input/>",{type:"hidden",name:"seating_eid",value:1003*parseInt(a.model.get("event_id"),10)})),this.seatDesignerOpen()},seatDesignerOpen:function(){this.sandbox.request("eventForm").append($("<input/>",{type:"hidden",name:"go_to_seatmap",value:"1"})),a.CreatePage.submit()},onClose:function(){d.Events.trigger("create:tickets:show"),this.view.close()},loadTemplates:function(){var b=this.sandbox.request("location:longitude"),c=this.sandbox.request("location:latitude"),d,e=$.Deferred();if(b&&c&&(Number(b)||Number(c)))return d="lat="+c+"&long="+b,e=$.getJSON("/ajax/search_seatmap_templates?"+d).done(this.loadTemplatesSuccess),a.UIComponents.Loader.createSectionLoader(this.view.$el,e.promise()),e.promise()},loadTemplatesSuccess:function(b){var c,d,e,f=!1,g=this.view.$(".js-venue-name-message");if(!_.isEmpty(b.templates)){for(this.imageStaleTimeout&&(window.clearTimeout(this.imageStaleTimeout),this.view.$(".js-map-item").remove()),this.view.$(".js-preset-maps").addClass("is-hidden"),this.view.$(".js-saved-maps").removeClass("is-hidden"),g.length&&b.templates.length&&g.removeClass("is-hidden"),e=0;e<Math.min(b.templates.length,this.maxSeatMapsShown);e++)c=b.templates[e],c.imageIsReady="0"===c.image_stale,d=new a.CreatePage.ReservedSeating.MapTemplateItemView({model:new a.Backbone.Model(c)}),this.listenTo(d,"chooser:template:clicked",this.seatDesignerLoad),this.view.$(".js-saved-maps").prepend(d.render().$el),c.imageIsReady||(f=!0);f&&(this.imageStaleTimeout=window.setTimeout(this.loadTemplates,1e4))}}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","region"]})}(window.EB,window.EB.App,window.Marionette,window.Backbone),function(a,b,c){"use strict";a.namespace("CreatePage.ReservedSeating"),a.CreatePage.ReservedSeating.FeaturePromptController=c.Controller.extend({initialize:function(){this.userId=a.CreatePage.featurePrompt.userId,this.view=new a.CreatePage.FeaturePromptView({featureType:"reservedSeating",gaLabel:"Reserved Seating"}),require(["backbone_wreqr"],function(a){var b=a.radio.channel("feature-prompt");this.listenTo(b.vent,"userUpgraded",this.handleFeatureUpgraded.bind(this))}.bind(this)),this.region.show(this.view),a.Analytics.trackEvent({action:"UpgradePromptView",category:"change-plan",label:"Reserved Seating",userId:this.userId}),Backbone.Events.trigger("create:tickets:hide")},handleFeatureUpgraded:function(){this.sandbox.execute("navigate:new")},onClose:function(){this.region.close(this.view),Backbone.Events.trigger("create:tickets:show")}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","region"]})}(window.EB,window.EB.App,window.Marionette),function(a,b,c){"use strict";a.namespace("CreatePage.ReserveddSeating"),a.CreatePage.ReservedSeating.NewChooserView=c.ItemView.extend({triggers:{"click .js-start":"chooser:create:clicked"},initialize:function(){_.bindAll(this,"loadTemplatesSuccess")},getTemplate:function(){return window.Handlebars.templates.reserved_new_chooser},loadTemplatesSuccess:function(b){var c,d,e;if(!_.isEmpty(b.templates))for(this.$(".js-preset-maps").addClass("is-hidden"),this.$(".js-saved-maps").removeClass("is-hidden"),d=0;d<b.templates.length;d++)c=b.templates[d],0!==c.section_count&&(e=new a.CreatePage.ReservedSeating.MapTemplateItemView({model:new a.Backbone.Model(c)}),this.$(".js-saved-maps").append(e.render().$el))}})}(window.EB,window.EB.App,window.Marionette),function(a,b,c){"use strict";a.namespace("CreatePage.ReserveddSeating"),a.CreatePage.ReservedSeating.MapTemplateItemView=c.ItemView.extend({tagName:"section",className:"has-centered-inline-content map-template",triggers:{"click .js-open-map":"chooser:template:clicked"},getTemplate:function(){return window.Handlebars.templates.reserved_saved_template_item}})}(window.EB,window.EB.App,window.Marionette),function(a,b,c,d){"use strict";a.namespace("CreatePage.ReservedSeating"),a.CreatePage.ReservedSeating.ShowController=c.Controller.extend({initialize:function(b){_.bindAll(this,"seatDesignerOpen","showSeatmapImage");var c={};this.eventModel=this.sandbox.request("event"),this.model=new a.CreatePage.ReservedSeating.SeatmapModel(this.seatmapData),this.model.set("ticket_count",this.sandbox.request("tickets").length),this.model.set("MEDIA_URL",a.getMediaUrl()),this.model.set("venue_name",this.eventModel.get("venue").get("venue")),this.model.set("is_pick_a_seat_enabled",this.eventModel.get("is_pick_a_seat_enabled")),this.model.set("can_display_seat_map",this.eventModel.get("can_display_seat_map")),this.model.set("show_colors_in_seatmap_thumbnail",this.eventModel.get("show_colors_in_seatmap_thumbnail")),this.seatmapData.validation_messages&&(c=JSON.parse(this.seatmapData.validation_messages)),this.model.set("validation_messages",c),this.view=new a.CreatePage.ReservedSeating.ShowView({model:this.model}),this.region.show(this.view),d.Events.trigger("create:tickets:hide"),this.listenTo(this.view,"designer:launch:clicked",this.seatDesignerOpen),this.listenTo(this.eventModel.get("venue"),"change:venue",function(a,b){this.model.set("venue_name",b)}.bind(this)),this.showSeatmapImage()},seatDesignerOpen:function(){this.sandbox.request("eventForm").append($("<input/>",{type:"hidden",name:"go_to_seatmap",value:"1"})),a.CreatePage.submit()},updateSeatmapImage:function(a){this.model.set("image_stale",a.image_stale),this.model.set("image_base_url",a.image_base_url),this.showSeatmapImage()},showSeatmapImage:function(){return"1"===this.model.get("image_stale")||this.model.get("image_base_url")?void("0"===this.model.get("image_stale")?(this.sandbox.request("seatmapThumbnail:img").attr("src",this.model.get("image_base_url")+".png"),this.sandbox.request("seatmapThumbnail").removeClass("loading")):setTimeout(function(){this.sandbox.execute("seatmap_image:reload")}.bind(this),1e4)):(this.sandbox.request("seatmapThumbnailPlaceholder").show(),void this.sandbox.request("seatmapThumbnail").remove())},onClose:function(){d.Events.trigger("create:tickets:show"),this.view.close()}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","region","seatmapData"]})}(window.EB,window.EB.App,window.Marionette,window.Backbone),function(a,b,c){"use strict";a.namespace("CreatePage.ReservedSeating"),a.CreatePage.ReservedSeating.ShowView=c.ItemView.extend({triggers:{"click .js-seatmap-launch":"designer:launch:clicked"},bindings:{".js-seat-count":{observe:"unit_count",onGet:function(a){return 1===a?window.gettext("1 seat"):window.gettext("%(count)s seats",{count:a})}},".js-ticket-count":{observe:"ticket_count",onGet:function(a){return 1===a?window.gettext("1 ticket type"):window.gettext("%(count)s ticket types",{count:a})}},".js-venue-name":{observe:"venue_name",onGet:function(a){return a=$.trim(a),_.isEmpty(a)?"":window.gettext("Your venue map for %(venueName)s",{venueName:a})}}},getTemplate:function(){return window.Handlebars.templates.reserved_show},serializeData:function(){var b=this.model.validate(),c={name:this.model.get("name"),venue_name:this.model.get("venue_name"),seat_count:this.getSeatCount(),ticket_count:this.getTicketCount(),can_pick_seat:this.model.get("is_pick_a_seat_enabled"),can_display_seat_map:this.model.get("can_display_seat_map"),show_colors_in_seatmap_thumbnail:this.model.get("show_colors_in_seatmap_thumbnail"),MEDIA_URL:this.model.get("MEDIA_URL")};return b&&_.keys(b).forEach(function(b){switch(parseInt(b,10)){case a.CreatePage.ReservedSeating.SeatmapModel.SEATS:c.map_errors=!0;break;case a.CreatePage.ReservedSeating.SeatmapModel.SELLING_ORDER:c.selling_order_errors=!0;break;case a.CreatePage.ReservedSeating.SeatmapModel.TICKETS:c.ticket_errors=!0}}),c},getSeatCount:function(){var a=this.model.get("unit_count");return 1===a?window.gettext("1 seat"):window.gettext("%(count)s seats",{count:a})},getTicketCount:function(){var a=this.model.get("ticket_count");return 1===a?window.gettext("1 ticket"):window.gettext("%(count)s tickets",{count:a})},onRender:function(){this.stickit()}})}(window.EB,window.EB.App,window.Marionette),function(a,b,c,d){"use strict";a.namespace("CreatePage.ReservedSeating"),a.CreatePage.ReservedSeating.SeatmapModel=c.Model.extend({validate:function(){return _.isEmpty(this.get("validation_messages"))?!1:this.getValidationErrors()},getValidationErrors:function(){var b=this.get("validation_messages"),c={},e={TICKETS:d("All seats need a ticket type assigned to continue."),SEATS:d("There are issues with your venue map "),SELLING_ORDER:d("All seats need a selling order assigned to continue.")},f={TICKETS:["tickets","seats","unit_missing","unit_missing_label","unit_missing_ticket","unit_missing_quantity","ticket_class_wrong_quantity","attribute_duplicate_ticket_id","attribute_invalid_ticket_id","attribute_missing_ticket","attribute_ticket_not_a4","attribute_missing_ticket_index","unit_negative_quantity","unit_ga_child_not_deleted","unit_ga_with_deleted_children","unit_non_ga_with_quantity","unit_not_deleted"],SEATS:["spec_not_found","attribute_missing","attribute_missing_title","attribute_missing_title_index","meta_wrong_unit_count","meta_wrong_ticketed_unit_count","unit_label_none","object_missing_id","object_missing_type","object_not_deleted","object_not_deleted_unit_missing","object_bad_id","object_bad_label","object_bad_chair","object_ga_with_children","object_duplicate_id","object_with_wrong_unit_count","object_with_wrong_sub_unit_count"],SELLING_ORDER:["selling_order"]};return _.each(e,function(d,e){var g=_.some(f[e],function(a){return a in b});g&&(c[a.CreatePage.ReservedSeating.SeatmapModel[e]]=d)}),c}}),a.CreatePage.ReservedSeating.SeatmapModel.SEATS=1,a.CreatePage.ReservedSeating.SeatmapModel.SELLING_ORDER=2,a.CreatePage.ReservedSeating.SeatmapModel.TICKETS=3}(window.EB,window.EB.App,window.Backbone,window.gettext),function(a,b,c,d,e){"use strict";c.namespace("UIComponents"),c.UIComponents.FormHelp=c.Backbone.View.extend({initialize:function(){b.bindAll(this,"handleFocusInputField","handleHelpTargetClick","showHelpText"),this.helpTargetClass=".js-help-target",this.helpTextClass=".js-help-text",this.$el.find(this.helpTargetClass).on("click",this.handleHelpTargetClick).find("input, select").on("focus",this.handleFocusInputField)},handleFocusInputField:function(b){var c=a(b.delegateTarget).parents(this.helpTargetClass);this.showHelpText(c)},handleHelpTargetClick:function(b){this.showHelpText(a(b.delegateTarget))},showHelpText:function(a){this.$(this.helpTextClass).removeClass("is-active"),a.find(this.helpTextClass).addClass("is-active")}})}(window.jQuery,window._,window.EB,window),/**
 * This UI Component depends on:
 * django/media/django/compass/sass/modules
 * - custom_select.css.scss
 * - themes/3rdgen.css.scss (or whatever your theme is)
 *
 * You must include this file and build/custom_select.js for
 * the handle bars template.
 *
 * jquery, underscore, backboneview, handlbars
 */
function(a,b,c,d){"use strict";b.namespace("UIComponents"),b.UIComponents.SelectBox=b.Backbone.View.extend({config:{focusCssClass:"responsive-form__select--focus"},events:{focus:"handleSelectFocus",blur:"handleSelectBlur"},handleSelectFocus:function(){this.addWrapperFocus()},handleSelectBlur:function(){this.removeWrapperFocus()},initialize:function(b){if(c.bindAll(this,"selectItem"),"undefined"==typeof b||"undefined"==typeof b.element)throw"SelectBox 'element' undefined";this.parentClass="form__select","string"==typeof b.parentClass&&(this.parentClass=b.parentClass),this.$el=a(b.element),this.template=d.templates.custom_select_internal,this.wrapperTemplate=d.templates.custom_select_wrapper,0===this.$el.find('option[selected="selected"], option[selected]').length&&a(this.$el.find("option").get(0)).attr("selected","selected"),this.initialRender(),this.$el.change(this.selectItem)},initialRender:function(){this.$wrapper=a(this.wrapperTemplate({parentClass:this.parentClass})),this.$el.wrap(this.$wrapper),this.$wrapper=this.$el.parent(),this.$wrapper.prepend(a(this.template({select_value:this.$el.find('option[value="'+this.$el.val()+'"]').text()}))),this.$span=this.$wrapper.find(".custom-select-value"),this.selectItem()},selectItem:function(a){this.updateText(),this.trigger("change",this.$el.val())},updateText:function(){this.$span.text(this.text())},val:function(a){return void 0!==a&&(this.$el.val(a),this.selectItem()),this.$el.val()},text:function(){return this.$el.find("option:selected").text()},addWrapperFocus:function(){this.$wrapper.addClass(this.config.focusCssClass)},removeWrapperFocus:function(){this.$wrapper.removeClass(this.config.focusCssClass)}}),a.fn.customselect=function(d){return this.each(function(){var e=a(this);return new b.UIComponents.SelectBox(c.extend({},d||{},{element:e}))})},a(function(){a(".js-form__select").customselect(),a(".js-responsive-form__select").customselect({parentClass:"responsive-form__select"})}),"function"==typeof define&&define("eb/ui_components/custom_select_view",function(a){return d.templates=d.templates||{},d.templates.custom_select_wrapper=a("hb!templates/src/eb/ui_components/custom_select_wrapper.handlebars"),d.templates.custom_select_internal=a("hb!templates/src/eb/ui_components/custom_select_internal.handlebars"),b.UIComponents.SelectBox})}(jQuery,window.EB,window._,window.Handlebars),function(a,b,c){"use strict";b.namespace("UIComponents"),b.UIComponents.CurrencyInputView=b.Backbone.View.extend({events:{keydown:"handleKeyDown"},defaultOptions:{decimalPlaces:2,decimalSeparator:".",thousandsSeparator:",",maxThousandsDigits:5},initialize:function(){var a=0;this.options=c.extend({},this.defaultOptions,this.options),c.bindAll(this,"handleKeyDown"),a=this.$el.val().replace(/[^0-9]/g,""),this.value=String(a),this.value>0&&this.$el.val(this._formatDisplay(this._valueToNumber(a)))},_formatDisplay:function(c){return a.trim(b.Intl.formatNumber(c,{precision:this.options.decimalPlaces,decimal:this.options.decimalSeparator,thousand:this.options.thousandsSeparator}))},_valueToNumber:function(a){var b=parseFloat(a);return isNaN(b)?0:(b/Math.pow(10,this.options.decimalPlaces)).toFixed(this.options.decimalPlaces)},_handleDeleteKeyPress:function(a){(8===a||46===a)&&this.value.length>0&&(this.value=this.value.slice(0,this.value.length-1))},_handleNumberKeyPress:function(a){var b=this.options.maxThousandsDigits+this.options.decimalPlaces,c="",d=0;(a>=48&&57>=a||a>=96&&105>=a)&&(a=a>=96&&105>=a?a-48:a,c=this.value+String.fromCharCode(a),d=String(this._valueToNumber(c)).replace(/[^0-9]/g,"").length,b>=d&&(this.value=c))},getNumberValue:function(){return this._valueToNumber(this.value)},cleanInput:function(a){this._handleDeleteKeyPress(a),this._handleNumberKeyPress(a),this.$el.val(this._formatDisplay(this._valueToNumber(this.value)))},handleKeyDown:function(a){9!==a.which&&(a.preventDefault(),this.cleanInput(a.which))}})}(window.jQuery,window.EB,window._),function(a,b,c,d,e){"use strict";c.namespace("UIComponents"),c.UIComponents.GoogleMapsAccessibility=c.Backbone.View.extend({initialize:function(a){b.bindAll(this,"fixAltTags","addAriaLabel"),this.$map=a.map,this.mapImages=this.$map.find("img"),this.fixAltTags(),this.fixEmptyLinks()},fixAltTags:function(){for(var a,b=0;b<this.mapImages.length;b++)a=this.mapImages[b].alt,a||this.mapImages[b].setAttribute("alt","")},fixEmptyLinks:function(){this.$map.find("a img").parent().append('<span class="is-hidden-accessible">Google Maps</span>')},addAriaLabel:function(b,c){b.attr({role:"button",tabindex:"0","aria-label":c}).bind("keydown",function(b){13===b.which&&(b.preventDefault(),a(this).trigger("click"))})}}),"function"==typeof define&&define("eb/ui_components/google_map_accessibility_helper",function(){return c.UIComponents.GoogleMapsAccessibility})}(window.jQuery,window._,window.EB,window),function(a,b,c,d,e){"use strict";b.namespace("UIComponents"),b.UIComponents.ShowOnSelect=c.View.extend({initialize:function(){d.bindAll(this,"handleTriggerClick"),this.trigger=this.options.radioGroup||this.options.selector,this.options.selector.is(":checked")&&this.handleTriggerClick(),this.trigger.on("change",this.handleTriggerClick)},handleTriggerClick:function(){var a=this.options.selector.is(":checked");this.options.showContainer.toggleClass("is-hidden",!a)}}),b.UIComponents.ToggleContainerVisibility=c.View.extend({initialize:function(){d.bindAll(this,"handleToggleClick","toggleContainers","showContainers"),this.animationDuration=0,this.options.animation&&(this.animationDuration=800),this.options.triggers&&this.options.triggers.on("click",this.handleToggleClick)},handleToggleClick:function(a){a.preventDefault(),this.toggleContainers()},toggleContainers:function(){var a;this.trigger("start"),a=this.$el,this.shownContainers=this.options.containers.not(".is-hidden"),this.hiddenContainers=this.options.containers.filter(".is-hidden"),a.animate({height:this.hiddenContainers.height()},this.animationDuration,function(){a.css("height","")}),this.shownContainers.length>0?this.shownContainers.animate({opacity:0},5*this.animationDuration/8,this.showContainers):this.showContainers()},showContainers:function(){this.shownContainers.addClass("is-hidden"),this.hiddenContainers.fadeOut().removeClass("is-hidden"),this.hiddenContainers.animate({opacity:1},3*this.animationDuration/8),this.trigger("shown",this.hiddenContainers),this.trigger("hidden",this.shownContainers)}}),"function"==typeof define&&define("eb/ui_components/display_container",function(a){return b.UIComponents.ToggleContainerVisibility})}(jQuery,window.EB,window.Backbone,window._,window),// relies on:
// - src/jquery.timepicker.js
// - jqueryui (datepicker)
function(a,b,c,d){"use strict";b.namespace("UIComponents"),b.UIComponents.DateTimePicker=b.Backbone.View.extend({initialize:function(){this.datepickerConfig={}},render:function(){c.bindAll(this,"handleDateTimeChange","handleDateChange","handleTimeChange","showError","hideError","isManualUpdate"),this.$dateInput=this.$(".js-date-input"),this.$timeInput=this.$(".js-time-input"),this.$errorMsg=this.$(".js-date-time-error"),this.$dateTimeInput=this.options.dateTimeInput,this.$dateInput.datepicker(this.datepickerConfig),this.$timeInput.timePicker({startTime:"0:00",endTime:"23:30",separator:":",step:30,show24Hours:this.options.show24Hours,onSelect:this.isManualUpdate}),new b.UIComponents.SelectBox({element:this.$timeInput,parentClass:"responsive-form__select"}),this.handleDateTimeChange(),this.$dateTimeInput.after(this.$el),this.$dateTimeInput.on("change",this.handleDateTimeChange),this.$dateInput.on("change",this.handleDateChange),this.$timeInput.on("change",this.handleTimeChange)},setDateTimeInput:function(){this.$dateTimeInput.val(b.Date.toSql(this.dateObject)),this.$dateTimeInput.off("change",this.handleDateTimeChange),this.$dateTimeInput.trigger("change"),this.$dateTimeInput.on("change",this.handleDateTimeChange),this.isAutomaticUpdate||this.trigger("change")},handleDateChange:function(){var a=this.$dateInput.datepicker("getDate");this.dateObject.setFullYear(a.getFullYear()),this.dateObject.setMonth(a.getMonth(),a.getDate()),this.isAutomaticUpdate=!1,this.setDateTimeInput()},handleTimeChange:function(){var b=a.timePicker(this.$timeInput).getTime();this.dateObject.setHours(b.getHours()),this.dateObject.setMinutes(b.getMinutes()),this.isAutomaticUpdate=!1,this.setDateTimeInput()},handleDateTimeChange:function(){this.dateObject=b.Date.fromSql(this.$dateTimeInput.val()),this.$dateInput.datepicker("setDate",this.dateObject),a.timePicker(this.$timeInput).setTime(b.Date.fromSql(this.$dateTimeInput.val())),this.isAutomaticUpdate=!0},isManualUpdate:function(){this.AutomaticUpdate=!1},getContextData:function(){return{dateTabIndex:this.options.tabindex,timeTabIndex:this.options.tabindex+1,use24hour:this.options.use24hour}},showError:function(a){this.$dateInput.addClass("has-form-input-error"),this.$errorMsg.html(a).removeClass("is-hidden")},hideError:function(){this.$dateInput.removeClass("has-form-input-error"),this.$errorMsg.addClass("is-hidden")}}).mixin(b.Backbone.Mixins.withTemplate,{templateName:"date_time_picker"})}(jQuery,window.EB,window._,window.Handlebars),function(a,b,c,d){"use strict";b.namespace("UIComponents"),b.UIComponents.DateTimePickerPair=b.Backbone.View.extend({initialize:function(){this.$startDateTimeInput=this.options.startDateTimeInput,this.$endDateTimeInput=this.options.endDateTimeInput,this.startDatepicker=new b.UIComponents.DateTimePicker({tabindex:this.options.tabindex,dateTimeInput:this.$startDateTimeInput,show24Hours:this.options.show24Hours}),this.startDatepicker.render(),this.endDatepicker=new b.UIComponents.DateTimePicker({tabindex:this.options.tabindex+2,dateTimeInput:this.$endDateTimeInput,show24Hours:this.options.show24Hours}),this.endDatepicker.render(),this.$startDateTimeInput.on("change",this.handleTimeChange),this.$endDateTimeInput.on("change",this.handleTimeChange)}})}(jQuery,window.EB,window._,window.Handlebars),function(a,b,c,d,e){"use strict";b.namespace("UIComponents"),b.UIComponents.NotificationView=c.View.extend({className:"js-notification",initialize:function(a){d.bindAll(this,"handleCloseButtonClick"),this.notificationMessage=a.message,this.notificationType=a.type,this.notificationStyle=a.style||"normal",this.showIcon="undefined"==typeof a.showIcon?!0:a.showIcon,this.showCloseButton="undefined"==typeof a.showCloseButton?!0:a.showCloseButton},render:function(){var b,c="notification";return"wide"===this.notificationStyle&&(c+="-bar"),this.$el=a("<div/>").addClass(this.className).addClass(c).addClass(c+"--"+this.notificationType),this.$el.html(" "+this.notificationMessage),"landing-type"!==this.notificationType&&this.showIcon&&this.$el.prepend(a("<i/>").addClass("ico-"+this.notificationType)),"wide"===this.notificationStyle&&this.showCloseButton&&(b=a("<a/>").addClass("notification-bar__close js-notification-bar-close"),b.append(a("<i/>").addClass("ico-cross")),b.on("click",this.handleCloseButtonClick),this.$el.append(b)),this},handleCloseButtonClick:function(a){a.preventDefault();var b=this;this.$el.fadeOut(d.bind(function(){this.$el.detach()},this))}})}(jQuery,window.EB,window.Backbone,window._,window),this.Handlebars=this.Handlebars||{},this.Handlebars.templates=this.Handlebars.templates||{},this.Handlebars.templates.custom_select_wrapper=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h="function",i=this.escapeExpression;return f+='<div class="',(g=c.parentClass)?g=g.call(b,{hash:{},data:e}):(g=b&&b.parentClass,g=typeof g===h?g.call(b,{hash:{},data:e}):g),f+=i(g)+' custom-select-container clrfix">\n</div>\n'}),this.Handlebars.templates.custom_select_internal=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h="function",i=this.escapeExpression;return f+='<span class="custom-select-value">',(g=c.select_value)?g=g.call(b,{hash:{},data:e}):(g=b&&b.select_value,g=typeof g===h?g.call(b,{hash:{},data:e}):g),f+=i(g)+'</span>\n<div class="custom-select-arrow"></div>\n'}),this.Handlebars=this.Handlebars||{},this.Handlebars.templates=this.Handlebars.templates||{},Handlebars.registerPartial("event_duration",Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i,j=c.helperMissing,k=this.escapeExpression,l="function";return f+='<div class="l-mar-top-3 series-event-duration">\n    <div class="g-cell g-cell-1-1 g-cell-md-1-3 g-cell-lg-1-4">\n        <label class="label-primary responsive-form__label--primary" for="repeating-start-time">',i={hash:{context_hour:""},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"From%(context_hour)s",i):j.call(b,"_","From%(context_hour)s",i)))+'</label>\n        <input type="text" value="',(h=c.start_time)?h=h.call(b,{hash:{},data:e}):(h=b&&b.start_time,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'" class="js-series-start-time series-new-time-input" id="repeating-start-time">\n    </div>\n    <div class="g-cell g-cell-1-1 g-cell-md-1-3 g-cell-lg-1-4">\n        <label class="label-primary responsive-form__label--primary" for="repeating-end-time">',i={hash:{context_hour:""},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"to%(context_hour)s",i):j.call(b,"_","to%(context_hour)s",i)))+'</label>\n        <input type="text" value="',(h=c.end_time)?h=h.call(b,{hash:{},data:e}):(h=b&&b.end_time,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'" class="js-series-end-time series-new-time-input" id="repeating-end-time">\n    </div>\n    <div class="g-cell g-cell-1-1 g-cell-md-1-3 g-cell-lg-1-4">\n        <label class="label-primary responsive-form__label--primary" for="repeating-time-type">',i={hash:{context_day:""},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"of the%(context_day)s",i):j.call(b,"_","of the%(context_day)s",i)))+'</label>\n        <select class="js-series-overnights" id="repeating-time-type">\n            <option value="0">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Same day",i):j.call(b,"_","Same day",i)))+'</option>\n            <option value="1">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Next day",i):j.call(b,"_","Next day",i)))+'</option>\n            <option value="2">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"2nd day",i):j.call(b,"_","2nd day",i)))+'</option>\n            <option value="3">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"3rd day",i):j.call(b,"_","3rd day",i)))+'</option>\n            <option value="4">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"4th day",i):j.call(b,"_","4th day",i)))+'</option>\n            <option value="5">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"5th day",i):j.call(b,"_","5th day",i)))+'</option>\n            <option value="6">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"6th day",i):j.call(b,"_","6th day",i)))+"</option>\n        </select>\n    </div>\n</div>"})),Handlebars.registerPartial("event_repeat_range",Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i,j=c.helperMissing,k=this.escapeExpression,l="function";return f+='<div class="l-mar-top-3 series-schedule-dates">\n    <div class="g-cell g-cell-1-1 g-cell-md-1-3 g-cell-lg-1-4">\n        <label for="repeating-start-date" class="label-primary responsive-form__label--primary">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Occurs from",i):j.call(b,"_","Occurs from",i)))+'</label>\n        <input type="text" value="',(h=c.start_date)?h=h.call(b,{hash:{},data:e}):(h=b&&b.start_date,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'" class="js-series-start-date" id="repeating-start-date">\n    </div>\n    <div class="g-cell g-cell-1-1 g-cell-md-1-3 g-cell-lg-1-4">\n        <label for="repeating-end-date" class="label-primary responsive-form__label--primary">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Occurs until",i):j.call(b,"_","Occurs until",i)))+'</label>\n        <input type="text" value="',(h=c.end_date)?h=h.call(b,{hash:{},data:e}):(h=b&&b.end_date,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'" class="js-series-end-date" id="repeating-end-date">\n    </div>\n</div>'})),this.Handlebars.templates.new_location=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d="",e,f;return d+='\n        <input class="js-location-cep" id="location-cep-input" type="text" placeholder="',f={hash:{},data:b},d+=p((e=c._||a&&a._,e?e.call(a,"Enter location using CEP",f):o.call(a,"_","Enter location using CEP",f)))+'" data-placeholder="',f={hash:{},data:b},d+=p((e=c._||a&&a._,e?e.call(a,"Enter location using CEP",f):o.call(a,"_","Enter location using CEP",f)))+'" />\n        \n        <input class="js-location-input-new hidden" id="location-name-input" type="text" placeholder="',f={hash:{},data:b},d+=p((e=c._||a&&a._,e?e.call(a,"Search for a venue or address.",f):o.call(a,"_","Search for a venue or address.",f)))+'" data-placeholder="',f={hash:{},data:b},d+=p((e=c._||a&&a._,e?e.call(a,"Search for a venue or address.",f):o.call(a,"_","Search for a venue or address.",f)))+'" />\n    '}function g(a,b){var d="",e,f;return d+='\n        <input class="js-location-input-new" id="location-name-input" type="text" placeholder="',f={hash:{},data:b},d+=p((e=c._||a&&a._,e?e.call(a,"Search for a venue or address.",f):o.call(a,"_","Search for a venue or address.",f)))+'" data-placeholder="',f={hash:{},data:b},d+=p((e=c._||a&&a._,e?e.call(a,"Search for a venue or address.",f):o.call(a,"_","Search for a venue or address.",f)))+'" />\n    '}function h(a,b){var d="",e,f;return d+='\n            <li>\n                <a href="" class="js-location-select-past">\n                    <i class="ico-search ico--small"></i>\n                    ',f={hash:{},data:b},d+=p((e=c._||a&&a._,e?e.call(a,"Use past location",f):o.call(a,"_","Use past location",f)))+"\n                </a>\n            </li>\n        "}function i(a,b){var c="";return c+="\n            \n        "}function j(a,b){var d="",e,f;return d+='\n            <li>\n                <a href="" class="js-location-cant-find">\n                    <i class="ico-location ico--small"></i>\n                        ',f={hash:{},data:b},d+=p((e=c._||a&&a._,e?e.call(a,"Enter Address",f):o.call(a,"_","Enter Address",f)))+"\n                </a>\n            </li>\n        "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k="",l,m,n,o=c.helperMissing,p=this.escapeExpression,q=this;return k+='<div class="inputtext g-cell g-cell-1-1">\n    ',l=c["if"].call(b,b&&b.isCepEnabled,{hash:{},inverse:q.program(3,g,e),fn:q.program(1,f,e),data:e}),(l||0===l)&&(k+=l),k+='\n\n    <ul class="bullet-list-ico bullet-list-ico--compact text-body-small">\n        ',l=c["if"].call(b,b&&b.hasPastLocations,{hash:{},inverse:q.noop,fn:q.program(5,h,e),data:e}),(l||0===l)&&(k+=l),k+='\n        <li>\n            <a href="" class="js-location-is-online" id="location-is-online-button">\n                <i class="ico-computer ico--small"></i>\n                ',n={hash:{},data:e},k+=p((l=c._||b&&b._,l?l.call(b,"Online event",n):o.call(b,"_","Online event",n)))+"\n            </a>\n        </li>\n        ",m=c["if"].call(b,b&&b.updateCreateUX,{hash:{},inverse:q.program(9,j,e),fn:q.program(7,i,e),data:e}),(m||0===m)&&(k+=m),k+="\n    </ul>\n</div>\n"}),this.Handlebars.templates.edit_location=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d="",e,f;return d+='\n            <div class="js-location-spinner js-cep-spinner">\n                <input formnovalidate="formnovalidate" pattern="[0-9]*" class="js-location-edit-postal_code js-xd-cep-input" maxlength="9" type="text"  data-placeholder="',f={hash:{},data:b},d+=o((e=c._||a&&a._,e?e.call(a,"CEP",f):n.call(a,"_","CEP",f)))+'" placeholder="',f={hash:{},data:b},d+=o((e=c._||a&&a._,e?e.call(a,"CEP",f):n.call(a,"_","CEP",f)))+'" />\n            </div>\n            <p class="form__field-error is-hidden js-error-for-postal_code"></p>\n            '}function g(a,b){var d="",e,f;return d+='\n             <div class="g-cell g-cell-1-1">\n                <input class="js-location-edit-state l-mar-top-1 js-xd-cep-state" type="text"  data-placeholder="',f={hash:{},data:b},d+=o((e=c._||a&&a._,e?e.call(a,"State",f):n.call(a,"_","State",f)))+'" placeholder="',f={hash:{},data:b},d+=o((e=c._||a&&a._,e?e.call(a,"State",f):n.call(a,"_","State",f)))+'"/>\n            </div>\n            <p class="form__field-error is-hidden js-error-for-state"></p>\n            '}function h(a,b){var d="",e,f;return d+='\n            <div class="g-cell g-cell-1-2">\n                <input class="js-location-edit-state l-mar-top-1 js-xd-cep-state" type="text"  data-placeholder="',f={hash:{},data:b},d+=o((e=c._||a&&a._,e?e.call(a,"State",f):n.call(a,"_","State",f)))+'" placeholder="',f={hash:{},data:b},d+=o((e=c._||a&&a._,e?e.call(a,"State",f):n.call(a,"_","State",f)))+'"/>\n            </div>\n            <div class="g-cell g-cell-1-2 edit-no-taxable">\n                <input class="js-location-edit-postal_code l-mar-top-1 js-xd-cep-input" type="text"  data-placeholder="',f={hash:{},data:b},d+=o((e=c._||a&&a._,e?e.call(a,"Zip/Postal",f):n.call(a,"_","Zip/Postal",f)))+'" placeholder="',f={hash:{},data:b},d+=o((e=c._||a&&a._,e?e.call(a,"Zip/Postal",f):n.call(a,"_","Zip/Postal",f)))+'" />\n            </div>\n            <div class="g-cell g-cell-1-2 l-pad-right-0 is-hidden edit-taxable">\n                <div class="edit-taxable-required">\n                    <span class="required">*</span>\n                </div>\n                <p class="form__field-error is-hidden js-error-for-postal_code_required">',f={hash:{},data:b},d+=o((e=c._||a&&a._,e?e.call(a,"Please provide a postal code.",f):n.call(a,"_","Please provide a postal code.",f)))+'</p>\n            </div>\n            <p class="form__field-error is-hidden js-error-for-state"></p>\n            <p class="form__field-error is-hidden js-error-for-postal_code"></p>\n            '}function i(a,b){var c="",d;return c+='\n                        <option value="'+o((d=a&&a[0],typeof d===p?d.apply(a):d))+'">'+o((d=a&&a[1],typeof d===p?d.apply(a):d))+"</option>\n                    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var j="",k,l,m,n=c.helperMissing,o=this.escapeExpression,p="function",q=this;return j+='<div class="g-group">\n    <div id="location_edit_form" class="g-vertical-group g-cell-1-1 g-cell-md-5-8">\n\n        <div class="g-cell g-cell-1-1">\n            ',k=c["if"].call(b,b&&b.isCepEnabled,{hash:{},inverse:q.noop,fn:q.program(1,f,e),data:e}),(k||0===k)&&(j+=k),j+='\n            <input class="js-location-edit-venue l-mar-top-1" type="text"  data-placeholder="',m={hash:{},data:e},j+=o((k=c._||b&&b._,k?k.call(b,"Enter the venue's name",m):n.call(b,"_","Enter the venue's name",m)))+'" placeholder="',m={hash:{},data:e},j+=o((k=c._||b&&b._,k?k.call(b,"Enter the venue's name",m):n.call(b,"_","Enter the venue's name",m)))+'" />\n            <p class="form__field-error is-hidden js-error-for-venue"></p>\n            <input class="js-location-edit-address_1 l-mar-top-1 js-xd-cep-street" type="text"  data-placeholder="',m={hash:{},data:e},j+=o((k=c._||b&&b._,k?k.call(b,"Address",m):n.call(b,"_","Address",m)))+'" placeholder="',m={hash:{},data:e},j+=o((k=c._||b&&b._,k?k.call(b,"Address",m):n.call(b,"_","Address",m)))+'" data-d-cep-focus=true/>\n            <p class="form__field-error is-hidden js-error-for-address_1"></p>\n            <input class="js-location-edit-address_2 l-mar-top-1 js-xd-cep-neighborhood" type="text"  data-placeholder="',m={hash:{},data:e},j+=o((k=c._||b&&b._,k?k.call(b,"Address 2",m):n.call(b,"_","Address 2",m)))+'" placeholder="',m={hash:{},data:e},j+=o((k=c._||b&&b._,k?k.call(b,"Address 2",m):n.call(b,"_","Address 2",m)))+'"/>\n            <p class="form__field-error is-hidden js-error-for-address_2"></p>\n            <input class="js-location-edit-city l-mar-top-1 js-xd-cep-city" type="text"  data-placeholder="',m={hash:{},data:e},j+=o((k=c._||b&&b._,k?k.call(b,"City",m):n.call(b,"_","City",m)))+'" placeholder="',m={hash:{},data:e},j+=o((k=c._||b&&b._,k?k.call(b,"City",m):n.call(b,"_","City",m)))+'" />\n            <p class="form__field-error is-hidden js-error-for-city"></p>\n        </div>\n\n        <div class="g-group">\n            ',l=c["if"].call(b,b&&b.isCepEnabled,{hash:{},inverse:q.program(5,h,e),fn:q.program(3,g,e),data:e}),(l||0===l)&&(j+=l),j+='\n            <div class="g-cell g-cell-1-1 l-mar-top-1 js-country-select">\n                <select class="js-d-select-box js-location-edit-country">\n                    ',l=c.each.call(b,b&&b.countries,{hash:{},inverse:q.noop,fn:q.program(7,i,e),data:e}),(l||0===l)&&(j+=l),j+='\n                </select>\n            </div>\n        </div>\n\n        <div class="g-group g-cell-1-1">\n            <div class="g-cell g-cell-1-2">\n\n                <ul class="bullet-list-ico bullet-list-ico--compact text-body-small">\n                    <li>\n                        <a href="" class="js-location-reset"><i class="ico-refresh ico--small"></i>',m={hash:{},data:e},j+=o((k=c._||b&&b._,k?k.call(b,"Reset location",m):n.call(b,"_","Reset location",m)))+'</a>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n            <div class="g-cell g-cell-1-2">\n                <div class="l-mar-top-1">\n                    <input id="location-edit-showmap" class="js-location-edit-showmap" type="checkbox">\n                    </input>\n                    <label for="location-edit-showmap"><span class="text-body-small">',m={hash:{},data:e},j+=o((k=c._||b&&b._,k?k.call(b,"Show map on event page",m):n.call(b,"_","Show map on event page",m)))+'</span></label>\n                </div>\n            </div>\n            <p class="form__field-error is-hidden js-error-for-showmap"></p>\n        </div>\n\n    </div>\n    <div class="g-vertical-group g-cell-3-8 hide-small">\n        <div class="js-google-map-region g-cell g-cell-1-1"></div>\n    </div>\n</div>\n'}),this.Handlebars.templates.online_location=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i=c.helperMissing,j=this.escapeExpression;return f+='<div class="card card--padded">\n    <span>\n        ',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"This is an online event",h):i.call(b,"_","This is an online event",h)))+'\n    </span>\n    <a href="" class="js-location-new text-link-aside"></a>\n</div>\n<ul class="bullet-list-ico bullet-list-ico--compact text-body-small">\n    <li>\n        <a href="" class="js-location-new"><i class="ico-location ico--small"></i>',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Add a location",h):i.call(b,"_","Add a location",h)))+"</a>\n    </li>\n</ul>\n"}),this.Handlebars.templates.location_layout=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div id="create_location_content" class="js-region-location-content js-d-cep"></div>\n<input name="group-location-venue" type="hidden"/>\n<input name="group-location-address_1" type="hidden"/>\n<input name="group-location-address_2" type="hidden"/>\n<input name="group-location-city" type="hidden"/>\n<input name="group-location-state" type="hidden"/>\n<input name="group-location-postal_code" type="hidden"/>\n<input name="group-location-country" type="hidden"/>\n<input name="group-location-zoom" type="hidden"/>\n<input name="group-location-longaddress" type="hidden"/>\n<input name="group-location-longitude" type="hidden"/>\n<input name="group-location-latitude" type="hidden"/>\n<input name="group-location-old_venue" type="hidden"/>\n<input name="group-location-showmap" type="hidden"/>\n<input name="group-location-google_place_id" type="hidden" />\n<input name="group-extras-online_event" type="hidden"/>\n'}),this.Handlebars.templates.past_locations=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d="",e;return d+='\n    <option value="',(e=c.value)?e=e.call(a,{hash:{},data:b}):(e=a&&a.value,e=typeof e===k?e.call(a,{hash:{},data:b}):e),d+=l(e)+'">',(e=c.label)?e=e.call(a,{hash:{},data:b}):(e=a&&a.label,e=typeof e===k?e.call(a,{hash:{},data:b}):e),d+=l(e)+"</option>\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g="",h,i,j,k="function",l=this.escapeExpression,m=c.helperMissing,n=this;return g+='<select id="location_select_past" class="js-location-select-past">\n    <option value="">',j={hash:{},data:e},g+=l((h=c._||b&&b._,h?h.call(b,"Select a location from venues you've used in the past",j):m.call(b,"_","Select a location from venues you've used in the past",j)))+"</option>\n    ",i=c.each.call(b,b&&b.pastVenueOptions,{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(i||0===i)&&(g+=i),g+='\n</select>\n\n<ul class="bullet-list-ico bullet-list-ico--compact text-body-small">\n    <li>\n        <a href="" class="js-location-reset"><i class="ico-search ico--small"></i>',j={hash:{},data:e},g+=l((h=c._||b&&b._,h?h.call(b,"Find a new venue",j):m.call(b,"_","Find a new venue",j)))+'</a>\n    </li>\n    <li>\n        <a href="" class="js-location-is-online" id="location-is-online-button">\n            <i class="ico-computer ico--small"></i>\n            ',j={hash:{},data:e},g+=l((h=c._||b&&b._,h?h.call(b,"Online event",j):m.call(b,"_","Online event",j)))+"\n        </a>\n    </li>\n</ul>\n"}),this.Handlebars.templates.location_placeholder=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i=c.helperMissing,j=this.escapeExpression;return f+='<div class="location-map-panel pod has-centered-inline-content">\n    <div class="location-placeholder-content l-block-10">\n        <p><i class="ico-location"></i></p>\n        <p class="l-block-7 text-body-large location-placeholder-text">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"No map",h):i.call(b,"_","No map",h)))+"</p>\n    </div>\n</div>\n"}),this.Handlebars.templates.cant_find_location=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i=c.helperMissing,j=this.escapeExpression;return f+='<div class="pac-item location-places-autocomplete-cant-find">\n    <i class="ico-search"></i>\n    <b><span class="pac-item-query"><a class="js-location-cant-find" href="">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Can't find your location? Enter the address.",h):i.call(b,"_","Can't find your location? Enter the address.",h)))+"</a></span></b>\n</div>"}),this.Handlebars.templates.event_capacity=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i=c.helperMissing,j=this.escapeExpression;return f+='\n    <div class="js-event-capacity-display">\n        <span>',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Total capacity:",h):i.call(b,"_","Total capacity:",h)))+'</span>\n        <a href="#" class="js-edit-capacity" data-automation="edit_event_capacity_link"></a>\n    </div>\n<div class="g-cell g-cell-5-12 g-cell-md-3-12 g-cell-lg-6-12 g-cell--no-gutters">\n    <input type="text"\n        id="id_group-details-display_capacity"\n        class="js-event-capacity-input is-hidden"\n        data-automation="edit_event_capacity_input"\n        pattern="[0-9]*" />\n\n    <p class="form__field-error is-hidden js-error-for-capacity"></p>\n\n    <input type="hidden"\n        name="group-details-capacity"\n        value="0"\n        id="id_group-details-capacity" />\n</div>\n'}),this.Handlebars.templates.reserved_seating_feature_prompt_view=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i=c.helperMissing,j=this.escapeExpression;return f+='<div id="feature-prompt" class="feature-prompt"></div>\n\n<div class="js-feature-banner eds-l-pad-bot-4" data-automation="reserved-seating-feature-prompt-banner">\n    <div class="eds-g-grid">\n        <div class="eds-g-cell eds-g-cell-12-12 eds-align--center-horizontal eds-text--center">\n            <div class="eds-g-cell">\n                <i class="ico-seated ico-seated__feature-prompt ico--xlarge" />\n            </div>\n        </div>\n    </div>\n    <div class="eds-g-grid eds-l-mar-top-6">\n        <div class="eds-g-cell eds-g-cell-12-12 eds-align--center-horizontal eds-text--center">\n            <div>\n                <p class="eds-text-bl--fixed eds-text-color--grey-900">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Charge more for your best seats",h):i.call(b,"_","Charge more for your best seats",h)))+'</p>\n                <p class="eds-text-bm eds-text-color--grey-600">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Upgrade to create maps and reserved seats for venues of all shapes and sizes.",h):i.call(b,"_","Upgrade to create maps and reserved seats for venues of all shapes and sizes.",h)))+'</p>\n            </div>\n        </div>\n    </div>\n    <div class="eds-g-grid eds-l-mar-top-8">\n        <div class="eds-g-cell eds-g-cell-12-12 eds-align--center-horizontal eds-text--center">\n            <button class="eds-btn eds-btn--button eds-btn--fill eds-btn--fixed js-prompt-button feature_prompt__button" type="button" data-automation="reserved-seating-open-feature-prompt-modal">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Upgrade",h):i.call(b,"_","Upgrade",h)))+"</button>\n        </div>\n    </div>\n</div>\n"}),this.Handlebars.templates.ticket_summary=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i=c.helperMissing,j=this.escapeExpression;return f+='\n<div class="has-centered-inline-content js-ticket-cta js-ticket-summary-container">\n    <p class="js-create-ticket-error is-hidden l-padded-2 form__field-error">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"You must create at least one ticket type to publish this event.",h):i.call(b,"_","You must create at least one ticket type to publish this event.",h)))+'</p>\n    <div class="l-pad-hor-3 l-sm-pad-hor-2">\n        <p class="text-body-large l-pad-vert-3">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"What type of ticket would you like to start with?",h):i.call(b,"_","What type of ticket would you like to start with?",h)))+'</p>\n        <div class="btn-group btn-group--responsive">\n            <a href="#" class="l-mar-top-1 js-create-ticket btn btn--ico btn--secondary" href="#create-free-ticket" data-type="free" id="create-ticket-free-button">\n                <i class="ico-circle-plus"></i>',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Free ticket",h):i.call(b,"_","Free ticket",h)))+'\n            </a><!--\n            --><a href="#" class="l-mar-top-1 js-create-ticket btn btn--ico btn--secondary" href="#create-paid-ticket" data-type="paid" id="create-ticket-paid-button">\n                <i class="ico-circle-plus"></i>',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Paid ticket",h):i.call(b,"_","Paid ticket",h)))+'\n            </a><!--\n            --><a href="#" class="l-mar-top-1 js-create-ticket btn btn--ico btn--secondary" href="#create-donation-ticket" data-type="donation" id="create-ticket-donation-button">\n                <i class="ico-circle-plus"></i>',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Donation",h):i.call(b,"_","Donation",h)))+'\n            </a>\n        </div>\n        <div class="l-pad-vert-4 l-sm-pad-vert-3">\n            <a href="#expert_tip_tickets" id="create-tickets--learn-more text-body-large hide-small" class="js-d-modal">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Learn more about creating tickets",h):i.call(b,"_","Learn more about creating tickets",h)))+'</a>\n        </div>\n    </div>\n</div>\n\n\n\n<section class="js-ticket-summary is-hidden js-ticket-summary-container">\n    <div class="g-cell g-cell-1-1 l-mar-top-2 g-offset-lg-1-12 g-cell-lg-10-12 paid-ticket-container">\n        <div class="g-group create-tickets--header hide-small">\n            <div class="g-cell g-cell-5-12 g-cell--no-gutters l-block-h-2 l-pad-vert-2">\n                ',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Ticket name",h):i.call(b,"_","Ticket name",h)))+'<span class="required">*</span>\n            </div>\n            <div class="g-cell g-cell-2-12 g-cell--no-gutters l-padded-h-half l-pad-vert-2">\n                ',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Quantity available",h):i.call(b,"_","Quantity available",h)))+'<span class="required">*</span>\n            </div>\n            <div class="g-cell g-cell-3-12 g-cell--no-gutters l-padded-h-half l-pad-vert-2">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Price",h):i.call(b,"_","Price",h)))+'</div>\n            <div class="g-cell g-cell-2-12 g-cell--no-gutters l-padded-h-half l-pad-vert-2">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Actions",h):i.call(b,"_","Actions",h)))+'</div>\n        </div>\n\n        <div class="js-ticket-container create-tickets--container"></div>\n        <div class="g-group js-ticket-summary-footer create-tickets--footer l-pad-vert-2"></div>\n    </div>\n</section>\n\n<section class="js-deleted-tickets is-hidden"></section>\n'}),this.Handlebars.templates.ticket_summary_series=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i=c.helperMissing,j=this.escapeExpression;return f+='\n<div class="has-centered-inline-content js-ticket-cta js-ticket-summary-container">\n    <p class="js-create-ticket-error is-hidden l-padded-2 form__field-error">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"You must create at least one ticket type to publish this event.",h):i.call(b,"_","You must create at least one ticket type to publish this event.",h)))+'</p>\n    <div class="l-pad-hor-3 l-sm-pad-hor-2">\n        <p class="text-body-large l-pad-vert-3">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"What type of ticket would you like to start with?",h):i.call(b,"_","What type of ticket would you like to start with?",h)))+'</p>\n        <div class="btn-group btn-group--responsive">\n            <a href="#" class="l-mar-top-1 js-create-ticket btn btn--ico btn--secondary" href="#create-free-ticket" data-type="free" id="create-ticket-free-button">\n                <i class="ico-circle-plus"></i>',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Free ticket",h):i.call(b,"_","Free ticket",h)))+'\n            </a><!--\n            --><a href="#" class="l-mar-top-1 js-create-ticket btn btn--ico btn--secondary" href="#create-paid-ticket" data-type="paid" id="create-ticket-paid-button">\n                <i class="ico-circle-plus"></i>',
h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Paid ticket",h):i.call(b,"_","Paid ticket",h)))+'\n            </a><!--\n            --><a href="#" class="l-mar-top-1 js-create-ticket btn btn--ico btn--secondary" href="#create-donation-ticket" data-type="donation" id="create-ticket-donation-button">\n                <i class="ico-circle-plus"></i>',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Donation",h):i.call(b,"_","Donation",h)))+'\n            </a>\n        </div>\n        <div class="l-pad-vert-4 l-sm-pad-vert-3">\n            <a href="#expert_tip_tickets" id="create-tickets--learn-more text-body-large hide-small" class="js-d-modal">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Learn more about creating tickets",h):i.call(b,"_","Learn more about creating tickets",h)))+'</a>\n        </div>\n    </div>\n</div>\n\n\n\n<section class="js-ticket-summary is-hidden js-ticket-summary-container">\n    <div class="g-cell g-cell-1-1 l-mar-top-2 g-offset-lg-1-12 g-cell-lg-10-12 paid-ticket-container">\n        <div class="g-group create-tickets--header hide-small">\n            <div class="g-cell g-cell-4-12 g-cell--no-gutters l-block-h-2 l-pad-vert-2">\n                ',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Ticket name",h):i.call(b,"_","Ticket name",h)))+'<span class="required">*</span>\n            </div>\n            <div class="g-cell g-cell-2-12 g-cell--no-gutters l-padded-h-half l-pad-vert-2">\n                ',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Quantity available",h):i.call(b,"_","Quantity available",h)))+'<span class="required">*</span>\n            </div>\n            <div class="g-cell g-cell-2-12 g-cell--no-gutters l-padded-h-half l-pad-vert-2">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Price",h):i.call(b,"_","Price",h)))+'</div>\n            <div class="g-cell g-cell-2-12 g-cell--no-gutters l-padded-h-half l-pad-vert-2 l-align-center">\n                ',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Events",h):i.call(b,"_","Events",h)))+'\n                <a href="#" class="js-d-tooltip" title="',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Select the individual event(s) the ticket type applies to.",h):i.call(b,"_","Select the individual event(s) the ticket type applies to.",h)))+'">\n                    <i class="ico--small ico-info ico--color-understated" />\n                </a>\n            </div>\n        </div>\n\n        <div class="js-ticket-container create-tickets--container"></div>\n\n        <div class="g-group js-ticket-summary-footer create-tickets--footer l-pad-vert-2"></div>\n    </div>\n</section>\n\n<section class="js-deleted-tickets is-hidden"></section>\n'}),this.Handlebars.templates.ticket_summary_footer=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i=c.helperMissing,j=this.escapeExpression;return f+='<div class="g-cell g-cell-1-1 btn-group btn-group--responsive l-align-center l-pad-bot-1">\n    <a href="#" class="js-create-ticket js-create-ticket-footer btn btn--ico btn--secondary l-mar-top-1" data-type="free" id="create-ticket-free-button">\n        <i class="ico-circle-plus"></i>',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Free ticket",h):i.call(b,"_","Free ticket",h)))+'\n    </a><!--\n    --><a href="#" class="js-create-ticket js-create-ticket-footer btn btn--ico btn--secondary l-mar-top-1" data-type="paid" id="create-ticket-paid-button">\n            <i class="ico-circle-plus"></i>',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Paid ticket",h):i.call(b,"_","Paid ticket",h)))+'\n        </a><!--\n    --><a href="#" class="js-create-ticket js-create-ticket-footer btn btn--ico btn--secondary l-mar-top-1" data-type="donation" id="create-ticket-donation-button">\n        <i class="ico-circle-plus"></i>',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Donation",h):i.call(b,"_","Donation",h)))+'\n    </a>\n</div>\n<div class="js-unlimited-tickets-prompt-container"></div>\n<div class="g-cell g-cell-1-1 g-cell-lg-4-12 g-offset-lg-8-12 l-sm-align-center l-md-align-center l-lg-align-right js-event-capacity l-mar-top-2 is-hidden"></div>\n'}),this.Handlebars.templates.ticket_summary_reserved_footer=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i=c.helperMissing,j=this.escapeExpression;return f+='<div class="g-cell g-cell-1-1 l-sm-align-center l-md-align-center g-cell-lg-8-12 l-mar-top-2 hide-small">\n    <a class="btn js-designer-launch">\n        ',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Launch Venue Designer",h):i.call(b,"_","Launch Venue Designer",h)))+'\n    </a>\n</div>\n<div class="g-cell g-cell-1-1 g-cell-lg-4-12 l-sm-align-center l-md-align-center l-lg-align-right create-tickets--capacity js-event-capacity is-hidden l-mar-top-2"></div>\n'}),this.Handlebars.templates.ticket_row=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d="",e,f;return d+='\n            <input name="group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===o?e.call(a,{hash:{},data:b}):e),d+=p(e)+'-ticket_type" maxlength="255" type="text" id="id_group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===o?e.call(a,{hash:{},data:b}):e),d+=p(e)+'-ticket_type" class="form__input form__input--full-width js-ticket-name" placeholder=\'',f={hash:{},data:b},d+=p((e=c._||a&&a._,e?e.call(a,"Donation",f):q.call(a,"_","Donation",f)))+"' title='",f={hash:{},data:b},d+=p((e=c._||a&&a._,e?e.call(a,"Give your ticket a name, like Donation",f):q.call(a,"_","Give your ticket a name, like Donation",f)))+"'/>\n            "}function g(a,b){var d="",e,f;return d+='\n            <input name="group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===o?e.call(a,{hash:{},data:b}):e),d+=p(e)+'-ticket_type" maxlength="255" type="text" id="id_group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===o?e.call(a,{hash:{},data:b}):e),d+=p(e)+'-ticket_type" class="form__input form__input--full-width js-ticket-name" placeholder=\'',f={hash:{},data:b},d+=p((e=c._||a&&a._,e?e.call(a,"Early Bird, RSVP...",f):q.call(a,"_","Early Bird, RSVP...",f)))+"' title='",f={hash:{},data:b},d+=p((e=c._||a&&a._,e?e.call(a,"Give your ticket a name, like General Admission, Early Bird, RSVP, etc.",f):q.call(a,"_","Give your ticket a name, like General Admission, Early Bird, RSVP, etc.",f)))+"'/>\n            "}function h(a,b){var d="",e,f;return d+='\n        <input name="group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===o?e.call(a,{hash:{},data:b}):e),d+=p(e)+'-quantity_total" maxlength="6" id="id_group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===o?e.call(a,{hash:{},data:b}):e),d+=p(e)+'-quantity_total" type="text" class="form__input--full-width js-quantity-input" pattern="[0-9]*" placeholder="0 ',f={hash:{},data:b},d+=p((e=c._||a&&a._,e?e.call(a,"(Unlimited)",f):q.call(a,"_","(Unlimited)",f)))+'" title="',f={hash:{},data:b},d+=p((e=c._||a&&a._,e?e.call(a,'For unlimited donations, enter "0". To set a limit on donations, enter the total number available.',f):q.call(a,"_",'For unlimited donations, enter "0". To set a limit on donations, enter the total number available.',f)))+'"/>\n        '}function i(a,b){var d="",e,f;return d+='\n        <input name="group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===o?e.call(a,{hash:{},data:b}):e),d+=p(e)+'-quantity_total" maxlength="6" id="id_group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===o?e.call(a,{hash:{},data:b}):e),d+=p(e)+'-quantity_total" type="text" class="form__input--full-width js-quantity-input" pattern="[0-9]*" placeholder="100" title="',f={hash:{},data:b},d+=p((e=c._||a&&a._,e?e.call(a,"Enter the total number of tickets available for this ticket type",f):q.call(a,"_","Enter the total number of tickets available for this ticket type",f)))+'"/>\n        '}function j(a,b){var d;return(d=c.quantityErrors)?d=d.call(a,{hash:{},data:b}):(d=a&&a.quantityErrors,d=typeof d===o?d.call(a,{hash:{},data:b}):d),d||0===d?d:""}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k="",l,m,n,o="function",p=this.escapeExpression,q=c.helperMissing,r=this;return k+='<div class="hide-small">\n    <div class="js-change-price-tip js-change-price-large g-cell text-small l-mar-left-1 l-mar-top-2 is-hidden">\n        ',n={hash:{helpLink:(l=b&&b.helpDocs,null==l||l===!1?l:l.changeThatPrice)},data:e},l=c._||b&&b._,m=l?l.call(b,"<span class='text-significant'>NEW:</span> You just changed the name or price of a ticket that already has sales. <a href='%(helpLink)s' target='_blank'>Learn what that means</a> for your event.",n):q.call(b,"_","<span class='text-significant'>NEW:</span> You just changed the name or price of a ticket that already has sales. <a href='%(helpLink)s' target='_blank'>Learn what that means</a> for your event.",n),(m||0===m)&&(k+=m),k+='\n    </div>\n</div>\n<div class="js-ticket-row ticket-row" style="position: relative;">\n    <div class="g-cell g-cell-1-1 g-cell-md-5-12 g-cell--no-gutters sorting-gripper-container l-padded-h-half l-mar-top-2">\n        <div class="js-sorting-gripper sorting-gripper hide-small ">\n            <i class="ico-gripper ico--xxlarge ico--color-understated"></i>\n        </div>\n\n        <input type="hidden" name="group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-id" id="id_group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-id" value="',(m=c.id)?m=m.call(b,{hash:{},data:e}):(m=b&&b.id,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'"/>\n        <input type="hidden" name="group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-cid" id="id_group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-cid" value="',(m=c.cid)?m=m.call(b,{hash:{},data:e}):(m=b&&b.cid,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'" />\n        <input type="hidden" name="group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-has_attendees" id="id_group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-has_attendees" class="js-has-attendees" />\n        <input type="hidden" name="group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-current_event_set" id="id_group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-current_event_set" class="js-current-event-set" />\n        <input type="hidden" name="group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-new_event_set" id="id_group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-new_event_set" class="js-new-event-set" />\n\n        <label for="group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-ticket_type" class="label-primary hide-medium-accessible hide-large-accessible">',n={hash:{},data:e},k+=p((l=c._||b&&b._,l?l.call(b,"Ticket name",n):q.call(b,"_","Ticket name",n)))+"</label>\n        <div>\n            ",m=c["if"].call(b,b&&b.isDonation,{hash:{},inverse:r.program(3,g,e),fn:r.program(1,f,e),data:e}),(m||0===m)&&(k+=m),k+='\n            <span class="js-ticket-visibility create-tickets--visibility is-hidden">\n                <i class="ico-invisible ico--medium"></i>\n            </span>\n        </div>\n        <div class="form__field-error is-hidden js-error-for-name"></div>\n    </div>\n\n    <div class="g-cell g-cell-1-2 g-cell-md-2-12 g-cell--no-gutters l-mar-top-2 l-padded-h-half">\n        <label for="group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-quantity_total" class="label-primary hide-medium-accessible hide-large-accessible">',n={hash:{},data:e},k+=p((l=c._||b&&b._,l?l.call(b,"Quantity",n):q.call(b,"_","Quantity",n)))+"</label>\n        ",m=c["if"].call(b,b&&b.isDonation,{hash:{},inverse:r.program(7,i,e),fn:r.program(5,h,e),data:e}),(m||0===m)&&(k+=m),k+='\n        <div class="form__field-error is-hidden js-error-for-quantity"></div>\n        ',m=c["if"].call(b,b&&b.quantityErrors,{hash:{},inverse:r.noop,fn:r.program(9,j,e),data:e}),(m||0===m)&&(k+=m),k+='\n    </div>\n\n    <div class="g-cell g-cell-1-2 g-cell-md-3-12 g-cell--no-gutters l-mar-top-2 l-padded-h-half paid-ticket-container">\n        <label for="group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-cost" class="label-primary hide-medium-accessible hide-large-accessible">',n={hash:{},data:e},k+=p((l=c._||b&&b._,l?l.call(b,"Price",n):q.call(b,"_","Price",n)))+'</label>\n        <div class="js-payment-type"></div>\n    </div>\n\n    <div class="g-cell g-cell-1-1 g-cell-md-2-12 g-cell--no-gutters l-mar-top-2 l-padded-h-half report__row__tab-group">\n        <a class="js-ticket-settings-link report__row__tab narrow-tooltip icon-link" href="#" title="',n={hash:{},data:e},k+=p((l=c._||b&&b._,l?l.call(b,"Ticket Settings",n):q.call(b,"_","Ticket Settings",n)))+'">\n            <i class="ico-settings ico--medium" alt="Settings"></i>\n        </a>\n        <a id="id_group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-delete_ticket"\n           class="js-delete-ticket report__row__tab narrow-tooltip icon-link"\n           title="',n={hash:{},data:e},k+=p((l=c._||b&&b._,l?l.call(b,"Delete",n):q.call(b,"_","Delete",n)))+'"\n           href="#">\n            <i class="ico-trash ico--medium" alt="Delete"></i>\n        </a>\n        <div class="show-small">\n            <div class="js-change-price-tip l-pad-all-1 text-small g-cell is-hidden">\n                ',n={hash:{helpLink:(l=b&&b.helpDocs,null==l||l===!1?l:l.changeThatPrice)},data:e},l=c._||b&&b._,m=l?l.call(b,"<span class='text-significant'>NEW:</span> You just changed the name or price of a ticket that already has sales. <a href='%(helpLink)s' target='_blank'>Learn what that means</a> for your event.",n):q.call(b,"_","<span class='text-significant'>NEW:</span> You just changed the name or price of a ticket that already has sales. <a href='%(helpLink)s' target='_blank'>Learn what that means</a> for your event.",n),(m||0===m)&&(k+=m),k+='\n            </div>\n        </div>\n    </div>\n\n    <input type="hidden" name="group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-DELETE" id="id_group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-DELETE" class="js-ticket-delete" />\n    <input type="hidden" name="group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-ORDER" id="id_group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'-ORDER" class="js-ticket-order" value="',(m=c.index)?m=m.call(b,{hash:{},data:e}):(m=b&&b.index,m=typeof m===o?m.call(b,{hash:{},data:e}):m),k+=p(m)+'" />\n</div>\n'}),this.Handlebars.templates.ticket_row_series=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var f="",g,h,i,j=c.helperMissing,k=this;return f+='<div class="hide-small">\n    <div class="js-change-price-tip js-change-price-large g-cell text-small l-mar-left-1 l-mar-top-2 is-hidden">\n        ',i={hash:{helpLink:(g=b&&b.helpDocs,null==g||g===!1?g:g.changeThatPrice)},data:e},g=c._||b&&b._,h=g?g.call(b,"<span class='text-significant'>NEW:</span> You just changed the name or price of an on-sale ticket. <a href='%(helpLink)s' target='_blank'>Learn what that means</a> for your event.",i):j.call(b,"_","<span class='text-significant'>NEW:</span> You just changed the name or price of an on-sale ticket. <a href='%(helpLink)s' target='_blank'>Learn what that means</a> for your event.",i),(h||0===h)&&(f+=h),f+='\n    </div>\n</div>\n<div class="js-ticket-row ticket-row" style="position: relative;">\n    ',h=k.invokePartial(d.series_hidden_fields,"series_hidden_fields",b,c,d,e),(h||0===h)&&(f+=h),f+="\n    ",h=k.invokePartial(d.series_user_fields,"series_user_fields",b,c,d,e),(h||0===h)&&(f+=h),f+="\n    ",h=k.invokePartial(d.series_actions,"series_actions",b,c,d,e),(h||0===h)&&(f+=h),f+="\n</div>\n"}),this.Handlebars.templates.ticket_row_series_hidden_fields=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d="",e,f;return d+='\n            <input name="group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===l?e.call(a,{hash:{},data:b}):e),d+=m(e)+'-ticket_type" maxlength="255" type="text" id="id_group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===l?e.call(a,{hash:{},data:b}):e),d+=m(e)+'-ticket_type" class="form__input form__input--full-width js-ticket-name" placeholder=\'',f={hash:{},data:b},d+=m((e=c._||a&&a._,e?e.call(a,"Donation",f):n.call(a,"_","Donation",f)))+"' title='",f={hash:{},data:b},d+=m((e=c._||a&&a._,e?e.call(a,"Give your ticket a name, like Donation",f):n.call(a,"_","Give your ticket a name, like Donation",f)))+"'/>\n        "}function g(a,b){var d="",e,f;return d+='\n            <input name="group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===l?e.call(a,{hash:{},data:b}):e),d+=m(e)+'-ticket_type" maxlength="255" type="text" id="id_group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===l?e.call(a,{hash:{},data:b}):e),d+=m(e)+'-ticket_type" class="form__input form__input--full-width js-ticket-name" placeholder=\'',f={hash:{},data:b},d+=m((e=c._||a&&a._,e?e.call(a,"Early Bird, RSVP...",f):n.call(a,"_","Early Bird, RSVP...",f)))+"' title='",f={hash:{},data:b},d+=m((e=c._||a&&a._,e?e.call(a,"Give your ticket a name, like General Admission, Early Bird, RSVP, etc.",f):n.call(a,"_","Give your ticket a name, like General Admission, Early Bird, RSVP, etc.",f)))+"'/>\n        "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h="",i,j,k,l="function",m=this.escapeExpression,n=c.helperMissing,o=this;return h+='<div class="g-cell g-cell-1-1 g-cell-md-4-12 g-cell--no-gutters sorting-gripper-container l-padded-h-half l-mar-top-2">\n    <div class="js-sorting-gripper sorting-gripper hide-small ">\n        <i class="ico-gripper ico--xxlarge ico--color-understated"></i>\n    </div>\n\n    <input type="hidden" name="group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'-id" id="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'-id" value="',(i=c.id)?i=i.call(b,{hash:{},data:e}):(i=b&&b.id,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'"/>\n    <input type="hidden" name="group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'-cid" id="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'-cid" value="',(i=c.cid)?i=i.call(b,{hash:{},data:e}):(i=b&&b.cid,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'" />\n    <input type="hidden" name="group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'-has_attendees" id="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'-has_attendees" class="js-has-attendees" />\n    <input type="hidden" name="group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'-current_event_set" id="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'-current_event_set" class="js-current-event-set" />\n    <input type="hidden" name="group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'-new_event_set" id="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'-new_event_set" class="js-new-event-set" />\n    <input type="hidden" name="group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'-DELETE" id="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'-DELETE" class="js-ticket-delete" />\n    <input type="hidden" name="group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'-ORDER" id="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'-ORDER" class="js-ticket-order" value="',(i=c.index)?i=i.call(b,{hash:{},data:e}):(i=b&&b.index,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'" />\n\n    <label for="group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'-ticket_type" class="label-primary hide-medium-accessible hide-large-accessible">',k={hash:{},data:e},h+=m((i=c._||b&&b._,i?i.call(b,"Ticket name",k):n.call(b,"_","Ticket name",k)))+"</label>\n    <div>\n        ",j=c["if"].call(b,b&&b.isDonation,{hash:{},inverse:o.program(3,g,e),fn:o.program(1,f,e),data:e}),(j||0===j)&&(h+=j),h+='\n        <span class="js-ticket-visibility create-tickets--visibility is-hidden">\n            <i class="ico-invisible ico--medium"></i>\n        </span>\n    </div>\n    <div class="form__field-error is-hidden js-error-for-name"></div>\n</div>\n'}),this.Handlebars.templates.ticket_row_series_user_fields=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d="",e,f;return d+='\n        <input name="group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===m?e.call(a,{hash:{},data:b}):e),d+=n(e)+'-quantity_total" maxlength="6" id="id_group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===m?e.call(a,{hash:{},data:b}):e),d+=n(e)+'-quantity_total" type="text" class="form__input--full-width js-quantity-input" pattern="[0-9]*" placeholder="0 ',f={hash:{},data:b},d+=n((e=c._||a&&a._,e?e.call(a,"(Unlimited)",f):o.call(a,"_","(Unlimited)",f)))+'" title="',f={hash:{},data:b},d+=n((e=c._||a&&a._,e?e.call(a,'For unlimited donations, enter "0". To set a limit on donations, enter the total number available.',f):o.call(a,"_",'For unlimited donations, enter "0". To set a limit on donations, enter the total number available.',f)))+'"/>\n    '}function g(a,b){var d="",e,f;return d+='\n        <input name="group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===m?e.call(a,{hash:{},data:b}):e),d+=n(e)+'-quantity_total" maxlength="6" id="id_group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===m?e.call(a,{hash:{},data:b}):e),d+=n(e)+'-quantity_total" type="text" class="form__input--full-width js-quantity-input" pattern="[0-9]*" placeholder="100" title="',f={hash:{},data:b},d+=n((e=c._||a&&a._,e?e.call(a,"Enter the total number of tickets available for this ticket type",f):o.call(a,"_","Enter the total number of tickets available for this ticket type",f)))+'"/>\n    '}function h(a,b){var d;return(d=c.quantityErrors)?d=d.call(a,{hash:{},data:b}):(d=a&&a.quantityErrors,d=typeof d===m?d.call(a,{hash:{},data:b}):d),d||0===d?d:""}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i="",j,k,l,m="function",n=this.escapeExpression,o=c.helperMissing,p=this;return i+='<div class="g-cell g-cell-1-2 g-cell-md-2-12 g-cell--no-gutters l-mar-top-2 l-padded-h-half">\n    <label for="group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b&&b.numTicket,j=typeof j===m?j.call(b,{hash:{},data:e}):j),i+=n(j)+'-quantity_total" class="label-primary hide-medium-accessible hide-large-accessible">',l={hash:{},data:e},i+=n((j=c._||b&&b._,j?j.call(b,"Quantity",l):o.call(b,"_","Quantity",l)))+"</label>\n    ",k=c["if"].call(b,b&&b.isDonation,{hash:{},inverse:p.program(3,g,e),fn:p.program(1,f,e),data:e}),(k||0===k)&&(i+=k),i+='\n    <div class="form__field-error is-hidden js-error-for-quantity"></div>\n    ',k=c["if"].call(b,b&&b.quantityErrors,{hash:{},inverse:p.noop,fn:p.program(5,h,e),data:e}),(k||0===k)&&(i+=k),i+='\n</div>\n\n<div class="g-cell g-cell-1-2 g-cell-md-2-12 g-cell--no-gutters l-mar-top-2 l-padded-h-half paid-ticket-container">\n    <label for="group-tickets-',(k=c.numTicket)?k=k.call(b,{hash:{},data:e}):(k=b&&b.numTicket,k=typeof k===m?k.call(b,{hash:{},data:e}):k),i+=n(k)+'-cost" class="label-primary hide-medium-accessible hide-large-accessible">',l={hash:{},data:e},i+=n((j=c._||b&&b._,j?j.call(b,"Price",l):o.call(b,"_","Price",l)))+'</label>\n    <div class="js-payment-type"></div>\n</div>\n'}),this.Handlebars.templates.ticket_row_series_actions=Handlebars.template(function(a,b,c,d,e){function f(a,b){return" is-disabled "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g="",h,i,j,k=this,l="function",m=this.escapeExpression,n=c.helperMissing;return g+='<div class="g-cell g-cell-1-2 g-cell-md-2-12 g-cell--no-gutters l-mar-top-2 l-padded-h-half l-align-center">\n    <div class="l-mar-top-3">\n        <a class="js-ticket-edit-children',h=c["if"].call(b,b&&b.readOnly,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(h||0===h)&&(g+=h),g+='" href="#" data-automation="ticket-edit-children-',(h=c.id)?h=h.call(b,{hash:{},data:e}):(h=b&&b.id,h=typeof h===l?h.call(b,{hash:{},data:e}):h),g+=m(h)+'">',j={hash:{},data:e},g+=m((h=c._||b&&b._,h?h.call(b,"All",j):n.call(b,"_","All",j)))+'</a>\n    </div>\n</div>\n\n<div class="g-cell g-cell-1-2 g-cell-md-2-12 g-cell--no-gutters l-mar-top-2 l-padded-h-half">\n    <div class="l-pad-top-3 l-pad-bot-3">\n        <a class="js-ticket-settings-link l-pad-right-3 narrow-tooltip icon-link" href="#" title="',j={hash:{},data:e},g+=m((h=c._||b&&b._,h?h.call(b,"Ticket Settings",j):n.call(b,"_","Ticket Settings",j)))+'">\n            <i class="ico-settings ico--medium" alt="Settings"></i>\n        </a>\n        <a id="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),g+=m(i)+'-delete_ticket"\n           class="js-delete-ticket l-pad-left-3 l-pad-right-3 narrow-tooltip icon-link"\n           title="',j={hash:{},data:e},g+=m((h=c._||b&&b._,h?h.call(b,"Delete",j):n.call(b,"_","Delete",j)))+'"\n           href="#">\n            <i class="ico-trash ico--medium" alt="Delete"></i>\n        </a>\n        <div class="show-small">\n            <div class="js-change-price-tip l-pad-all-1 text-small g-cell is-hidden">\n                ',j={hash:{helpLink:(h=b&&b.helpDocs,null==h||h===!1?h:h.changeThatPrice)},data:e},h=c._||b&&b._,i=h?h.call(b,"<span class='text-significant'>NEW:</span> You just changed the name or price of an on-sale ticket. <a href='%(helpLink)s' target='_blank'>Learn what that means</a> for your event.",j):n.call(b,"_","<span class='text-significant'>NEW:</span> You just changed the name or price of an on-sale ticket. <a href='%(helpLink)s' target='_blank'>Learn what that means</a> for your event.",j),(i||0===i)&&(g+=i),g+="\n            </div>\n        </div>\n    </div>\n</div>\n"}),this.Handlebars.templates.ticket_row_reserved=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i,j=c.helperMissing,k="function",l=this.escapeExpression;return f+='<div class="hide-small">\n    <div class="js-change-price-tip js-change-price-large g-cell text-small l-mar-left-1 l-mar-top-2 is-hidden">\n        ',i={hash:{helpLink:(g=b&&b.helpDocs,null==g||g===!1?g:g.changeThatPrice)},data:e},g=c._||b&&b._,h=g?g.call(b,"<span class='text-significant'>NEW:</span> You just changed the name or price of a ticket that already has sales. <a href='%(helpLink)s' target='_blank'>Learn what that means</a> for your event.",i):j.call(b,"_","<span class='text-significant'>NEW:</span> You just changed the name or price of a ticket that already has sales. <a href='%(helpLink)s' target='_blank'>Learn what that means</a> for your event.",i),(h||0===h)&&(f+=h),f+='\n    </div>\n</div>\n<div class="ticket-row">\n    <div class="g-cell g-cell-1-1 g-cell-md-5-12 l-mar-top-2 l-padded-h-half create-tickets--reserved-row sorting-gripper-container">\n        <div class="js-sorting-gripper sorting-gripper hide-small">\n            <i class="ico-gripper ico--xxlarge ico--color-brand-white"></i>\n        </div>\n        <input type="hidden" name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-id" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-id" value="',(h=c.id)?h=h.call(b,{hash:{},data:e}):(h=b&&b.id,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'"/>\n        <input type="hidden" name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-cid" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-cid" value="',(h=c.cid)?h=h.call(b,{hash:{},data:e}):(h=b&&b.cid,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'" />\n        <input type="hidden" name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-has_attendees" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-has_attendees" class="js-has-attendees" />\n        <input type="hidden" name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-current_event_set" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-current_event_set" class="js-current-event-set" />\n        <input type="hidden" name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-new_event_set" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-new_event_set" class="js-new-event-set" />\n        <label for="group-tickets-',(h=c.numTicket)?h=h.call(b,{
hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-ticket_type" class="label-primary hide-medium-accessible hide-large-accessible">',i={hash:{},data:e},f+=l((g=c._||b&&b._,g?g.call(b,"Ticket name",i):j.call(b,"_","Ticket name",i)))+'</label>\n        <div>\n            <input name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-ticket_type" maxlength="255" type="text" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-ticket_type" class="form__input form__input--reserved-ticket-width js-ticket-name" placeholder=\'',i={hash:{},data:e},f+=l((g=c._||b&&b._,g?g.call(b,"Examples: Early Bird, RSVP",i):j.call(b,"_","Examples: Early Bird, RSVP",i)))+"' title='",i={hash:{},data:e},f+=l((g=c._||b&&b._,g?g.call(b,"Give your ticket a name, like General Admission, Early Bird, RSVP, etc.",i):j.call(b,"_","Give your ticket a name, like General Admission, Early Bird, RSVP, etc.",i)))+'\'/>\n            <span class="js-ticket-visibility create-tickets--visibility is-hidden">\n                <i class="ico-invisible ico--medium"></i>\n            </span>\n        </div>\n        <div class="form__field-error is-hidden js-error-for-name"></div>\n    </div>\n\n\n    <div class="g-cell g-cell-1-2 g-cell-md-2-12 l-mar-top-2 l-padded-h-half">\n        <label for="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-quantity_total" class="label-primary hide-medium-accessible hide-large-accessible">',i={hash:{},data:e},f+=l((g=c._||b&&b._,g?g.call(b,"Quantity",i):j.call(b,"_","Quantity",i)))+'</label>\n        <input name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-quantity_total" maxlength="6" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-quantity_total" type="hidden" class="js-quantity-input"/>\n        <div class="l-mar-top-2 js-quantity-text">0</div>\n    </div>\n\n    <div class="g-cell g-cell-1-2 g-cell-md-3-12 l-mar-top-2 l-padded-h-half paid-ticket-container">\n        <label for="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-cost" class="label-primary hide-medium-accessible hide-large-accessible">',i={hash:{},data:e},f+=l((g=c._||b&&b._,g?g.call(b,"Price",i):j.call(b,"_","Price",i)))+'</label>\n        <div class="js-payment-type"></div>\n    </div>\n\n    <div class="g-cell g-cell-1-1 g-cell-md-2-12 l-mar-top-2 l-padded-h-half report__row__tab-group">\n        <a class="js-ticket-settings-link report__row__tab narrow-tooltip icon-link" href="#" title="',i={hash:{},data:e},f+=l((g=c._||b&&b._,g?g.call(b,"Ticket Settings",i):j.call(b,"_","Ticket Settings",i)))+'">\n            <i class="ico-settings ico--medium" alt="Settings"></i>\n        </a>\n        <div class="show-small">\n            <div class="js-change-price-tip l-pad-all-1 text-small g-cell is-hidden">\n                ',i={hash:{helpLink:(g=b&&b.helpDocs,null==g||g===!1?g:g.changeThatPrice)},data:e},g=c._||b&&b._,h=g?g.call(b,"<span class='text-significant'>NEW:</span> You just changed the name or price of a ticket that already has sales. <a href='%(helpLink)s' target='_blank'>Learn what that means</a> for your event.",i):j.call(b,"_","<span class='text-significant'>NEW:</span> You just changed the name or price of a ticket that already has sales. <a href='%(helpLink)s' target='_blank'>Learn what that means</a> for your event.",i),(h||0===h)&&(f+=h),f+='\n            </div>\n        </div>\n    </div>\n\n    <input type="hidden" name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-ORDER" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'-ORDER" class="js-ticket-order" value="',(h=c.index)?h=h.call(b,{hash:{},data:e}):(h=b&&b.index,h=typeof h===k?h.call(b,{hash:{},data:e}):h),f+=l(h)+'" />\n</div>\n'}),this.Handlebars.templates.ticket_settings=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d="",e,f;return d+='\n                    <div class="g-cell g-cell-1-1 l-mar-top-1">\n                        <select class="js-d-select-box js-ticket-sales-channel-option" name="group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===l?e.call(a,{hash:{},data:b}):e),d+=m(e)+'-sales_channel_option" id="id_group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===l?e.call(a,{hash:{},data:b}):e),d+=m(e)+'-sales_channel_option">\n                            <option value="everywhere">',f={hash:{},data:b},d+=m((e=c._||a&&a._,e?e.call(a,"Everywhere",f):n.call(a,"_","Everywhere",f)))+'</option>\n                            <option value="online">',f={hash:{},data:b},d+=m((e=c._||a&&a._,e?e.call(a,"Online only",f):n.call(a,"_","Online only",f)))+'</option>\n                            <option value="atd">',f={hash:{},data:b},d+=m((e=c._||a&&a._,e?e.call(a,"At the door only",f):n.call(a,"_","At the door only",f)))+"</option>\n                        </select>\n                    </div>\n                "}function g(a,b){var d="",e,f,g;return d+='\n                    <div class="l-mar-top-1 g-cell g-cell-1-1">\n                        <input data-check="{}" name="group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===l?e.call(a,{hash:{},data:b}):e),d+=m(e)+'-available_online" id="id_group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===l?e.call(a,{hash:{},data:b}):e),d+=m(e)+'-available_online" type="checkbox" class="js-ticket-sales-channel-available_online" />\n                        <label for="id_group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a&&a.numTicket,e=typeof e===l?e.call(a,{hash:{},data:b}):e),d+=m(e)+'-available_online">\n                            ',g={hash:{},data:b},d+=m((e=c._||a&&a._,e?e.call(a,"Online sales (web)",g):n.call(a,"_","Online sales (web)",g)))+'\n                        </label>\n                    </div>\n                    <div class="l-mar-top-1 js-show-sales-channel-atd g-cell g-cell-1-1">\n                        <input data-check="{}" name="group-tickets-',(f=c.numTicket)?f=f.call(a,{hash:{},data:b}):(f=a&&a.numTicket,f=typeof f===l?f.call(a,{hash:{},data:b}):f),d+=m(f)+'-available_atd" id="id_group-tickets-',(f=c.numTicket)?f=f.call(a,{hash:{},data:b}):(f=a&&a.numTicket,f=typeof f===l?f.call(a,{hash:{},data:b}):f),d+=m(f)+'-available_atd" type="checkbox" class="js-ticket-sales-channel-available_atd" />\n                        <label for="id_group-tickets-',(f=c.numTicket)?f=f.call(a,{hash:{},data:b}):(f=a&&a.numTicket,f=typeof f===l?f.call(a,{hash:{},data:b}):f),d+=m(f)+'-available_atd">\n                            ',g={hash:{},data:b},d+=m((e=c._||a&&a._,e?e.call(a,"At the door sales using Eventbrite Organizer (app)",g):n.call(a,"_","At the door sales using Eventbrite Organizer (app)",g)))+"\n                        </label>\n                    </div>\n                "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h="",i,j,k,l="function",m=this.escapeExpression,n=c.helperMissing,o=this;return h+='<div class="ticket-settings-container js-ticket-settings">\n    <div class="l-mar-top-2 g-cell g-cell-1-1">\n        <div class="js-ticket-name l-mar-top-1 text-body-large"></div>\n        <hr class="l-mar-top-2" />\n    </div>\n\n    <div class="responsive-form text-body-medium l-pad-vert-3">\n        <div class="js-help-target g-group">\n            <label class="responsive-form__fieldset-legend g-cell g-cell-1-1" for="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===l?i.call(b,{hash:{},data:e}):i),h+=m(i)+'-description">\n                ',k={hash:{},data:e},h+=m((i=c._||b&&b._,i?i.call(b,"Ticket description",k):n.call(b,"_","Ticket description",k)))+'\n            </label>\n            <div class="g-cell g-cell-1-1 g-cell-md-2-3 g-cell-lg-3-4 ">\n                <textarea data-check="{}" name="group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b&&b.numTicket,j=typeof j===l?j.call(b,{hash:{},data:e}):j),h+=m(j)+'-description" id="id_group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b&&b.numTicket,j=typeof j===l?j.call(b,{hash:{},data:e}):j),h+=m(j)+'-description" class="js-ticket-description" placeholder=\'',k={hash:{},data:e},h+=m((i=c._||b&&b._,i?i.call(b,"Tell your attendees more about this ticket type.",k):n.call(b,"_","Tell your attendees more about this ticket type.",k)))+'\'></textarea>\n                <input data-check="{}" type="hidden" name="group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b&&b.numTicket,j=typeof j===l?j.call(b,{hash:{},data:e}):j),h+=m(j)+'-hide_description"\n                id="id_group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b&&b.numTicket,j=typeof j===l?j.call(b,{hash:{},data:e}):j),h+=m(j)+'-hide_description" class="js-show-ticket-description-hidden"/>\n                <div class="l-pad-vert-1">\n                    <input data-check="{}" id="id_group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b&&b.numTicket,j=typeof j===l?j.call(b,{hash:{},data:e}):j),h+=m(j)+'-show_description" type="checkbox" class="js-show-ticket-description"/>\n                    <label for="id_group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b&&b.numTicket,j=typeof j===l?j.call(b,{hash:{},data:e}):j),h+=m(j)+'-show_description">\n                        ',k={hash:{},data:e},h+=m((i=c._||b&&b._,i?i.call(b,"Show ticket description on event page",k):n.call(b,"_","Show ticket description on event page",k)))+'\n                    </label>\n                </div>\n            </div>\n        </div>\n\n        <div class="js-help-target js-ticket-sales-channel g-group">\n            <div class="g-vertical-group g-cell-1-1 g-cell-md-2-3 g-cell-lg-3-4 ">\n                <h4 class="responsive-form__fieldset-legend g-cell g-cell-1-1 l-mar-top-3">\n                    ',k={hash:{},data:e},h+=m((i=c._||b&&b._,i?i.call(b,"Sales channel",k):n.call(b,"_","Sales channel",k)))+'\n                    <i class="ico-info ico--color-brand-light-blue js-d-tooltip js-sales-channel-help-tooltip" title=\'',k={hash:{},data:e},h+=m((i=c._||b&&b._,i?i.call(b,"This is where attendees can register or buy this ticket.",k):n.call(b,"_","This is where attendees can register or buy this ticket.",k)))+"'></i>\n                </h4>\n                ",j=c["if"].call(b,b&&b.isSalesChannelDropdownEnabled,{hash:{},inverse:o.program(3,g,e),fn:o.program(1,f,e),data:e}),(j||0===j)&&(h+=j),h+='\n            </div>\n            <div class="g-cell g-cell-1-3 g-cell-lg-1-4 l-mar-top-4 js-help-text hide-small form__group--help-text">\n                <div class="form__group--help-text-container">\n                    ',k={hash:{},data:e},h+=m((i=c._||b&&b._,i?i.call(b,"Select where to sell your tickets: online or at the door using the Eventbrite Organizer iOS app",k):n.call(b,"_","Select where to sell your tickets: online or at the door using the Eventbrite Organizer iOS app",k)))+'\n                </div>\n            </div>\n        </div>\n\n        <div class="js-help-target js-ticket-fees g-group gticket_settings_service_fees l-mar-top-3"></div>\n\n        <div class="js-help-target js-ticket-sales"></div>\n\n        <div class="js-ticket-visibility g-group l-mar-top-3"></div>\n\n        <div class="js-help-target js-min-max-tickets l-mar-top-3 g-group">\n            <h4 class="responsive-form__fieldset-legend g-cell g-cell-1-1">\n                ',k={hash:{},data:e},h+=m((i=c._||b&&b._,i?i.call(b,"Tickets allowed per order",k):n.call(b,"_","Tickets allowed per order",k)))+'\n            </h4>\n            <div class="g-cell g-cell-1-1 g-cell-md-2-3 g-cell-lg-3-4">\n                <div class="g-group">\n                    <div class="g-cell g-cell-1-2 g-cell-md-1-4 g-cell--no-gutters l-mar-top-3">\n                        <input type="text" name="group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b&&b.numTicket,j=typeof j===l?j.call(b,{hash:{},data:e}):j),h+=m(j)+'-order_minimum" value="1" id="id_group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b&&b.numTicket,j=typeof j===l?j.call(b,{hash:{},data:e}):j),h+=m(j)+'-order_minimum" class="js-order-minimum l-pad-hor-1" pattern="[0-9]*" />\n                        <label for="id_group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b&&b.numTicket,j=typeof j===l?j.call(b,{hash:{},data:e}):j),h+=m(j)+'-order_minimum">\n                            ',k={hash:{},data:e},h+=m((i=c._||b&&b._,i?i.call(b,"minimum",k):n.call(b,"_","minimum",k)))+'\n                        </label>\n                        <div class="js-error-for-order_min form__field-error"></div>\n                    </div>\n                    <div class="g-cell g-cell-1-2 g-cell-md-1-4 g-cell--no-gutters l-block-h-1 l-mar-top-3">\n                        <input type="text" name="group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b&&b.numTicket,j=typeof j===l?j.call(b,{hash:{},data:e}):j),h+=m(j)+'-order_limit" placeholder="10" id="id_group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b&&b.numTicket,j=typeof j===l?j.call(b,{hash:{},data:e}):j),h+=m(j)+'-order_limit" class="js-order-maximum l-pad-hor-1" pattern="[0-9]*" />\n                        <label for="id_group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b&&b.numTicket,j=typeof j===l?j.call(b,{hash:{},data:e}):j),h+=m(j)+'-order_limit">\n                            ',k={hash:{},data:e},h+=m((i=c._||b&&b._,i?i.call(b,"maximum",k):n.call(b,"_","maximum",k)))+'\n                        </label>\n                        <div class="js-error-for-order_limit form__field-error"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="js-help-text hide-small g-cell g-cell-md-1-3 g-cell-lg-1-4 form__group--help-text">\n                <div class="form__group--help-text-container">\n                    ',k={hash:{},data:e},h+=m((i=c._||b&&b._,i?i.call(b,"Optional: Limit the minimum or maximum number of tickets per order",k):n.call(b,"_","Optional: Limit the minimum or maximum number of tickets per order",k)))+'\n                </div>\n            </div>\n        </div>\n        <div class="js-group-tickets-',(j=c.cid)?j=j.call(b,{hash:{},data:e}):(j=b&&b.cid,j=typeof j===l?j.call(b,{hash:{},data:e}):j),h+=m(j)+' g-cell g-cell-1-1 l-mar-top-3 group-tickets-container">\n            <div class="l-mar-left-2 js-group-tickets-loader-',(j=c.cid)?j=j.call(b,{hash:{},data:e}):(j=b&&b.cid,j=typeof j===l?j.call(b,{hash:{},data:e}):j),h+=m(j)+'"></div>\n        </div>\n    </div>\n\n    <div class="l-align-center g-cell g-cell-1-1">\n        <hr />\n        <div class="l-pad-vert-3">\n            <a class="js-minimize-settings-link" href="#">\n                <i class="ico-circle ico-omnes-arrow-up ico--bullet"></i>\n                ',k={hash:{},data:e},h+=m((i=c._||b&&b._,i?i.call(b,"Minimize settings",k):n.call(b,"_","Minimize settings",k)))+"\n            </a>\n        </div>\n    </div>\n</div>\n"}),this.Handlebars.templates.ticket_cost_paid=Handlebars.template(function(a,b,c,d,e){function f(a,b){return"\n        responsive-form__input--currency--suffix\n"}function g(a,b){return"\n        responsive-form__input--currency--long\n"}function h(a,b){var d;return(d=c.costErrors)?d=d.call(a,{hash:{},data:b}):(d=a&&a.costErrors,d=typeof d===m?d.call(a,{hash:{},data:b}):d),d||0===d?d:""}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i="",j,k,l,m="function",n=this,o=this.escapeExpression,p=c.helperMissing;return i+='<div class="\n        responsive-form__input--currency\n',j=c["if"].call(b,b&&b.currencySuffix,{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(j||0===j)&&(i+=j),i+="\n",j=c["if"].call(b,b&&b.currencyLong,{hash:{},inverse:n.noop,fn:n.program(3,g,e),data:e}),(j||0===j)&&(i+=j),i+='\n    ">\n    <div class="responsive-form__input--currency__symbol">',(j=c.currencySymbol)?j=j.call(b,{hash:{},data:e}):(j=b&&b.currencySymbol,j=typeof j===m?j.call(b,{hash:{},data:e}):j),i+=o(j)+'</div>\n    <input\n        type="text"\n        name="group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b&&b.numTicket,j=typeof j===m?j.call(b,{hash:{},data:e}):j),i+=o(j)+'-cost"\n        id="id_group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b&&b.numTicket,j=typeof j===m?j.call(b,{hash:{},data:e}):j),i+=o(j)+'-cost"\n        class="js-price-input form__input--xxsmall"\n        placeholder="',(j=c.ticketCostPlaceholder)?j=j.call(b,{hash:{},data:e}):(j=b&&b.ticketCostPlaceholder,j=typeof j===m?j.call(b,{hash:{},data:e}):j),i+=o(j)+"\"\n        title='",l={hash:{},data:e},i+=o((j=c._||b&&b._,j?j.call(b,"Set your ticket price. (You'll select payout options later on the Manage page)",l):p.call(b,"_","Set your ticket price. (You'll select payout options later on the Manage page)",l)))+"'\n        maxlength='11'\n    />\n\n    <input type=\"hidden\" name=\"group-tickets-",(k=c.numTicket)?k=k.call(b,{hash:{},data:e}):(k=b&&b.numTicket,k=typeof k===m?k.call(b,{hash:{},data:e}):k),i+=o(k)+'-fee" id="id_group-tickets-',(k=c.numTicket)?k=k.call(b,{hash:{},data:e}):(k=b&&b.numTicket,k=typeof k===m?k.call(b,{hash:{},data:e}):k),i+=o(k)+'-fee" class="js-ticket-fee-hidden">\n\n</div>\n\n<div class="js-ticket-buyer-total text-body-small text-body--faint is-hidden">\n\n    ',l={hash:{},data:e},i+=o((j=c._||b&&b._,j?j.call(b,"Buyer total:",l):p.call(b,"_","Buyer total:",l)))+'\n    <span class="js-ticket-buyer-total-content">\n        <a href="#" class="js-ticket-buyer-total-number"></a>\n\n        <a class="js-ticket-fee-summary-link tooltip--important is-hidden" href="#">\n            <i class="ico-information ico--color-understated ico--small" data-automation="tooltip-ico-information"></i>\n        </a>\n    </span>\n    <span class="js-ticket-buyer-total-loader is-hidden">\n        <svg class="eds-progress-indicator--circular eds-fx--rotate" viewBox="0 0 100 100" style="width:15px;height:15px;" aria-valuetext="{_ "In progress" }}">\n          <defs>\n            <linearGradient id="stroke-small-thin-gradient-indeterminate">\n              <stop offset="0%" stop-color="#1de1e1"></stop>\n              <stop offset="50%" stop-color="#1de1e1"></stop>\n              <stop offset="100%" stop-color="#6aedc7" stop-opacity="0"></stop>\n            </linearGradient>\n          </defs>\n          <path d="M93.5,50C93.5,74,74,93.5,50,93.5S6.5,74,6.5,50S26,6.5,50,6.5" stroke="url(#stroke-small-thin-gradient-indeterminate)" stroke-width="4" stroke-linecap="round" shape-rendering="geometricPrecision" fill="none"></path>\n        </svg>\n        <progress class="eds-is-hidden-accessible"></progress>\n    </span>\n</div>\n\n<span class="form__field-error is-hidden js-error-for-ticketPrice"></span>\n\n<input type="hidden" name="group-tickets-',(k=c.numTicket)?k=k.call(b,{hash:{},data:e}):(k=b&&b.numTicket,k=typeof k===m?k.call(b,{hash:{},data:e}):k),i+=o(k)+'-is_donation" value="False" id="id_group-tickets-',(k=c.numTicket)?k=k.call(b,{hash:{},data:e}):(k=b&&b.numTicket,k=typeof k===m?k.call(b,{hash:{},data:e}):k),i+=o(k)+'-is_donation" />\n\n',k=c["if"].call(b,b&&b.costErrors,{hash:{},inverse:n.noop,fn:n.program(5,h,e),data:e}),(k||0===k)&&(i+=k),i+="\n"}),this.Handlebars.templates.ticket_cost_free=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d;return(d=c.costErrors)?d=d.call(a,{hash:{},data:b}):(d=a&&a.costErrors,d=typeof d===k?d.call(a,{hash:{},data:b}):d),d||0===d?d:""}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g="",h,i,j,k="function",l=c.helperMissing,m=this.escapeExpression,n=this;return g+='<div class="l-mar-top-2">',j={hash:{},data:e},g+=m((h=c._||b&&b._,h?h.call(b,"Free",j):l.call(b,"_","Free",j)))+'</div>\n\n<input type="hidden" id="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===k?i.call(b,{hash:{},data:e}):i),g+=m(i)+'-fee" name="group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===k?i.call(b,{hash:{},data:e}):i),g+=m(i)+'-fee" value="0" />\n<input type="hidden" id="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===k?i.call(b,{hash:{},data:e}):i),g+=m(i)+'-cost" name="group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===k?i.call(b,{hash:{},data:e}):i),g+=m(i)+'-cost" value="0.00" />\n\n<input type="hidden" name="group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===k?i.call(b,{hash:{},data:e}):i),g+=m(i)+'-is_donation" value="False" id="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===k?i.call(b,{hash:{},data:e}):i),g+=m(i)+'-is_donation" />\n\n',i=c["if"].call(b,b&&b.costErrors,{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(i||0===i)&&(g+=i),g+="\n"}),this.Handlebars.templates.ticket_cost_donation=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d;return(d=c.costErrors)?d=d.call(a,{hash:{},data:b}):(d=a&&a.costErrors,d=typeof d===k?d.call(a,{hash:{},data:b}):d),d||0===d?d:""}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g="",h,i,j,k="function",l=c.helperMissing,m=this.escapeExpression,n=this;return g+='<div class="l-mar-top-2">',j={hash:{},data:e},g+=m((h=c._||b&&b._,h?h.call(b,"Donation",j):l.call(b,"_","Donation",j)))+'</div>\n\n<input type="hidden" id="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===k?i.call(b,{hash:{},data:e}):i),g+=m(i)+'-fee" name="group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===k?i.call(b,{hash:{},data:e}):i),g+=m(i)+'-fee" value="0" />\n<input type="hidden" name="group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===k?i.call(b,{hash:{},data:e}):i),g+=m(i)+'-is_donation" value="True" id="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===k?i.call(b,{hash:{},data:e}):i),g+=m(i)+'-is_donation" />\n<input type="hidden" id="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===k?i.call(b,{hash:{},data:e}):i),g+=m(i)+'-cost" name="group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b&&b.numTicket,i=typeof i===k?i.call(b,{hash:{},data:e}):i),g+=m(i)+'-cost" value="0.00" />\n\n',i=c["if"].call(b,b&&b.costErrors,{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(i||0===i)&&(g+=i),g+="\n"}),this.Handlebars.templates.ticket_cost_summary=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d="",e,f,g;return d+="\n            <tr>\n                <td>",g={hash:{},data:b},d+=t((e=c._||a&&a._,e?e.call(a,"Tax",g):s.call(a,"_","Tax",g)))+'</td>\n                <td data-automation="ticket-cost-summary-tax">',(f=c.taxAbsorbed)?f=f.call(a,{hash:{},data:b}):(f=a&&a.taxAbsorbed,f=typeof f===u?f.call(a,{hash:{},data:b}):f),d+=t(f)+"</td>\n            </tr>\n        "}function g(a,b){var d="",e;return d+="\n            ",e=c["if"].call(a,a&&a.hasTaxes,{hash:{},inverse:v.noop,fn:v.program(4,h,b),data:b}),(e||0===e)&&(d+=e),d+="\n        "}function h(a,b){var d="",e,f,g;return d+="\n                <tr>\n                    <td>",g={hash:{},data:b},d+=t((e=c._||a&&a._,e?e.call(a,"Tax",g):s.call(a,"_","Tax",g)))+'</td>\n                    <td data-automation="ticket-cost-summary-tax">',(f=c.tax)?f=f.call(a,{hash:{},data:b}):(f=a&&a.tax,f=typeof f===u?f.call(a,{hash:{},data:b}):f),d+=t(f)+"</td>\n                </tr>\n            "}function i(a,b){var d="",e;return d+='\n                <td data-automation="ticket-cost-summary-fee-with-tax">\n                    ',(e=c.fee)?e=e.call(a,{hash:{},data:b}):(e=a&&a.fee,e=typeof e===u?e.call(a,{hash:{},data:b}):e),d+=t(e)+" ",(e=c.taxPassed)?e=e.call(a,{hash:{},data:b}):(e=a&&a.taxPassed,e=typeof e===u?e.call(a,{hash:{},data:b}):e),d+=t(e)+"\n                </td>\n            "}function j(a,b){var d="",e;return d+='\n                <td data-automation="ticket-cost-summary-fee">',(e=c.fee)?e=e.call(a,{hash:{},data:b}):(e=a&&a.fee,e=typeof e===u?e.call(a,{hash:{},data:b}):e),d+=t(e)+"</td>\n            "}function k(a,b){var d="",e,f;return d+='\n        <tr>\n            <td data-automation="ticket-cost-summary-eb-tax">\n                ',f={hash:{eb_tax:a&&a.ebTax,eb_tax_name:a&&a.ebTaxName},data:b},d+=t((e=c._||a&&a._,e?e.call(a,"(incl. %(eb_tax)s %(eb_tax_name)s)",f):s.call(a,"_","(incl. %(eb_tax)s %(eb_tax_name)s)",f)))+"\n            </td>\n        </tr>\n        "}function l(a,b){var d="",e;return d+="\n        <tr>\n            <td>\n                ",(e=c.cappedFeeHelperText)?e=e.call(a,{hash:{},data:b}):(e=a&&a.cappedFeeHelperText,e=typeof e===u?e.call(a,{hash:{},data:b}):e),d+=t(e)+"\n            </td>\n        </tr>\n        "}function m(a,b){var d="",e;return d+="\n            ",e=c["if"].call(a,a&&a.hasToDisplayAtdDisclaimer,{hash:{},inverse:v.noop,fn:v.program(15,n,b),data:b}),(e||0===e)&&(d+=e),d+="\n        "}function n(a,b){var d="",e,f;return d+='\n                <tr>\n                    <td class="atd__cell" colspan="2">\n                        ',f={hash:{},data:b},d+=t((e=c._||a&&a._,e?e.call(a,"(Payment Processing fees cannot be passed on)",f):s.call(a,"_","(Payment Processing fees cannot be passed on)",f)))+"\n                    </td>\n                </tr>\n            "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var o="",p,q,r,s=c.helperMissing,t=this.escapeExpression,u="function",v=this;return o+='<table class="report report--item-value report--section-grid">\n    <tbody>\n        <tr>\n        	<td>',r={hash:{},data:e},o+=t((p=c._||b&&b._,p?p.call(b,"Ticket Price",r):s.call(b,"_","Ticket Price",r)))+'</td>\n        	<td data-automation="ticket-cost-summary-price">',(q=c.ticketPrice)?q=q.call(b,{hash:{},data:e}):(q=b&&b.ticketPrice,q=typeof q===u?q.call(b,{hash:{},data:e}):q),o+=t(q)+"</td>\n        </tr>\n\n        ",q=c["if"].call(b,b&&b.hasToDisplaySplitTax,{hash:{},inverse:v.program(3,g,e),fn:v.program(1,f,e),data:e}),(q||0===q)&&(o+=q),o+="\n\n        <tr>\n            <td>",r={hash:{},data:e},o+=t((p=c._||b&&b._,p?p.call(b,"Fee",r):s.call(b,"_","Fee",r)))+"</td>\n            ",q=c["if"].call(b,b&&b.hasToDisplaySplitTax,{hash:{},inverse:v.program(8,j,e),fn:v.program(6,i,e),data:e}),(q||0===q)&&(o+=q),o+="\n        </tr>\n\n        ",q=c["if"].call(b,b&&b.hasTaxOnFees,{hash:{},inverse:v.noop,fn:v.program(10,k,e),data:e}),(q||0===q)&&(o+=q),o+="\n\n        ",q=c["if"].call(b,b&&b.cappedFeeHelperText,{hash:{},inverse:v.noop,fn:v.program(12,l,e),data:e}),(q||0===q)&&(o+=q),o+='\n    </tbody>\n    <tfoot>\n        <tr class="report__row--emphasized">\n            <td>',r={hash:{},data:e},o+=t((p=c._||b&&b._,p?p.call(b,"Buyer Total",r):s.call(b,"_","Buyer Total",r)))+'</td>\n            <td data-automation="ticket-cost-summary-total">',(q=c.buyerTotal)?q=q.call(b,{hash:{},data:e}):(q=b&&b.buyerTotal,q=typeof q===u?q.call(b,{hash:{},data:e}):q),o+=t(q)+"</td>\n        </tr>\n        ",q=c["if"].call(b,b&&b.isPassOnATDCurrency,{hash:{},inverse:v.noop,fn:v.program(14,m,e),data:e}),(q||0===q)&&(o+=q),o+="\n    </tfoot>\n</table>\n"}),this.Handlebars.templates.ticket_start_end_sales=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i,j="function",k=this.escapeExpression,l=c.helperMissing;return f+='<div class="g-vertical-group g-cell-1-1 g-cell-md-2-3 g-cell-lg-3-4">\n    <div class="js-ticket-sales-start-group g-cell g-cell-1-1 l-mar-top-3">\n        <h4 class="responsive-form__fieldset-legend" for="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b&&b.numTicket,g=typeof g===j?g.call(b,{hash:{},data:e}):g),f+=k(g)+'-start_sales">\n            ',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Ticket sales start",i):l.call(b,"_","Ticket sales start",i)))+'\n        </h4>\n\n        <div class="js-ticket-sales-start">\n            <div class="js-visibility-container">\n                <input name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-start_sales" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-start_sales" type="hidden" class="js-sales-start-time-picker" value="',(h=c.startSalesAfterTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.startSalesAfterTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'"/>\n\n                <a href="#" class="js-visibility-trigger js-ticket-sales-end-link is-hidden">\n                    ',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"or when ticket sales end",i):l.call(b,"_","or when ticket sales end",i)))+'\n                </a>\n            </div>\n            <div class="js-error-for-salesStartDate form__field-error"></div>\n            <div class="js-visibility-container js-ticket-sales-end-select is-hidden">\n                ',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"When sales end for",i):l.call(b,"_","When sales end for",i)))+'\n                <input type="hidden"\n                     id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-start_sales_after"\n                     name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-start_sales_after"\n                     class="js-start-sales-after-hidden" />\n\n                <select\n                     id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-start_sales_after_ticket"\n                     name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-start_sales_after_ticket"\n                     class="js-sales-ticket-choices">\n                </select>\n                <a id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-sales_after_ticket_off" class="js-visibility-trigger js-ticket-sales-start-by-date" href="#">\n                     ',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"or by date",i):l.call(b,"_","or by date",i)))+'\n                </a>\n            </div>\n        </div>\n    </div>\n\n    <div class="g-cell g-cell-1-1 g-cell--no-gutters l-mar-top-3">\n        <h4 class="responsive-form__fieldset-legend g-cell g-cell-1-1" for="id_initial-group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-end_sales">\n            ',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Ticket sales end",i):l.call(b,"_","Ticket sales end",i)))+'\n        </h4>\n\n        <div>\n            <div id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-end_sales_explicit" class="js-end-sales-explicit g-cell g-cell-1-1">\n\n                <input type="hidden" name="initial-group-tickets-',
(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-end_sales" value="',(h=c.initialEndDate)?h=h.call(b,{hash:{},data:e}):(h=b&&b.initialEndDate,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'" id="id_initial-group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-end_sales">\n\n                <input name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-end_sales" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-end_sales" type="hidden" class="js-sales-end-time-picker" />\n            </div>\n            <div id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-end_sales_relative" class="js-end-sales-relative end-sales-relative-container is-hidden">\n                <div class="end-sales-relative-input-container g-group">\n                    <div class="g-cell g-cell-5-12 g-cell-lg-3-12">\n                        <input type="text" name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-end_sales_relative_time" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-end_sales_relative_time" class="js-end-sales-relative-time" />\n                        <div class="form__field-error is-hidden js-error-for-endSalesRelativeTime"></div>\n                    </div>\n                    <div class="g-cell g-cell-7-12 g-cell-lg-3-12">\n                        <select class="js-end-sales-relative-type" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-end_sales_relative_type" name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-end_sales_relative_type">\n                            <option value="hours">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"hour(s)",i):l.call(b,"_","hour(s)",i)))+'</option>\n                            <option value="days">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"day(s)",i):l.call(b,"_","day(s)",i)))+'</option>\n                            <option value="minutes">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"minute(s)",i):l.call(b,"_","minute(s)",i)))+'</option>\n                        </select>\n                    </div>\n                    <div class="g-cell g-cell-5-12 g-cell-lg-3-12 l-align-center">\n                        <div class="l-mar-top-1 text-body-large">\n                            \n                            ',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"before event",i):l.call(b,"_","before event",i)))+'\n                        </div>\n                    </div>\n                    <div class="g-cell g-cell-7-12 g-cell-lg-3-12">\n                        <select name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-end_sales_relative_to" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===j?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-end_sales_relative_to" class="js-end-sales-relative-to">\n                            \n                            <option value="start_time">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"starts",i):l.call(b,"_","starts",i)))+'</option>\n                            \n                            <option value="end_time">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"ends",i):l.call(b,"_","ends",i)))+'</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n            <div class="js-error-for-salesEndDate form__field-error g-cell g-cell-1-1"></div>\n        </div>\n    </div>\n</div>\n<div class="g-cell g-cell-1-3 g-cell-lg-1-4 hide-small l-mar-top-4 form__group--help-text js-help-text">\n    <div class="form__group--help-text-container">\n        ',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Optional: Start and end your ticket sales at a certain time or when another ticket type sells out",i):l.call(b,"_","Optional: Start and end your ticket sales at a certain time or when another ticket type sells out",i)))+"\n    </div>\n</div>\n"}),this.Handlebars.templates.ticket_sales_select_option=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d="",e;return d+="\n	( ",(e=c.cost)?e=e.call(a,{hash:{},data:b}):(e=a&&a.cost,e=typeof e===i?e.call(a,{hash:{},data:b}):e),d+=j(e)+" )\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g="",h,i="function",j=this.escapeExpression,k=this;return g+="<option value=",(h=c.cid)?h=h.call(b,{hash:{},data:e}):(h=b&&b.cid,h=typeof h===i?h.call(b,{hash:{},data:e}):h),g+=j(h)+">\n",(h=c.name)?h=h.call(b,{hash:{},data:e}):(h=b&&b.name,h=typeof h===i?h.call(b,{hash:{},data:e}):h),g+=j(h)+"\n\n",h=c["if"].call(b,b&&b.cost,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(h||0===h)&&(g+=h),g+="\n</option>\n"}),this.Handlebars.templates.ticket_visibility=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i,j=c.helperMissing,k=this.escapeExpression,l="function";return f+='<h4 class="responsive-form__fieldset-legend g-cell g-cell-1-1">\n    ',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Ticket visibility",i):j.call(b,"_","Ticket visibility",i)))+'\n</h4>\n\n<section class="l-mar-top-1 g-cell g-cell-1-1 g-cell-md-2-3 g-cell-lg-3-4">\n    <input data-check="{}" name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-hidden" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-hidden" type="checkbox" class="js-ticket-hidden"/>\n    <label for="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-hidden">\n        ',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Hide this ticket type",i):j.call(b,"_","Hide this ticket type",i)))+'\n    </label>\n\n    <section class="js-auto-hide">\n        <div>\n            <span class="js-add-auto-hide-schedule">\n                <a href="javascript:void(0)" class="js-auto-hide-schedule-label"></a>\n            </span>\n        </div>\n        <input type="checkbox" name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-auto_hide" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-auto_hide" class="js-auto-hide-schedule is-hidden" />\n\n        <div id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-auto_hide_settings" class="js-auto-hide-settings is-hidden">\n            <ul>\n                <li>\n                    <input type="radio" name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-auto_hide_type" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-auto_hide_type_0" checked="checked" value="0" class="js-auto-hide-on-sale" />\n                    <label for="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-auto_hide_type_0">\n                        ',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"When ticket is not on sale",i):j.call(b,"_","When ticket is not on sale",i)))+'\n                    </label>\n                </li>\n                <li>\n                    <input type="radio" name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-auto_hide_type" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-auto_hide_type_1" class="js-auto-hide-custom" value="1" />\n                    <label for="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-auto_hide_type_1">\n                        ',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"For custom date and time",i):j.call(b,"_","For custom date and time",i)))+'\n                    </label>\n                </li>\n            </ul>\n\n            <div id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-auto_hide_custom" class="js-auto-hide-custom-settings is-hidden nested-list-content">\n                <section>\n                    <input type="checkbox" name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-auto_hide_until" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-auto_hide_until" class="js-auto-hide-until"/>\n                    <label for="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-auto_hide_until">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Hide until",i):j.call(b,"_","Hide until",i)))+'</label>\n                    <div class="nested-list-content">\n                        <input name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-hide_until" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-hide_until" type="hidden" class="js-hide-until" />\n                    </div>\n                </section>\n                <section class="l-mar-top-1">\n                    <input type="checkbox" name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-auto_hide_after" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-auto_hide_after" class="js-auto-hide-after"/>\n                    <label for="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-auto_hide_after">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Hide after",i):j.call(b,"_","Hide after",i)))+'</label>\n\n                    <div class="nested-list-content">\n                        <input name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-hide_after" id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b&&b.numTicket,h=typeof h===l?h.call(b,{hash:{},data:e}):h),f+=k(h)+'-hide_after" type="hidden" class="js-hide-after" />\n                    </div>\n                </section>\n            </div>\n        </div>\n    </section>\n</section>\n'}),this.Handlebars.templates.ticket_fees=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d="",e;return d+="\n                    ",e=c["if"].call(a,a&&a.canPassATDFee,{hash:{},inverse:r.program(6,j,b),fn:r.program(2,g,b),data:b}),(e||0===e)&&(d+=e),d+="\n                "}function g(a,b){var d="",e;return d+="\n                        ",e=c["if"].call(a,a&&a.isPassOnATDCurrency,{hash:{},inverse:r.noop,fn:r.program(3,h,b),data:b}),(e||0===e)&&(d+=e),d+="\n                    "}function h(a,b){var d="",e;return d+="\n                            ",e=c["if"].call(a,a&&a.isFeePassedOption,{hash:{},inverse:r.noop,fn:r.program(4,i,b),data:b}),(e||0===e)&&(d+=e),d+="\n                        "}function i(a,b){var d="",e,f;return d+='\n                                <i class="ico-info ico--color-brand-light-blue js-d-tooltip js-sales-channel-help-tooltip" title=\'',f={hash:{},data:b},d+=q((e=c._||a&&a._,e?e.call(a,"Payment Processing fees cannot be passed on for At The Door tickets.",f):p.call(a,"_","Payment Processing fees cannot be passed on for At The Door tickets.",f)))+"'></i>\n                            "}function j(a,b){var d="",e,f;return d+='\n                        <i class="ico-info ico--color-brand-light-blue js-d-tooltip js-sales-channel-help-tooltip" title=\'',f={hash:{pass_on_atd_date:a&&a.passATDFeeDate},data:b},d+=q((e=c._||a&&a._,e?e.call(a,"Fees cannot be passed on before %(pass_on_atd_date)s.",f):p.call(a,"_","Fees cannot be passed on before %(pass_on_atd_date)s.",f)))+"'></i>\n                    "}function k(a,b){var d="",e,f;return d+='\n                    <i class="ico-info ico--color-brand-light-blue js-d-tooltip js-sales-channel-help-tooltip" title=\'',f={hash:{},data:b},d+=q((e=c._||a&&a._,e?e.call(a,"Fees cannot be passed on for At The Door tickets.",f):p.call(a,"_","Fees cannot be passed on for At The Door tickets.",f)))+"'></i>\n                "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var l="",m,n,o,p=c.helperMissing,q=this.escapeExpression,r=this,s="function";return l+='<label for="id_group-tickets-',(m=c.numTicket)?m=m.call(b,{hash:{},data:e}):(m=b&&b.numTicket,m=typeof m===s?m.call(b,{hash:{},data:e}):m),l+=q(m)+'-include_ticket_fees" class="label-primary g-cell g-cell-1-1">\n    ',o={hash:{},data:e},l+=q((m=c._||b&&b._,m?m.call(b,"Fees",o):p.call(b,"_","Fees",o)))+'\n</label>\n\n<div class="g-cell g-cell-1-1 g-cell-md-2-3 g-cell-lg-3-4">\n    <section class="js-ticket-fee-options">\n        <select name="group-tickets-',(n=c.numTicket)?n=n.call(b,{hash:{},data:e}):(n=b&&b.numTicket,n=typeof n===s?n.call(b,{hash:{},data:e}):n),l+=q(n)+'-include_ticket_fees" id="id_group-tickets-',(n=c.numTicket)?n=n.call(b,{hash:{},data:e}):(n=b&&b.numTicket,n=typeof n===s?n.call(b,{hash:{},data:e}):n),l+=q(n)+'-include_ticket_fees" class="js-ticket-absorb-fees js-d-select-box form__input form__input--long">\n            <option value="0" selected="selected">',o={hash:{},data:e},l+=q((m=c._||b&&b._,m?m.call(b,"Pass fees on",o):p.call(b,"_","Pass fees on",o)))+'</option>\n            <option value="1">',o={hash:{},data:e},l+=q((m=c._||b&&b._,m?m.call(b,"Absorb fees",o):p.call(b,"_","Absorb fees",o)))+'</option>\n            <option value="2">',o={hash:{},data:e},l+=q((m=c._||b&&b._,m?m.call(b,"Split fees",o):p.call(b,"_","Split fees",o)))+'</option>\n        </select>\n    </section>\n\n    <div class="ticket-settings--fee-detail pod--primary l-pad-vert-1 l-mar-top-1 text-body-medium js-ticket-fees">\n        <div class="fee-breakdown js-ticket-show-online-fee-breakdown">\n            <span class="l-pad-hor-1 text-body-medium text-body--significant ">\n                ',o={hash:{},data:e},l+=q((m=c._||b&&b._,m?m.call(b,"Online:",o):p.call(b,"_","Online:",o)))+"\n            </span>\n            <span>\n                ",o={hash:{},data:e},l+=q((m=c._||b&&b._,m?m.call(b,"Fee:",o):p.call(b,"_","Fee:",o)))+' <span class="js-ticket-online-fee-amount"></span>\n            </span>\n            <span>\n                ',o={hash:{},data:e},l+=q((m=c._||b&&b._,m?m.call(b,"Buyer total:",o):p.call(b,"_","Buyer total:",o)))+' <span class="js-ticket-online-total"></span>\n            </span>\n        </div>\n        <div class="fee-breakdown js-ticket-show-atd-fee-breakdown">\n            <span class="l-pad-hor-1 text-body-medium text-body--significant ">\n                ',o={hash:{},data:e},l+=q((m=c._||b&&b._,m?m.call(b,"At The Door:",o):p.call(b,"_","At The Door:",o)))+"\n            </span>\n            <span>\n                ",o={hash:{},data:e},l+=q((m=c._||b&&b._,m?m.call(b,"Fee:",o):p.call(b,"_","Fee:",o)))+' <span class="js-ticket-atd-fee-amount"></span>\n            </span>\n            <span>\n                ',o={hash:{},data:e},l+=q((m=c._||b&&b._,m?m.call(b,"Buyer total:",o):p.call(b,"_","Buyer total:",o)))+' <span class="js-ticket-atd-total"></span>\n            </span>\n                ',n=c["if"].call(b,b&&b.activePassOnATD,{hash:{},inverse:r.program(8,k,e),fn:r.program(1,f,e),data:e}),(n||0===n)&&(l+=n),l+='\n        </div>\n    </div>\n</div>\n\n<div class="g-cell g-cell-1-3 g-cell-lg-1-4 hide-small js-help-text form__group--help-text">\n    <div class="form__group--help-text-container">\n        <span class="js-fee-help-pass">',o={hash:{},data:e},l+=q((m=c._||b&&b._,m?m.call(b,"You'll receive the price of the ticket, and the buyer will pay the Eventbrite Service Fee",o):p.call(b,"_","You'll receive the price of the ticket, and the buyer will pay the Eventbrite Service Fee",o)))+'</span>\n        <span class="js-fee-help-absorb is-hidden">',o={hash:{},data:e},l+=q((m=c._||b&&b._,m?m.call(b,"You'll receive the price of the ticket minus the Eventbrite Service Fee",o):p.call(b,"_","You'll receive the price of the ticket minus the Eventbrite Service Fee",o)))+'</span>\n        <span class="js-fee-help-pass-ccp is-hidden">',o={hash:{},data:e},l+=q((m=c._||b&&b._,m?m.call(b,"You'll receive the price of the ticket and the buyer will pay the Payment Processing Fee and Eventbrite Service Fee",o):p.call(b,"_","You'll receive the price of the ticket and the buyer will pay the Payment Processing Fee and Eventbrite Service Fee",o)))+'</span>\n        <span class="js-fee-help-absorb-ccp is-hidden">',o={hash:{},data:e},l+=q((m=c._||b&&b._,m?m.call(b,"You'll receive the price of the ticket minus the Payment Processing Fee and Eventbrite Service Fee",o):p.call(b,"_","You'll receive the price of the ticket minus the Payment Processing Fee and Eventbrite Service Fee",o)))+'</span>\n        <span class="js-fee-help-split-ccp is-hidden">',o={hash:{},data:e},l+=q((m=c._||b&&b._,m?m.call(b,"You'll receive the price of the ticket minus the Payment Processing Fee, and the buyer will pay the Eventbrite Service Fee",o):p.call(b,"_","You'll receive the price of the ticket minus the Payment Processing Fee, and the buyer will pay the Eventbrite Service Fee",o)))+"</span>\n    </div>\n</div>\n"}),this.Handlebars.templates.unlimited_tickets_feature_prompt_view=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i=c.helperMissing,j=this.escapeExpression;return f+='<div id="feature-prompt" class="feature-prompt"></div>\n\n<div class="js-feature-banner feature-banner-container__unlimited-tickets">\n    <hr class="eds-divider__hr eds-bg-color--ui-orange eds-divider--horizontal feature-prompt-divider" aria-hidden="true" />\n    <div class="eds-g-grid eds-l-sn-pad-hor-4 eds-l-sm-pad-hor-4 eds-l-pad-bot-4 eds-l-mar-top-4">\n        <div class="eds-g-cell eds-l-mar-hor-6 eds-show-up-sw">\n            <i class="ico-tickets ico-tickets__feature-prompt ico--xlarge  eds-text-color--ui-orange" />\n        </div>\n        <div class="eds-g-cell eds-g-cell-sw-7-12">\n            <p class="eds-text-bl--fixed eds-text-color--grey-900">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Grow your revenue with more ticket types",h):i.call(b,"_","Grow your revenue with more ticket types",h)))+'</p>\n            <p class="eds-text-bm eds-text-color--grey-600 eds-l-sn-mar-top-2 eds-l-sm-mar-top-2">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Upgrade to create multiple tickets at different prices and attract a wider variety of attendees.",h):i.call(b,"_","Upgrade to create multiple tickets at different prices and attract a wider variety of attendees.",h)))+'</p>\n        </div>\n        <div class="eds-g-cell feature-prompt__button-containter eds-l-mar-right-6 eds-show-up-sw">\n            <button class="eds-btn eds-btn--button eds-btn--neutral eds-btn--fixed js-prompt-button feature_prompt__button" type="button" data-automation="open-feature-prompt-modal">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Upgrade",h):i.call(b,"_","Upgrade",h)))+'</button>\n        </div>\n        <div class="eds-g-cell eds-g-cell-12-12 eds-l-mar-top-6 eds-show-down-sm">\n            <button class="eds-btn eds-btn--button eds-btn--neutral eds-btn--fixed js-prompt-button feature_prompt__button" type="button" data-automation="open-feature-prompt-modal-mobile">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Upgrade",h):i.call(b,"_","Upgrade",h)))+"</button>\n        </div>\n    </div>\n</div>\n"}),this.Handlebars.templates.series_placeholder=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d="",e,f;return d+='\n<span id="cancel_repeating_event_container" class="l-pad-hor-1 text-body-small"><a href="#" class="js-series-delete">',f={hash:{},data:b},d+=l((e=c._||a&&a._,e?e.call(a,"Cancel repeating event schedule",f):k.call(a,"_","Cancel repeating event schedule",f)))+"</a></span>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g="",h,i,j,k=c.helperMissing,l=this.escapeExpression,m=this;return g+='<span><a class="btn btn--small btn--secondary js-series-create" href="#" data-original-title="',j={hash:{},data:e},g+=l((h=c._||b&&b._,h?h.call(b,"You reached the limit of 120 dates",j):k.call(b,"_","You reached the limit of 120 dates",j)))+'">',j={hash:{},data:e},g+=l((h=c._||b&&b._,h?h.call(b,"Add Dates",j):k.call(b,"_","Add Dates",j)))+"</a></span>\n",i=c["if"].call(b,b&&b.can_cancel_series,{hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e}),(i||0===i)&&(g+=i),g+='\n\n<span class="text-body-small" >\n    <a id="event_timezone_series" href="javascript:void(0)">\n        ',j={hash:{},data:e},g+=l((h=c._||b&&b._,h?h.call(b,"Timezone & date settings",j):k.call(b,"_","Timezone & date settings",j)))+'\n        (<span id="timezone_short_series"></span>)\n    </a>\n</span>\n'}),this.Handlebars.templates.series_new=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var f="",g,h,i,j=c.helperMissing,k=this.escapeExpression,l=this,m="function";return f+='<div class="g-cell g-cell-2-3 l-pad-vert-2">\n    <h4 class="text-heading-secondary">\n        ',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Schedule dates",i):j.call(b,"_","Schedule dates",i)))+'\n    </h4>\n</div>\n<div class="g-cell g-cell-1-3 l-align-right l-pad-top-2">\n    <a href="#event_repeating_learn_whats_new" class="l-align-right text-link-aside js-d-modal text-heading--understated">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Learn more",i):j.call(b,"_","Learn more",i)))+'</a>\n</div>\n<hr />\n<form class="responsive-form">\n    <div class="l-mar-top-3 g-cell g-cell-1-1">\n        <label class="label-primary responsive-form__label--primary" for="new-series-period">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"How often does this event occur?",i):j.call(b,"_","How often does this event occur?",i)))+'</label>\n    </div>\n    <div class="l-mar-top-1 g-cell g-cell-1-1 g-cell-md-1-2">\n        <select class="js-series-period" id="new-series-period">\n            <option value="days">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Daily",i):j.call(b,"_","Daily",i)))+'</option>\n            <option value="weeks">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Weekly",i):j.call(b,"_","Weekly",i)))+'</option>\n            <option value="months">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Monthly",i):j.call(b,"_","Monthly",i)))+'</option>\n            <option value="custom">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Custom",i):j.call(b,"_","Custom",i)))+'</option>\n        </select>\n    </div>\n    <div class="l-mar-top-3 series-schedule-weekly is-hidden">\n        <div class="g-cell g-cell-1-1">\n            <label class="label-primary" for="new-series-weekly-weekdays">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"What day(s) of the week?",i):j.call(b,"_","What day(s) of the week?",i)))+'</label>\n        </div>\n        <div class="g-cell g-cell-1-1">\n            <select multiple="multiple" class="js-series-weekly-weekdays" id="new-series-weekly-weekdays">\n                <option value="0">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Sunday",i):j.call(b,"_","Sunday",i)))+'</option>\n                <option value="1">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Monday",i):j.call(b,"_","Monday",i)))+'</option>\n                <option value="2">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Tuesday",i):j.call(b,"_","Tuesday",i)))+'</option>\n                <option value="3">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Wednesday",i):j.call(b,"_","Wednesday",i)))+'</option>\n                <option value="4">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Thursday",i):j.call(b,"_","Thursday",i)))+'</option>\n                <option value="5">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Friday",i):j.call(b,"_","Friday",i)))+'</option>\n                <option value="6">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Saturday",i):j.call(b,"_","Saturday",i)))+'</option>\n            </select>\n        </div>\n    </div>\n    <div class="l-mar-top-3 series-schedule-monthly-weekday is-hidden g-groupg">\n        <div class="responsive-form__fieldset-legend g-cell g-cell-1-1">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Repeating every",i):j.call(b,"_","Repeating every",i)))+'</div>\n        <div class="g-cell g-cell-1-1 g-cell-md-1-2">\n            <label class="label-primary is-hidden-accessible" for="new-series-monthly-offset">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Number of Week in Month",i):j.call(b,"_","Number of Week in Month",i)))+'</label>\n            <select class="js-series-monthly-offset" id="new-series-monthly-offset">\n                <option value="0">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"First",i):j.call(b,"_","First",i)))+'</option>\n                <option value="1">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Second",i):j.call(b,"_","Second",i)))+'</option>\n                <option value="2">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Third",i):j.call(b,"_","Third",i)))+'</option>\n                <option value="3">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Fourth",i):j.call(b,"_","Fourth",i)))+'</option>\n            </select>\n        </div>\n\n        <div class="g-cell g-cell-1-1 g-cell-md-1-2">\n            <label class="label-primary g-cell-1-1 is-hidden-accessible" for="new-series-monthly-weekdays">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Day of Week",i):j.call(b,"_","Day of Week",i)))+'</label>\n            <select multiple="multiple" class="js-series-monthly-weekdays" id="new-series-monthly-weekdays">\n                <option value="0">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Sunday",i):j.call(b,"_","Sunday",i)))+'</option>\n                <option value="1">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Monday",i):j.call(b,"_","Monday",i)))+'</option>\n                <option value="2">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Tuesday",i):j.call(b,"_","Tuesday",i)))+'</option>\n                <option value="3">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Wednesday",i):j.call(b,"_","Wednesday",i)))+'</option>\n                <option value="4">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Thursday",i):j.call(b,"_","Thursday",i)))+'</option>\n                <option value="5">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Friday",i):j.call(b,"_","Friday",i)))+'</option>\n                <option value="6">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Saturday",i):j.call(b,"_","Saturday",i)))+'</option>\n            </select>\n        </div>\n        <div class="g-cell g-cell-1-1"><a href="#" class="js-series-show-monthday">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Select by day of the month",i):j.call(b,"_","Select by day of the month",i)))+'</a></div>\n    </div>\n    <div class="l-mar-top-3 series-schedule-monthly-day is-hidden">\n        <div class="responsive-form__fieldset-legend g-cell g-cell-1-1">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"It occurs every",i):j.call(b,"_","It occurs every",i)))+'</div>\n        <label class="label-primary g-cell-1-1 is-hidden-accessible" for="nnew-series-monthly-day">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Number of Day in Month",i):j.call(b,"_","Number of Day in Month",i)))+'</label>\n        <div class="g-cell g-cell-1-2">\n            <select class="js-series-monthly-day" id="new-series-monthly-day">\n                <option value="1">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"1st",i):j.call(b,"_","1st",i)))+'</option>\n                <option value="2">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"2nd",i):j.call(b,"_","2nd",i)))+'</option>\n                <option value="3">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"3rd",i):j.call(b,"_","3rd",i)))+'</option>\n                <option value="4">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"4th",i):j.call(b,"_","4th",i)))+'</option>\n                <option value="5">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"5th",i):j.call(b,"_","5th",i)))+'</option>\n                <option value="6">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"6th",i):j.call(b,"_","6th",i)))+'</option>\n                <option value="7">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"7th",i):j.call(b,"_","7th",i)))+'</option>\n                <option value="8">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"8th",i):j.call(b,"_","8th",i)))+'</option>\n                <option value="9">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"9th",i):j.call(b,"_","9th",i)))+'</option>\n                <option value="10">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"10th",i):j.call(b,"_","10th",i)))+'</option>\n                <option value="11">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"11th",i):j.call(b,"_","11th",i)))+'</option>\n                <option value="12">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"12th",i):j.call(b,"_","12th",i)))+'</option>\n                <option value="13">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"13th",i):j.call(b,"_","13th",i)))+'</option>\n                <option value="14">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"14th",i):j.call(b,"_","14th",i)))+'</option>\n                <option value="15">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"15th",i):j.call(b,"_","15th",i)))+'</option>\n                <option value="16">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"16th",i):j.call(b,"_","16th",i)))+'</option>\n                <option value="17">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"17th",i):j.call(b,"_","17th",i)))+'</option>\n                <option value="18">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"18th",i):j.call(b,"_","18th",i)))+'</option>\n                <option value="19">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"19th",i):j.call(b,"_","19th",i)))+'</option>\n                <option value="20">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"20th",i):j.call(b,"_","20th",i)))+'</option>\n                <option value="21">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"21st",i):j.call(b,"_","21st",i)))+'</option>\n                <option value="22">',
i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"22nd",i):j.call(b,"_","22nd",i)))+'</option>\n                <option value="23">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"23rd",i):j.call(b,"_","23rd",i)))+'</option>\n                <option value="24">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"24th",i):j.call(b,"_","24th",i)))+'</option>\n                <option value="25">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"25th",i):j.call(b,"_","25th",i)))+'</option>\n                <option value="26">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"26th",i):j.call(b,"_","26th",i)))+'</option>\n                <option value="27">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"27th",i):j.call(b,"_","27th",i)))+'</option>\n                <option value="28">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"28th",i):j.call(b,"_","28th",i)))+'</option>\n                <option value="29">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"29th",i):j.call(b,"_","29th",i)))+'</option>\n                <option value="30">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"30th",i):j.call(b,"_","30th",i)))+'</option>\n                <option value="31">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"31st",i):j.call(b,"_","31st",i)))+"</option>\n            </select> ",i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"day of the month",i):j.call(b,"_","day of the month",i)))+'.\n        </div>\n        <div class="g-cell g-cell-1-1">\n            <div id="series_show_monthweek_container"><a href="#" class="js-series-show-monthweek">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Select by day of the week",i):j.call(b,"_","Select by day of the week",i)))+"</a></div>\n        </div>\n    </div>\n    ",h=l.invokePartial(d.event_duration,"event_duration",b,c,d,e),(h||0===h)&&(f+=h),f+="\n    ",h=l.invokePartial(d.event_repeat_range,"event_repeat_range",b,c,d,e),(h||0===h)&&(f+=h),f+='\n    <div class="l-mar-top-3 g-cell g-cell-1-1 series-schedule-custom is-hidden">\n        <div class="responsive-form__fieldset-legend">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"On",i):j.call(b,"_","On",i)))+'</div>\n        <div class="l-mar-top-1">\n        <input type="text" value="',(h=c.custom_date)?h=h.call(b,{hash:{},data:e}):(h=b&&b.custom_date,h=typeof h===m?h.call(b,{hash:{},data:e}):h),f+=k(h)+'" class="xform__input--xshort js-series-custom-date date">\n        </div>\n    </div>\n    <div class="l-mar-top-3 g-cell g-cell-1-1">\n        <span class="series-schedule-summary"></span>\n    </div>\n    <div class="l-mar-top-2 l-pad-vert-1 g-cell g-cell-1-1 btn-group btn-group--responsive">\n        <a class="btn js-series-new-add js-xd-janus-checkpoint-event" data-checkpoint-name="select_repeating_old" href="#">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Add",i):j.call(b,"_","Add",i)))+'</a>\n        <a class="btn btn--secondary js-series-new-close js-xd-janus-checkpoint-event" data-checkpoint-name="cancel_repeating_old" href="#">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Cancel",i):j.call(b,"_","Cancel",i)))+"</a>\n    </div>\n</form>\n"}),this.Handlebars.templates.series_edit_daily=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var f="",g,h,i,j=c.helperMissing,k=this.escapeExpression,l=this,m="function";return f+='<div class="g-cell g-cell-1-1 l-pad-vert-2"><h4 class="text-body-large">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Edit daily repeating dates",i):j.call(b,"_","Edit daily repeating dates",i)))+'</h4></div>\n<hr />\n\n<form class="responsive-form">\n    ',h=l.invokePartial(d.event_duration,"event_duration",b,c,d,e),(h||0===h)&&(f+=h),f+="\n    ",h=l.invokePartial(d.event_repeat_range,"event_repeat_range",b,c,d,e),(h||0===h)&&(f+=h),f+='\n    <div class="l-mar-top-3 g-cell g-cell-1-1">\n        <span class="series-schedule-summary">',(h=c.summary)?h=h.call(b,{hash:{},data:e}):(h=b&&b.summary,h=typeof h===m?h.call(b,{hash:{},data:e}):h),f+=k(h)+'</span>\n    </div>\n    <div class="l-mar-top-2 l-pad-vert-1 g-cell g-cell-1-1 btn-group btn-group--responsive">\n        <a class="btn js-series-edit" href="#">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Update",i):j.call(b,"_","Update",i)))+'</a>\n        <a class="btn btn--secondary js-series-new-close" href="#">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Cancel",i):j.call(b,"_","Cancel",i)))+"</a>\n    </div>\n</form>\n"}),this.Handlebars.templates.series_edit_weekly=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var f="",g,h,i,j=c.helperMissing,k=this.escapeExpression,l=this,m="function";return f+='<div class="g-cell g-cell-1-1 l-pad-vert-2"><h4 class="text-body-large">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Edit weekly repeating dates",i):j.call(b,"_","Edit weekly repeating dates",i)))+'</h4></div>\n<hr />\n\n<form class="form">\n    <div class="l-mar-top-3 series-schedule-weekly g-group">\n        <div class="g-cell g-cell-1-1">\n            <label>',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"What day(s) of the week?",i):j.call(b,"_","What day(s) of the week?",i)))+'</label>\n        </div>\n        <div class="g-cell g-cell-1-1 l-mar-top-1">\n            <select class="js-series-weekly-weekday">\n                <option value="0">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Sunday",i):j.call(b,"_","Sunday",i)))+'</option>\n                <option value="1">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Monday",i):j.call(b,"_","Monday",i)))+'</option>\n                <option value="2">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Tuesday",i):j.call(b,"_","Tuesday",i)))+'</option>\n                <option value="3">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Wednesday",i):j.call(b,"_","Wednesday",i)))+'</option>\n                <option value="4">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Thursday",i):j.call(b,"_","Thursday",i)))+'</option>\n                <option value="5">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Friday",i):j.call(b,"_","Friday",i)))+'</option>\n                <option value="6">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Saturday",i):j.call(b,"_","Saturday",i)))+"</option>\n            </select>\n        </div>\n    </div>\n    ",h=l.invokePartial(d.event_duration,"event_duration",b,c,d,e),(h||0===h)&&(f+=h),f+="\n    ",h=l.invokePartial(d.event_repeat_range,"event_repeat_range",b,c,d,e),(h||0===h)&&(f+=h),f+='\n    <div class="l-mar-top-3 g-cell g-cell-1-1">\n        <span class="series-schedule-summary">',(h=c.summary)?h=h.call(b,{hash:{},data:e}):(h=b&&b.summary,h=typeof h===m?h.call(b,{hash:{},data:e}):h),f+=k(h)+'</span>\n    </div>\n    <div class="l-mar-top-2 btn-group btn-group--responsive l-pad-vert-1 g-cell g-cell-1-1">\n        <a class="btn js-series-edit" href="#">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Update",i):j.call(b,"_","Update",i)))+'</a>\n        <a class="btn btn--secondary js-series-new-close" href="#">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Cancel",i):j.call(b,"_","Cancel",i)))+"</a>\n    </div>\n</form>\n"}),this.Handlebars.templates.series_edit_monthly_day=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var f="",g,h,i,j=c.helperMissing,k=this.escapeExpression,l=this,m="function";return f+='<div class="g-cell g-cell-1-1 l-pad-vert-2">\n    <h4 class="text-body-large">\n        ',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Edit monthly repeating dates",i):j.call(b,"_","Edit monthly repeating dates",i)))+'\n    </h4>\n</div>\n<hr />\n\n<form class="form">\n    <div class="l-mar-top-3 series-schedule-monthly-day">\n        <div class="g-cell g-cell-1-1">\n            <label class="form__label--column">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"It occurs every",i):j.call(b,"_","It occurs every",i)))+'</label>\n        </div>\n        <div class="g-cell g-cell-1-1 g-cell-md-1-2 l-mar-top-1">\n            <select class="js-series-monthly-day">\n                <option value="1">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"1st",i):j.call(b,"_","1st",i)))+'</option>\n                <option value="2">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"2nd",i):j.call(b,"_","2nd",i)))+'</option>\n                <option value="3">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"3rd",i):j.call(b,"_","3rd",i)))+'</option>\n                <option value="4">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"4th",i):j.call(b,"_","4th",i)))+'</option>\n                <option value="5">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"5th",i):j.call(b,"_","5th",i)))+'</option>\n                <option value="6">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"6th",i):j.call(b,"_","6th",i)))+'</option>\n                <option value="7">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"7th",i):j.call(b,"_","7th",i)))+'</option>\n                <option value="8">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"8th",i):j.call(b,"_","8th",i)))+'</option>\n                <option value="9">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"9th",i):j.call(b,"_","9th",i)))+'</option>\n                <option value="10">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"10th",i):j.call(b,"_","10th",i)))+'</option>\n                <option value="11">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"11th",i):j.call(b,"_","11th",i)))+'</option>\n                <option value="12">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"12th",i):j.call(b,"_","12th",i)))+'</option>\n                <option value="13">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"13th",i):j.call(b,"_","13th",i)))+'</option>\n                <option value="14">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"14th",i):j.call(b,"_","14th",i)))+'</option>\n                <option value="15">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"15th",i):j.call(b,"_","15th",i)))+'</option>\n                <option value="16">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"16th",i):j.call(b,"_","16th",i)))+'</option>\n                <option value="17">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"17th",i):j.call(b,"_","17th",i)))+'</option>\n                <option value="18">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"18th",i):j.call(b,"_","18th",i)))+'</option>\n                <option value="19">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"19th",i):j.call(b,"_","19th",i)))+'</option>\n                <option value="20">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"20th",i):j.call(b,"_","20th",i)))+'</option>\n                <option value="21">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"21th",i):j.call(b,"_","21th",i)))+'</option>\n                <option value="22">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"22th",i):j.call(b,"_","22th",i)))+'</option>\n                <option value="23">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"23th",i):j.call(b,"_","23th",i)))+'</option>\n                <option value="24">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"24th",i):j.call(b,"_","24th",i)))+'</option>\n                <option value="25">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"25th",i):j.call(b,"_","25th",i)))+'</option>\n                <option value="26">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"26th",i):j.call(b,"_","26th",i)))+'</option>\n                <option value="27">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"27th",i):j.call(b,"_","27th",i)))+'</option>\n                <option value="28">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"28th",i):j.call(b,"_","28th",i)))+'</option>\n                <option value="29">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"29th",i):j.call(b,"_","29th",i)))+'</option>\n                <option value="30">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"30th",i):j.call(b,"_","30th",i)))+'</option>\n                <option value="31">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"31th",i):j.call(b,"_","31th",i)))+"</option>\n            </select> ",i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"day of the month",i):j.call(b,"_","day of the month",i)))+".\n        </div>\n    </div>\n    ",h=l.invokePartial(d.event_duration,"event_duration",b,c,d,e),(h||0===h)&&(f+=h),f+="\n    ",h=l.invokePartial(d.event_repeat_range,"event_repeat_range",b,c,d,e),(h||0===h)&&(f+=h),f+='\n    <div class="l-mar-top-3 g-cell g-cell-1-1">\n        <span class="series-schedule-summary">',(h=c.summary)?h=h.call(b,{hash:{},data:e}):(h=b&&b.summary,h=typeof h===m?h.call(b,{hash:{},data:e}):h),f+=k(h)+'</span>\n    </div>\n    <div class="l-mar-top-2 l-pad-vert-1 g-cell g-cell-1-1 btn-group btn-group--responsive">\n        <a class="btn js-series-edit" href="#">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Update",i):j.call(b,"_","Update",i)))+'</a>\n        <a class="btn btn--secondary js-series-new-close" href="#">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Cancel",i):j.call(b,"_","Cancel",i)))+"</a>\n    </div>\n</form>\n"}),this.Handlebars.templates.series_edit_monthly_weekday=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var f="",g,h,i,j=c.helperMissing,k=this.escapeExpression,l=this,m="function";return f+='<div class="g-cell g-cell-1-1 l-pad-vert-2">\n    <h4 class="text-body-large">\n        ',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Edit monthly repeating dates",i):j.call(b,"_","Edit monthly repeating dates",i)))+'\n    </h4>\n</div>\n<hr />\n\n<form class="form">\n    <div class="l-mar-top-3 series-schedule-monthly-weekday g-group">\n        <div class="g-cell g-cell-1-1">\n            <label class="form__label--column">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"It occurs every",i):j.call(b,"_","It occurs every",i)))+'</label>\n        </div>\n        <div class="g-cell g-cell-1-1 g-cell-md-1-2 l-mar-top-1">\n            <select class="js-series-monthly-offset">\n                <option value="0">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"First",i):j.call(b,"_","First",i)))+'</option>\n                <option value="1">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Second",i):j.call(b,"_","Second",i)))+'</option>\n                <option value="2">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Third",i):j.call(b,"_","Third",i)))+'</option>\n                <option value="3">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Fourth",i):j.call(b,"_","Fourth",i)))+'</option>\n            </select>\n        </div>\n        <div class="g-cell g-cell-1-1 g-cell-md-1-2 l-mar-top-1">\n            <select class="js-series-monthly-weekday">\n                <option value="0">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Sunday",i):j.call(b,"_","Sunday",i)))+'</option>\n                <option value="1">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Monday",i):j.call(b,"_","Monday",i)))+'</option>\n                <option value="2">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Tuesday",i):j.call(b,"_","Tuesday",i)))+'</option>\n                <option value="3">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Wednesday",i):j.call(b,"_","Wednesday",i)))+'</option>\n                <option value="4">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Thursday",i):j.call(b,"_","Thursday",i)))+'</option>\n                <option value="5">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Friday",i):j.call(b,"_","Friday",i)))+'</option>\n                <option value="6">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Saturday",i):j.call(b,"_","Saturday",i)))+"</option>\n            </select>\n        </div>\n    </div>\n    ",h=l.invokePartial(d.event_duration,"event_duration",b,c,d,e),(h||0===h)&&(f+=h),f+="\n    ",h=l.invokePartial(d.event_repeat_range,"event_repeat_range",b,c,d,e),(h||0===h)&&(f+=h),f+='\n    <div class="l-mar-top-3 g-cell g-cell-1-1">\n        <span class="series-schedule-summary">',(h=c.summary)?h=h.call(b,{hash:{},data:e}):(h=b&&b.summary,h=typeof h===m?h.call(b,{hash:{},data:e}):h),f+=k(h)+'</span>\n    </div>\n    <div class="l-mar-top-2 l-pad-vert-1 g-cell g-cell-1-1 btn-group btn-group--responsive">\n        <a class="btn js-series-edit" href="#">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Update",i):j.call(b,"_","Update",i)))+'</a>\n        <a class="btn btn--secondary js-series-new-close" href="#">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Cancel",i):j.call(b,"_","Cancel",i)))+"</a>\n    </div>\n</form>\n"}),this.Handlebars.templates.series_edit_single=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var f="",g,h,i,j=c.helperMissing,k=this.escapeExpression,l=this,m="function";return f+='<div class="g-cell g-cell-1-1 l-pad-vert-2"><h4 class="text-body-large">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Edit a single date",i):j.call(b,"_","Edit a single date",i)))+'</h4></div>\n<hr />\n<form class="form">\n    ',h=l.invokePartial(d.event_duration,"event_duration",b,c,d,e),(h||0===h)&&(f+=h),f+='\n    <div class="l-mar-top-3 series-schedule-custom">\n        <div class="g-cell g-cell-1-1">\n            <label type="text" class="form__label--column">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"On",i):j.call(b,"_","On",i)))+'</label>\n        </div>\n        <div class="g-cell g-cell-1-1 l-mar-top-1">\n            <input type="text" value="',(h=c.start_date)?h=h.call(b,{hash:{},data:e}):(h=b&&b.start_date,h=typeof h===m?h.call(b,{hash:{},data:e}):h),f+=k(h)+'" class="form__input--short js-series-custom-date">\n        </div>\n    </div>\n    <div class="l-mar-top-3 g-cell g-cell-1-1">\n        <span class="series-schedule-summary">',(h=c.summary)?h=h.call(b,{hash:{},data:e}):(h=b&&b.summary,h=typeof h===m?h.call(b,{hash:{},data:e}):h),f+=k(h)+'</span>\n    </div>\n    <div class="l-mar-top-2 l-pad-vert-1 g-cell g-cell-1-1 btn-group btn-group--responsive">\n        <a class="btn js-series-edit" href="#">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Update",i):j.call(b,"_","Update",i)))+'</a>\n        <a class="btn btn--secondary js-series-new-close" href="#">',i={hash:{},data:e},f+=k((g=c._||b&&b._,g?g.call(b,"Cancel",i):j.call(b,"_","Cancel",i)))+"</a>\n    </div>\n</form>\n"}),this.Handlebars.templates.series_list=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},"<tbody>\n</tbody>"}),this.Handlebars.templates.series_list_row=Handlebars.template(function(a,b,c,d,e){function f(a,b){return'\n        <a href="#" class="js-series-delete-row"><i class="ico-trash"></i></a>\n'}function g(a,b){return'\n        <i class="ico-trash"></i>\n'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h="",i,j,k,l=c.helperMissing,m=this.escapeExpression,n=this;return h+='<td width="75"></td>\n<td>',k={hash:{},data:e},h+=m((i=c.eventDateFormat||b&&b.eventDateFormat,i?i.call(b,b&&b.start_date,b&&b.end_date,k):l.call(b,"eventDateFormat",b&&b.start_date,b&&b.end_date,k)))+'</td>\n<td>\n    <div class="js-series-row-tools series-row-tools">\n        <a href="#" class="js-series-edit-row"><i class="ico-write"></i></a>\n',j=c["if"].call(b,b&&b.can_delete,{hash:{},inverse:n.program(3,g,e),fn:n.program(1,f,e),data:e}),(j||0===j)&&(h+=j),h+="\n    </div>\n</td>"}),this.Handlebars.templates.series_layout=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="js-region-series-content"></div>\n<div class="js-region-series-create"></div>'}),this.Handlebars.templates.series_card=Handlebars.template(function(a,b,c,d,e){function f(a,b){return'\n                <a href="#" class="js-series-edit"><i class="ico-write"></i></a>\n'}function g(a,b){return'\n                <a href="#" class="js-series-delete"><i class="ico-trash"></i></a>\n'}function h(a,b){return'\n                <i class="ico-trash"></i>\n'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i="",j,k,l,m="function",n=this.escapeExpression,o=c.helperMissing,p=this;return i+='<thead>\n    <tr class="series-row-head">\n        <th width="75" class="report__cell--selected series-cell-dates">\n        <span class="text-body-large text-body--significant">',(j=c.count)?j=j.call(b,{hash:{},data:e}):(j=b&&b.count,j=typeof j===m?j.call(b,{hash:{},data:e}):j),i+=n(j)+"</span><br>",(j=c.date_label)?j=j.call(b,{hash:{},data:e}):(j=b&&b.date_label,j=typeof j===m?j.call(b,{hash:{},data:e}):j),i+=n(j)+'</th>\n        <th class="report__cell--selected">\n            <p class="l-mar-top-1 text-body--significant">',(j=c.label)?j=j.call(b,{hash:{},data:e}):(j=b&&b.label,j=typeof j===m?j.call(b,{hash:{},data:e}):j),i+=n(j)+'</p>\n            <p class="text-body-small text-body--faint">',l={hash:{},data:e},i+=n((j=c.cardDateFormat||b&&b.cardDateFormat,j?j.call(b,b&&b.start_moment,b&&b.end_moment,l):o.call(b,"cardDateFormat",b&&b.start_moment,b&&b.end_moment,l)))+'</p>\n        </th>\n        <th class="report__cell--selected">\n            <div class="js-series-card-tools series-card-tools">\n                <a href="#" class="js-series-expand"><i class="ico-list"></i></a>\n',k=c["if"].call(b,b&&b.can_edit,{hash:{},inverse:p.noop,fn:p.program(1,f,e),data:e}),(k||0===k)&&(i+=k),i+="\n",k=c["if"].call(b,b&&b.can_delete,{hash:{},inverse:p.program(5,h,e),fn:p.program(3,g,e),data:e}),(k||0===k)&&(i+=k),i+="\n            </div>\n        </th>\n    </tr>\n</thead>\n<tbody>\n</tbody>"}),this.Handlebars.templates.reserved_layout=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="js-region-reserved-seating-content"></div>\n<input name="group-details-inventory_type" type="hidden"/>\n'}),this.Handlebars.templates.reserved_toggle_lightbox=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h="function",i=this.escapeExpression;return f+='<div id="assigned_seating_lightbox" class="eb_lightbox" data-no-background-click="true">\n    <div class="eb_lightbox_header">\n        Assigned Seating\n        <div class="eb_lightbox_close"></div>\n    </div>\n    <div class="eb_lightbox_content has-centered-inline-content">\n        <section class="l-pad-vert-3">\n             <img src="',(g=c.MEDIA_URL)?g=g.call(b,{hash:{},data:e}):(g=b&&b.MEDIA_URL,g=typeof g===h?g.call(b,{hash:{},data:e}):g),f+=i(g)+'django/images/icons/comfy-chair.png" />\n        </section>\n        <section>\n            <span class="text-body-large">Customize, edit and sell out your seated event.</span>\n        </section>\n        <section class="l-pad-vert-4 l-sm-pad-vert-3">\n            <label class="text-body--significant">\n                Enable reserved seating\n            </label>\n\n            <span class="l-pad-hor-2">\n                <input type="radio" name="reserved_toggle" class="js-reserved-toggle" id="reserved_toggle_0" value="1">\n                <label for="reserved_toggle_0">Yes</label>\n            </span>\n\n            <input type="radio" name="reserved_toggle" class="js-reserved-toggle" id="reserved_toggle_1" value="0">\n            <label for="reserved_toggle_1">No</label>\n        </section>\n    </div>\n    <div class="eb_lightbox_footer btn-group">\n        <a class="btn btn--small btn--secondary js-cancel">Cancel</a>\n        <a class="btn btn--small js-save">Save</a>\n    </div>\n</div>\n'}),this.Handlebars.templates.reserved_new_chooser=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d="",e,f;return d+='\n<p class="text-body-large has-centered-inline-content l-pad-vert-1 is-hidden js-venue-name-message">\n    ',f={hash:{},data:b},d+=k((e=c._||a&&a._,e?e.call(a,"Start with a venue map previously used for %s",a&&a.venueName,f):j.call(a,"_","Start with a venue map previously used for %s",a&&a.venueName,f)))+"\n</p>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g="",h,i,j=c.helperMissing,k=this.escapeExpression,l=this;return h=c["if"].call(b,b&&b.venueName,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(g+=h),g+='\n\n<div class="js-saved-maps l-pad-vert-2 has-centered-inline-content hide-small">\n    <div class="has-centered-inline-content map-template l-pad-hor-2">\n        <a class="js-start pod seatmap-image icon-link js-open-map" data-automation="open-reserved-seat-map">\n            <i class="ico-circle-plus ico--xxlarge ico--addseatmap"></i>\n        </a>\n        <p class="text-body-medium l-pad-vert-1">',i={hash:{},data:e},g+=k((h=c._||b&&b._,h?h.call(b,"New venue map",i):j.call(b,"_","New venue map",i)))+"</p>\n    </div>\n</div>\n"}),this.Handlebars.templates.reserved_saved_template_item=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d="",e,f;return d+='\n    <label class="text-body-small badge badge--overlay badge--option">\n        ',f={hash:{},data:b},d+=m((e=c._||a&&a._,e?e.call(a,"Owner",f):l.call(a,"_","Owner",f)))+"\n    </label>\n    "}function g(a,b){return"seatmap-image--loading "}function h(a,b){var d="",e;return d+='\n            <img class="seatmap-image__thumbnail" src="',(e=c.image_base_url)?e=e.call(a,{hash:{},data:b}):(e=a&&a.image_base_url,e=typeof e===n?e.call(a,{hash:{},data:b}):e),d+=m(e)+'.svg">\n        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i="",j,k,l=c.helperMissing,m=this.escapeExpression,n="function",o=this;return i+='<div class="js-map-item has-centered-inline-content map-template l-pad-hor-2">\n    ',j=c["if"].call(b,b&&b.is_owner,{hash:{},inverse:o.noop,fn:o.program(1,f,e),data:e}),(j||0===j)&&(i+=j),i+='\n    <a class="pod seatmap-image ',j=c.unless.call(b,b&&b.imageIsReady,{hash:{},inverse:o.noop,fn:o.program(3,g,e),data:e}),(j||0===j)&&(i+=j),i+='js-open-map">\n        ',j=c["if"].call(b,b&&b.imageIsReady,{hash:{},inverse:o.noop,fn:o.program(5,h,e),data:e}),(j||0===j)&&(i+=j),i+='\n    </a>\n    <p class="text-body-medium l-pad-vert-1">',(j=c.name)?j=j.call(b,{hash:{},data:e}):(j=b&&b.name,j=typeof j===n?j.call(b,{hash:{},data:e}):j),i+=m(j)+'</p>\n    <p class="text-body-small text-body--faint">',(j=c.seat_count)?j=j.call(b,{hash:{},data:e}):(j=b&&b.seat_count,j=typeof j===n?j.call(b,{hash:{},data:e}):j),i+=m(j)+" ",k={hash:{},data:e},i+=m((j=c._||b&&b._,j?j.call(b,"seats",k):l.call(b,"_","seats",k)))+"</p>\n</div>\n"}),this.Handlebars.templates.reserved_show=Handlebars.template(function(a,b,c,d,e){function f(a,b){return' checked="checked" '}function g(a,b){var d="",e,f;return d+='\n                    <i class="ico-alert ico--color-brand-yellow ico--medium"></i>\n                    ',f={hash:{},data:b},d+=r((e=c._||a&&a._,e?e.call(a,"There are issues with your venue map.",f):q.call(a,"_","There are issues with your venue map.",f)))+"\n            "}function h(a,b){var d="",e,f;return d+='\n                    <i class="ico-checkmark ico--color-brand-dark-green ico--medium"></i>\n                    ',f={hash:{},data:b},d+=r((e=c._||a&&a._,e?e.call(a,"No issues with your venue map.",f):q.call(a,"_","No issues with your venue map.",f)))+"\n            "}function i(a,b){var d="",e,f;return d+='\n                    <i class="ico-alert ico--color-brand-yellow ico--medium"></i>\n                    ',f={hash:{},data:b},d+=r((e=c._||a&&a._,e?e.call(a,"All seats need a selling order.",f):q.call(a,"_","All seats need a selling order.",f)))+"\n            "}function j(a,b){var d="",e,f;return d+='\n                    <i class="ico-checkmark ico--color-brand-dark-green ico--medium"></i>\n                    ',f={hash:{},data:b},d+=r((e=c._||a&&a._,e?e.call(a,"All seats have a selling order.",f):q.call(a,"_","All seats have a selling order.",f)))+"\n            "}function k(a,b){var d="",e,f;return d+='\n                    <i class="ico-alert ico--color-brand-yellow ico--medium"></i>\n                    ',f={hash:{},data:b},d+=r((e=c._||a&&a._,e?e.call(a,"All seats need a ticket type.",f):q.call(a,"_","All seats need a ticket type.",f)))+"\n            "}function l(a,b){var d="",e,f;return d+='\n                    <i class="ico-checkmark ico--color-brand-dark-green ico--medium"></i>\n                    ',f={hash:{},data:b},d+=r((e=c._||a&&a._,e?e.call(a,"All seats have a ticket type.",f):q.call(a,"_","All seats have a ticket type.",f)))+"\n            "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var m="",n,o,p,q=c.helperMissing,r=this.escapeExpression,s="function",t=this;return m+='<section class="l-pad-vert-4 l-sm-pad-vert-3 hide-small">\n    <p class="js-venue-name text-body-large has-centered-inline-content"></p>\n\n    <section class="g-group l-pad-vert-3">\n        <div class="g-cell g-offset-lg-1-12 g-cell-1-2 g-cell-lg-6-12">\n            <div class="pod pod--primary l-pad-vert-3 l-pad-hor-2 clrfix">\n                <div class="l-media">\n                    <div class="pod seatmap-image seatmap-image--loading">\n                        <img class="seatmap-image__thumbnail" src="">\n                    </div>\n                    <img class="seatmap-image__thumbnail-placeholder hidden"\n                         src="',(n=c.MEDIA_URL)?n=n.call(b,{hash:{},data:e}):(n=b&&b.MEDIA_URL,n=typeof n===s?n.call(b,{hash:{},data:e}):n),m+=r(n)+'django/images/pages/create/mixed-map.png">\n                    <div class="">\n                        <p class="text-body-large text-body--significant" data-automation="seatmap-name">',(n=c.name)?n=n.call(b,{hash:{},data:e}):(n=b&&b.name,n=typeof n===s?n.call(b,{hash:{},data:e}):n),m+=r(n)+'</p>\n                        <p class="text-body--understated l-pad-vert-1" data-automation="seatmap-seat-count">',(n=c.seat_count)?n=n.call(b,{hash:{},data:e}):(n=b&&b.seat_count,n=typeof n===s?n.call(b,{hash:{},data:e}):n),m+=r(n)+'</p>\n                        <p class="text-body--understated" data-automation="seatmap-ticket-count">',(n=c.ticket_count)?n=n.call(b,{hash:{},data:e}):(n=b&&b.ticket_count,n=typeof n===s?n.call(b,{hash:{},data:e}):n),m+=r(n)+'</p>\n                        <div>\n                            <i class="ico-info js-d-tooltip" title=\'',p={hash:{},data:e},m+=r((n=c._||b&&b._,n?n.call(b,"If box is unchecked, attendees will get the best available seat.",p):q.call(b,"_","If box is unchecked, attendees will get the best available seat.",p)))+'\' style="float:right;"></i>\n                            <div class="responsive-form__checkbox l-mar-top-1">\n                                <input type="checkbox" id="id-group-extras-is_pick_a_seat_enabled" name="group-extras-is_pick_a_seat_enabled"\n                                ',o=c["if"].call(b,b&&b.can_pick_seat,{hash:{},inverse:t.noop,fn:t.program(1,f,e),data:e}),(o||0===o)&&(m+=o),m+=' />\n                                <label for="id-group-extras-is_pick_a_seat_enabled" style="color:#666666;">',p={hash:{},data:e},m+=r((n=c._||b&&b._,n?n.call(b,"Attendees can pick their seats",p):q.call(b,"_","Attendees can pick their seats",p)))+'</label>\n                                <label class="custom-input--delegate" for="id-group-extras-is_pick_a_seat_enabled"></label>\n                            </div>\n                        </div>\n                        <div>\n                            <i class="ico-info js-d-tooltip" title=\'',p={hash:{},data:e},m+=r((n=c._||b&&b._,n?n.call(b,"If box is unchecked, the venue map will be removed from the event page.",p):q.call(b,"_","If box is unchecked, the venue map will be removed from the event page.",p)))+'\' style="float:right;"></i>\n                            <div class="responsive-form__checkbox l-mar-top-1">\n                                <input type="checkbox" id="id-group-extras-can_display_seat_map" name="group-extras-can_display_seat_map"\n                                ',
o=c["if"].call(b,b&&b.can_display_seat_map,{hash:{},inverse:t.noop,fn:t.program(1,f,e),data:e}),(o||0===o)&&(m+=o),m+=' />\n                                <label for="id-group-extras-can_display_seat_map" style="color:#666666;">',p={hash:{},data:e},m+=r((n=c._||b&&b._,n?n.call(b,"Venue map thumbnail visible on event page",p):q.call(b,"_","Venue map thumbnail visible on event page",p)))+'</label>\n                                <label class="custom-input--delegate" for="id-group-extras-can_display_seat_map"></label>\n                            </div>\n                        </div>\n                        <div>\n                            <i class="ico-info js-d-tooltip" title=\'',p={hash:{},data:e},m+=r((n=c._||b&&b._,n?n.call(b,"Shows attendees color breaks on the venue map thumbnail during checkout",p):q.call(b,"_","Shows attendees color breaks on the venue map thumbnail during checkout",p)))+'\' style="float:right;"></i>\n                            <div class="responsive-form__checkbox l-mar-top-1">\n                                <input type="checkbox" id="id-group-extras-show_colors_in_seatmap_thumbnail" name="group-extras-show_colors_in_seatmap_thumbnail"\n                                ',o=c["if"].call(b,b&&b.show_colors_in_seatmap_thumbnail,{hash:{},inverse:t.noop,fn:t.program(1,f,e),data:e}),(o||0===o)&&(m+=o),m+=' />\n                                <label for="id-group-extras-show_colors_in_seatmap_thumbnail" style="color:#666666;">',p={hash:{},data:e},m+=r((n=c._||b&&b._,n?n.call(b,"Show ticket colors in checkout",p):q.call(b,"_","Show ticket colors in checkout",p)))+'</label>\n                                <label class="custom-input--delegate" for="id-group-extras-show_colors_in_seatmap_thumbnail"></label>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="g-cell g-offset-lg-1-12 g-cell-1-2 g-cell-lg-4-12">\n            <ul class="bullet-list-ico text-body-large">\n                <li class="l-pad-vert-2">\n            ',o=c["if"].call(b,b&&b.map_errors,{hash:{},inverse:t.program(5,h,e),fn:t.program(3,g,e),data:e}),(o||0===o)&&(m+=o),m+='\n                </li>\n                <li class="l-pad-vert-2">\n            ',o=c["if"].call(b,b&&b.selling_order_errors,{hash:{},inverse:t.program(9,j,e),fn:t.program(7,i,e),data:e}),(o||0===o)&&(m+=o),m+='\n                </li>\n                <li class="l-pad-vert-2">\n            ',o=c["if"].call(b,b&&b.ticket_errors,{hash:{},inverse:t.program(13,l,e),fn:t.program(11,k,e),data:e}),(o||0===o)&&(m+=o),m+='\n                </li>\n            </ul>\n            <p class="l-pad-vert-2">\n                <a href="#" class="js-seatmap-launch btn" data-automation="seatmap-launch" >',p={hash:{},data:e},m+=r((n=c._||b&&b._,n?n.call(b,"Launch Venue Designer",p):q.call(b,"_","Launch Venue Designer",p)))+"</a>\n            </p>\n        </div>\n    </section>\n</section>\n"}),this.Handlebars.templates.delete_ticket_type_confirmation=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i=c.helperMissing,j=this.escapeExpression;return f+='<div class="g-cell g-cell--no-gutters g-cell-12-12 g-cell-md-3-4 g-cell-lg-6-12">\n    <h3 class="modal__heading l-pad-hor-2">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Confirm ticket type deletion",h):i.call(b,"_","Confirm ticket type deletion",h)))+'</h3>\n    <section class="modal__body l-align-center">\n        <section class="l-mar-top-4">\n            <p class="l-align-center" data-automation="delete-ticket-type-message">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Are you sure you want to delete this ticket type?",h):i.call(b,"_","Are you sure you want to delete this ticket type?",h)))+'</p>\n            <section class="l-mar-top-2 l-align-center l-mar-top-6">\n                <button type="button" class="js-close btn btn--secondary js-cancel">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Cancel",h):i.call(b,"_","Cancel",h)))+'</button>\n                <button type="button" class="btn btn--ico js-confirm" data-automation="delete-ticket-type">',h={hash:{},data:e},f+=j((g=c._||b&&b._,g?g.call(b,"Delete",h):i.call(b,"_","Delete",h)))+"</button>\n            </section>\n        </section>\n    </section>\n</div>\n"}),this.Handlebars.templates.date_time_picker=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d="",e;return d+="\n        tabindex='",(e=c.dateTabIndex)?e=e.call(a,{hash:{},data:b}):(e=a&&a.dateTabIndex,e=typeof e===j?e.call(a,{hash:{},data:b}):e),d+=k(e)+"'\n    "}function g(a,b){var d="",e;return d+="\n        tabindex='",(e=c.timeTabIndex)?e=e.call(a,{hash:{},data:b}):(e=a&&a.timeTabIndex,e=typeof e===j?e.call(a,{hash:{},data:b}):e),d+=k(e)+"'\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h="",i,j="function",k=this.escapeExpression,l=this;return h+='<div class="g-group">\n    <div class="g-cell g-cell-1-2 g-cell--no-gutters">\n        <input\n        class="js-date-input"\n        type="text"\n    ',i=c["if"].call(b,b&&b.tabindex,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(i||0===i)&&(h+=i),h+='\n        />\n    </div>\n\n    <div class="g-cell g-cell-1-2 g-cell--no-gutters custom-select-time-picker">\n    <input\n        type="text"\n        class="js-time-input"\n        data-use24hour="',(i=c.use24hour)?i=i.call(b,{hash:{},data:e}):(i=b&&b.use24hour,i=typeof i===j?i.call(b,{hash:{},data:e}):i),h+=k(i)+'"\n    ',i=c["if"].call(b,b&&b.tabindex,{hash:{},inverse:l.noop,fn:l.program(3,g,e),data:e}),(i||0===i)&&(h+=i),h+='\n        />\n    </div>\n</div>\n<div class="js-date-time-error form__field-error is-hidden"></div>\n'}),function(a,b,c){a=a||{};var d,e=function(b){a.CreatePage&&a.CreatePage.trackError&&a.CreatePage.trackError(b)};c(["eb/janus"],function(a){d=a}),a.Taxes=function(){function f(){var a=[];return b(".js-ticket-container .js-ticket-row").each(function(c,d){var e=b(d).find(L.name).val(),f=parseInt(b(d).find(L.cid).val(),10);e&&f&&a.push({id:f,name:e,isPaid:ticketIsPaid(d),isDonation:ticketIsADonation(d),parsedId:f})}),a}var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K={el:{fees:".js-apply_tax_options-tax-on-fees-wrapper",lightbox:".js-apply_tax_options-tax-lightbox-wrapper",error:"#id_group-tax-apply_tax_errors",question:".js-tax-registration-question",customQuestion:".js-tax-registration-custom-question"},wrapper:{fees:".js-apply_tax_options-tax-lightbox-wrapper",lightbox:".js-apply_tax_options-tax-on-fees-wrapper"},initialWrapper:".js-apply_tax_options-wrapper",editLink:".tax_lightbox_link",taxOnFeesLightbox:".js-tax-on-fees-lightbox",taxDisclaimer:".js-tax-on-fees-disclaimer",taxDisclaimerText:".js-tax-on-fees-disclaimer-text",customTaxDisclaimerText:".js-custom-tax-on-fees-disclaimer-text",optionText:".js-apply-tax-extra-text"},L={name:".js-ticket-name",cid:"[id^=id_group-tickets-][id$=-cid]",cost:"[id^=id_group-tickets-][id$=-cost]",donation:"[id^=id_group-tickets-][id$=is_donation]"},M={hiddenClass:"is-hidden",customOptionClass:"js-apply-tax-extra-text",btnDisabledClass:"btn--disabled",LETTax:"LETTax"},N=function(a){a.removeClass("visible").addClass("hidden")},O=function(a){a.removeClass("hidden").addClass("visible")},P=function(a){a.addClass("is-disabled")},Q=function(a){R()},R=function(){g?is_checked=b("#id_group-invoice_tax_pdf-attach_invoice_tax_pdf").is(":checked"):is_checked=b("#id_attach_invoice_tax_pdf").is(":checked"),is_checked?(O(b("#tax_invoice_details")),b("#tax_options_content").addClass("scrollable_box")):(N(b("#tax_invoice_details")),b("#tax_options_content").removeClass("scrollable_box"))},S=function(a){a.preventDefault(),b("#tax_option_ticket_types").hasClass("hidden")?(O(b("#tax_option_ticket_types")),b("#show_tax_option_ticket_types").html(gettext("Hide"))):(N(b("#tax_option_ticket_types")),b("#show_tax_option_ticket_types").html(gettext("Show all")))},T=function(a){a.preventDefault(),is_checked=b("#id_group-tax-country_exemption_type_2").is(":checked"),is_checked?O(b("#tax_option_country_exemptions")):N(b("#tax_option_country_exemptions"))},U=function(a){var c=b("#id_group-tax-country").val();n.indexOf(c)>=0?O(b("#tax_option_country_exemption_settings")):N(b("#tax_option_country_exemption_settings"))},V=function(a){var b=H.val();o.indexOf(b)>=0?(F.prop("checked",!1),N(G)):O(G),R()},W=function(a){var c=b(I).parent().children(".responsive-form__hint")[0];"#"+a.target.id===I?(c.classList.remove("is-hidden"),p.set("radioIsExempt",!0)):(c.classList.add("is-hidden"),p.set("radioIsExempt",!1))},X=function(a){b("input[name=group-tax-country_exemptions]").attr("checked","checked")},Y=function(a){b("input[name=group-tax-country_exemptions]").removeAttr("checked")},Z=function(a){var c=b("#tax_option_country select:first").val(),d,e;switch(c){case"AU":d=gettext("Territory:"),e=gettext("Postal Code:");break;case"IE":d=gettext("County:"),e=gettext("Postal Code:");break;case"CA":d=gettext("Province:"),e=gettext("Postal Code:");break;default:case"US":d=gettext("State:"),e=gettext("Zip:")}b("#tax_option_state").html(gettext("Territory:")),b("#tax_option_zip").html(gettext("Postal Code:"))},$=function(a){var c=w.parent(),d=x.parent();letElement=c.children(K.optionText),a===M.LETTax?letElement.length||(c.append(_(gettext("I need to collect LET"))),d.append(_(gettext("I am exempt from LET")))):b(K.optionText).remove()},_=function(a){var c=b("<span>").text(", "+a).addClass(M.customOptionClass);return c},aa=function(a){b("#id_"+h+"-applies_to_all").is(":checked")?b("#tax_option_ticket_types").hasClass("visible")&&(N(b("#tax_option_ticket_types")),b("#show_tax_option_ticket_types").html(gettext("Show all"))):b("#tax_option_ticket_types").hasClass("hidden")&&(O(b("#tax_option_ticket_types")),b("#show_tax_option_ticket_types").html(gettext("Hide"))),ja()},ba=function(a){var c=b(a.target).val(),d=b(K.taxDisclaimer).hasClass("no-disclaimer-ui-country");c&&"False"!==c?(O(j.find(".tax_enabled")),clear_error("#id_"+h+"-tax_name"),clear_error("#id_"+h+"-tax_percent"),clear_error("#id_"+h+"-tax_registration_id"),void 0!==p&&p.set({taxEnabled:!0,taxPercent:ea()}),t&&toogleDisplayDisclaimer(!0),g&&handleUpdateNewTicketsOptions()):(N(j.find(".tax_enabled")),void 0!==p&&p.set("taxEnabled",!1),t&&(N(b(".tax_enabled")),toogleDisplayDisclaimer(d))),R()},ca=function(){return w.is(":checked")},da=function(){return w.is(":checked")||x.is(":checked")},ea=function(){return parseFloat(b("#id_"+h+"-tax_percent").val())},fa=function(){return b("#id_"+h+"-tax_name").val()},ga=function(){return b("#id_"+h+"-is_included_1").is(":checked")},ha=function(){var a="";return t&&(a=ca()?"business":"individual"),a},ia=function(a){var c=a.target.value,d;d="-"===c.slice(0,1)?m.get("c"+c.slice(1)):m.get(c),d.set("taxApplies",b(a.target).is(":checked")),ja()},ja=function(){var a=b("#id_group-tax-applies_to_all").is(":checked");return void 0!==p&&p.set("appliesToAllTickets",a),a},ka=function(){b("#id_group-tax-apply_tax_1").prop("checked",!0),N(b(".tax_enabled")),b(".tax_add").removeClass("hidden")},la=function(){b("#tax_exempt_no").prop("checked",!0),b("#tax_exempt_no").trigger("change")},ma=function(a,c,d,e){b.ajax({url:"/ajax/tax/is_taxable",data:{event_id:b("#id_eid").val(),country:c||b("#id_"+h+"-country").val(),postal_code:a},context:this}).done(function(a){(a.is_taxable?d:e)()})},na=function(a,c,d,e,f,g){b.ajax({url:"/ajax/tax/options",data:{event_id:b("#id_eid").val(),currency:a||l(),country:c||b("#id_"+h+"-country").val(),location_state:d,location_country:e},context:this}).success(function(a){t=a.show_tax_on_fees_ui,taxOnFeesCountry=a.tax_on_fees_country,eventModel&&eventModel.set("tax_on_fees_enabled",a.is_tax_on_fees_enabled),ra(t,!taxOnFeesCountry),t?a.tax_name_class==M.LETTax?(toogleDisplayDisclaimer(!0),$(a.tax_name_class)):(toogleDisplayDisclaimer(ca()),$()):$(),!a.tax_enabled||i&&!ca()?(ka(),g(k)):f(k),a.tax_registration_id_question?(b(K.el.question).addClass(M.hiddenClass),b(K.el.customQuestion).html(a.tax_registration_id_question).addClass("label-primary l-pad-left-1").parent().removeClass(M.hiddenClass)):(b(K.el.question).removeClass(M.hiddenClass),b(K.el.customQuestion).parent().addClass(M.hiddenClass)),a.tax_disclaimer?(b(K.taxDisclaimerText).addClass(M.hiddenClass),b(K.customTaxDisclaimerText).removeClass(M.hiddenClass).html(a.tax_disclaimer)):(b(K.taxDisclaimerText).removeClass(M.hiddenClass),b(K.customTaxDisclaimerText).addClass(M.hiddenClass)),b(".js-tax_registration_id").html(a.tax_registration_id_name),b(".tax_name").html(a.tax_name),z.attr("data-original-title",a.tax_info),ca()||b("#id_"+h+"-tax_percent").val(a.tax_default_percent),b(".tax_percent").text(ea()+"%"),b(".js-default_tax_percent").text(a.tax_default_percent+"%"),b("#id_"+h+"-tax_name").val(a.tax_name),b("#id_"+h+"-tax_registration_id").attr("placeholder",a.example_registration_id),b("#tax_registration_help").html(a.tax_registration_id_help),changeTaxOnFeesOrganizerStatus(),c&&("not_listed"===c&&(c=b("#id_"+h+"-country").val()),change_tax_invoice_country(c))})},oa=function(a){var c=b(K.el[a]),d=b(K.wrapper[a]);c.append(d.children()),c.append(b(K.initialWrapper).children())},pa=function(){var a=x.is(":checked");oa("lightbox"),w.data("initial",w.is(":checked")),x.data("initial",a),a&&(N(b(".tax_enabled")),b(".tax_add").removeClass("hidden"))},qa=function(){s.open({items:{src:"#tax_form"},closeOnBgClick:"object"!=typeof Touch,callbacks:{close:cancelTaxOptions,open:s.saveInitialValues}})},ra=function(a,c){var d=b("#tax_apply");a?(O(y),N(b(".js-tax-lightbox")),N(d),oa("fees")):(N(y),O(b(".js-tax-lightbox")),O(d),ca()||b(".tax_add").removeClass("hidden")),a?(y.find("#id_"+h+"-apply_tax_0").off("click").on("click",qa),b(".tax_lightbox_link").off("click.tax_options").on("click.tax_options",qa)):(y.find("#id_"+h+"-apply_tax_0").off("click"),b(".tax_lightbox_link").off("click.tax_options").on("click.tax_options",pa)),!a||v&&u||(P(y.find('label[for="id_'+h+'-apply_tax_0"]')),P(y.find('label[for="id_'+h+'-apply_tax_1"]'))),b(K.taxDisclaimer).toggleClass("no-disclaimer-ui-country",a&&c)},sa=function(a){a.preventDefault(),O(b("#tax_options_content")),oa("lightbox");var c=b("#id_"+h+"-applies_to_all").is(":checked"),d=j.find("#tickets_to_tax ul"),e=b.map(d.find("input:checked"),function(a,c){return parseInt(b(a).val(),10)});d.empty(),void 0!==m?m.each(function(a){if("free"!==a.get("paymentType")){var f=i?'disabled="true" readonly="true"':"",g=a.id||"-"+a.cid.slice(1),j=c||e.indexOf(g)>-1?'checked="checked" ':" ",k='<li><input name="'+h+'-applies_to" id="tax-ticket-'+g+'" value="'+g+'" class="js-ticket-tax" type="checkbox" '+j+f+' data-initial="'+!!b.trim(j)+'"/><label for="tax-ticket-'+g+'">'+a.get("name")+"</label></li>";d.append(k)}}):b.each(item_list_callback(),createTicketCheckbox.bind(this,e,c,d)),b(".js-ticket-tax").on("change click",ia),b(".js-ticket-tax").trigger("change")},ta=function(a,c){b(".js-tax-error-display").removeClass("is-hidden"),b(a).addClass("error"),b(a+"_errors").addClass("error").html(c)},ua=function(a,b,c){return c||a.indexOf(b)>-1},va=function(a,b,c){return'<li><input name="'+h+'-applies_to" value="'+a.id+'" type="checkbox" '+b+c+' data-initial="'+!!b+'" data-automation="'+h+"-applies_to"+a.id+'"/><label> '+a.name+"</label></li>"};return clear_error=function(a){b(a).removeClass("error"),b(a+"_errors").removeClass("error").html("")},createTicketCheckbox=function(a,c,d,e,f){var g,h,j;(f.isPaid||f.isDonation)&&(g=i?'disabled="true" readonly="true"':"",h=ua(a,f.parsedId,c)?'checked="checked" ':" ",j=va(f,h,g),d.append(j),b('#tickets_to_tax input[type="checkbox"]').first().trigger("change"))},handleUpdateNewTicketsOptions=function(){var a=b("#id_"+h+"-applies_to_all").is(":checked"),c=j.find("#tickets_to_tax ul"),d=b.map(c.find("input:checked"),function(a,c){return parseInt(b(a).val(),10)});c.empty(),b.each(f(),createTicketCheckbox.bind(this,d,a,c))},ticketIsADonation=function(a){return"True"===b(a).find(L.donation).val()},ticketIsPaid=function(a){return parseInt(b(a).find(L.cost).val())>0},validate_business_address=function(){var a=!0;if(g)var c="#id_group-invoice_tax_pdf-address_1",d="#id_group-tax-company",f="#id_group-invoice_tax_pdf-city",h="#id_group-invoice_tax_pdf-zip",i="#id_group-invoice_tax_pdf-attach_invoice_tax_pdf";else var c="#id_address_1",d="#id_tax-company",f="#id_city",h="#id_zip",i="#id_attach_invoice_tax_pdf";return b(i).is(":checked")?(void 0!==b(c).val()&&(""==b(c).val()?(a=!1,b(c).is(":focus")||(ta(c,gettext("This field is required.")),e("TAX_BUSINESS_ADDRESS_REQUIRED"))):clear_error(c)),void 0!==b(d).val()&&(""==b(d).val()?(a=!1,b(d).is(":focus")||(ta(d,gettext("This field is required.")),e("TAX_COMPANY_REQUIRED"))):b(d).val().length>64?(a=!1,b(d).is(":focus")||(ta(d,gettext("Cannot be more than 64 characters")),e("TAX_COMPANY_TOO_LONG"))):clear_error(d)),void 0!==b(f).val()&&(""==b(f).val()?(a=!1,b(f).is(":focus")||(ta(f,gettext("This field is required.")),e("TAX_CITY_REQUIRED"))):clear_error(f)),void 0!==b(h).val()&&(""==b(h).val()?(a=!1,b(h).is(":focus")||(ta(h,gettext("This field is required.")),e("TAX_ZIP_REQUIRED"))):clear_error(h)),a):(clear_error(c),clear_error(d),a)},validate_tax_name=function(){var a=!0,c="#id_"+h+"-tax_name";return b(c).val().trim()?clear_error(c):(a=!1,b(c).is(":focus")||(ta(c,gettext("This field is required.")),e("TAX_NAME_REQUIRED"))),a},clean_tax_percent=function(){var a="#id_"+h+"-tax_percent",c=b(a),d=c.val();d&&b.isNumeric(d)&&c.val(parseFloat(d))},validate_tax_percent=function(){var a=!0,c="#id_"+h+"-tax_percent";return b(c).val()?isNaN(Number(b(c).val()))||Number(b(c).val())<0||Number(b(c).val())>100?(a=!1,b(c).is(":focus")||(ta(c,gettext("Enter a number between 0 and 100.")),e("TAX_PERCENTAGE_INVALID"))):clear_error(c):(a=!1,b(c).is(":focus")||(ta(c,gettext("This field is required.")),e("TAX_PERCENTAGE_REQUIRED"))),a},getTaxRegistrationSelectorWith=function(a){return"#id_"+a+"-tax_registration_id"},getTaxValidationCountrySelectorWith=function(a){return"#id_"+a+"-country"},validate_registration_id=function(a,c,d,f){var g=b("#tax_options_save_button"),c=c||b.noop,i=getTaxRegistrationSelectorWith(h),j=getTaxValidationCountrySelectorWith(h),k=void 0===f?!0:f;if(g.hasClass("btn--disabled"))return!1;if(b(i).val()){if(clear_error(i),""===b(j).val())return ta(j,gettext("This field is required.")),e("TAX_VALIDATION_COUNTRY_REQUIRED"),b(j).removeClass("error"),void c();clear_error(j),b.ajax({url:"/ajax/tax/validate_id",data:{event_id:b("#id_eid").val(),currency:d||l(),country:b(j).val(),location_country:eventModel?eventModel.get("venue").get("country"):location_country_callback,location_state:eventModel?eventModel.get("venue").get("state"):location_state_callback,tax_id:b(i).val().trim()},context:this,beforeSend:function(){g.addClass(M.btnDisabledClass)}}).success(function(b){b.valid?(clear_error(i),a()):logValidateRegistrationIdErrors(k,i,c)}).done(function(){g.removeClass(M.btnDisabledClass)})}else if(!b(i).is(":focus"))return ta(i,gettext("This field is required.")),e("TAX_REGISTRATION_ID_REQUIRED"),void c()},logValidateRegistrationIdErrors=function(a,b,c){a&&ta(b,gettext("Invalid tax ID")),e("TAX_INVALID_TAX_ID"),c()},validate_at_least_one_ticket_checked=function(a){var c=b("#id_"+h+"-applies_to_all").is(":checked"),d="#id_"+h+"-applies_to_all",f=j.find("#tickets_to_tax ul"),g=b.map(f.find("input:checked"),function(a,c){return parseInt(b(a).val())});return c||0!==g.length?(clear_error(d),!0):(ta(d,gettext("If tax is enabled it must apply to at least one item type")),e("TAX_REQUIRES_AT_LEAST_ONE_TICKET"),!1)},validate_country_exemptions=function(a){var c=b("#id_group-tax-country_exemption_type_2").is(":checked");if(c){var d=b("#id_"+h+"-country_exemption_type_2").is(":checked"),f="#id_"+h+"-country_exemption_type";if(d)return allCountries=b("input[name=group-tax-country_exemptions]"),selectedCountries=b("input[name=group-tax-country_exemptions]:checked"),0==selectedCountries.length?(ta(f,gettext("You need to select at least one country.")),e("TAX_REQUIRES_A_COUNTRY"),!1):selectedCountries.length==allCountries.length?(ta(f,gettext("You need to deselect at least one country.")),e("TAX_CANT_BE_ALL_COUNTRIES"),!1):(clear_error(f),!0)}return!0},sync_tax_validation_country_and_invoice_country=function(a){var c=b("#tax_option_country_validation select"),d=b("#pdf_tax_option_country select");c.on("change",function(){d.val(c.val())}),d.on("change",function(){c.val(d.val())})},change_tax_invoice_country=function(a){if(!ca()){var c=b("#tax_option_country_validation select");c.val(a),c.trigger("change")}U(),V()},hasValidTaxOptions=function(){return validate_tax_name()&&validate_tax_percent()&&validate_business_address()&&validate_at_least_one_ticket_checked()&&validate_country_exemptions()},cancelTaxOptions=function(a){resetModal(s);var c=hasValidTaxOptions();b(K.el.errors).length&&b(K.el.errors).removeClass("hidden"),validate_registration_id(function(){toggleTaxState(c),toggleApplyTax(c)},function(){toggleTaxState(!1),toggleApplyTax(!1)},void 0,!1),A.addClass("is-hidden"),clear_error(B),clear_error(C),clear_error(D),clear_error(E)},resetModal=function(a){var c=a.$modalEl;return a.modalConfig.resetDisabled?void(a.modalConfig.resetDisabled=!1):void c.find("input, select, textarea").each(function(){var a=b(this);/radio|checkbox/.test(a.attr("type"))?this.checked!==Boolean(a.data("initial"))&&a.trigger("click"):a.val(a.data("initial")||"").trigger("change").trigger("blur")})},save_tax_options=function(c){var e=!0;a.CreatePage&&a.CreatePage.toggleTrackingErrors&&a.CreatePage.toggleTrackingErrors(!0),ca()?(e=hasValidTaxOptions(),c.preventDefault(),validate_registration_id(function(){e&&(t&&(s.saveInitialValues(),s.modalConfig.resetDisabled=!0),b(".js-tax-error-display").addClass("is-hidden"),b.magnificPopup.close(),O(b(".tax_enabled")),b(".tax_percent").text(ea()+"%"),b(".tax_name").text(fa()),b(".tax_add.btn-group--responsive").addClass("is-hidden"),t&&u&&(toggleTaxState(e&&!0),toggleApplyTax(!0)),q(),e&&d&&d.logCheckpointViaAjax("create_tax_options_save_success"))})):(N(b(".tax_enabled")),b(".tax_add.btn-group--responsive").removeClass("is-hidden"),b.magnificPopup.close(),q()),a.CreatePage&&a.CreatePage.toggleTrackingErrors&&a.CreatePage.toggleTrackingErrors(!1)},changeTaxInclude=function(){void 0!==p&&p.set("taxIsIncluded",ga())},changeTaxPercent=function(){void 0!==p&&p.set("taxPercent",ea())},changeTaxOnFeesOrganizerStatus=function(){void 0!==p&&p.set("organizerTaxStatus",ha())},initHelpTips=function(){b(".help_tip").hoverIntent(function(a){var c=b(this).data("tip"),d="help_tip_"+c;b("#"+d).fadeIn(333)},function(a){var c=b(this).data("tip"),d="help_tip_"+c;b("#"+d).fadeOut(333)}).click(function(a){a.preventDefault()})},initCheckAll=function(){b("#id_"+h+"-applies_to_all").change(function(a){var c=b(this).is(":checked");b('#tickets_to_tax input[type="checkbox"]').prop("checked",!!c)}),b("#tickets_to_tax").delegate('input[type="checkbox"]',"change",function(a){var c=!0;b('#tickets_to_tax input[type="checkbox"]').each(function(){b(this).is(":checked")||(c=!1)}),b("#id_"+h+"-applies_to_all").prop("checked",!!c)})},toggleTaxState=function(a){a?O(b(".create-payout--tax-options .tax_enabled")):N(b(".create-payout--tax-options .tax_enabled"))},toogleDisplayDisclaimer=function(a){var c=b(K.taxDisclaimer);a?N(c):O(c)},toggleApplyTax=function(a){w.prop("checked",a),x.prop("checked",!a),a?w.trigger("change"):x.trigger("change")},{init:function(a){var d="";g=a.for_tickets,h=a.prefix,i=a.readonly,k=b(a.lightbox_link),q=a.on_save,l=a.currency_callback,location_state_callback=a.location_state_callback,location_country_callback=a.location_country_callback,l=a.currency_callback,item_list_callback=a.item_list_callback,j=b(a.lightbox),m=a.ticketCollection,n=a.countryExemptionsCountryList,o=a.notAllowedTaxToAttendeesInvoiceCountryList,p=a.taxModel,eventModel=a.eventModel,t=a.showTaxOnFeesUI,u=a.isTaxTransitionEnabled,v=a.isUserCanUpdatePaymentOptions,w=b("#id_"+h+"-apply_tax_0"),x=b("#id_"+h+"-apply_tax_1"),y=b(".js-tax-on-fees-lightbox"),z=b(".js-tax_info"),A=b(".js-tax-error-display"),B="#id_group-invoice_tax_pdf-address_1",C="#id_group-tax-company",D="#id_group-invoice_tax_pdf-city",E="#id_group-invoice_tax_pdf-zip",G=b("#tax_invoice"),I="#tax_exempt_yes",J="#tax_exempt_no",g?(F=b("#id_group-invoice_tax_pdf-attach_invoice_tax_pdf"),H=b("#id_group-tax-country")):(F=b("#id_attach_invoice_tax_pdf"),H=b("#id_tax-country"),V()),b("#id_"+h+"-tax_name").bind("blur keyup",validate_tax_name),b("#id_"+h+"-tax_percent").bind("blur",clean_tax_percent),b("#id_"+h+"-tax_percent").bind("blur keyup",validate_tax_percent),eventModel&&toggleApplyTax(eventModel.get("apply_tax")),d=["#id_group-tax-tax_registration_id","#id_group-tax-company","#id_group-invoice_tax_pdf-address_1"].join(", "),b(d).on("keyup",function(a){clear_error("#"+a.currentTarget.id)}),b("#tax_options_save_button").click(save_tax_options),j.bind("lightboxHide",function(a){j.find('[name="'+h+'-apply_tax"]:checked').change()}),k.click(sa),c(["eb-styleguide/js/ui_components/component_library","eb-styleguide/js/ui_components/modal/modal_view"],function(a,c){s=new c,a.then(function(){"#tax_form"==window.location.hash&&(t?ra(!0):b(K.editLink).trigger("click"),w.trigger("click"),window.location.hash="")})}),w.data("initial",w.is(":checked")),x.data("initial",x.is(":checked")),b(I).on("change",W),b(J).on("change",W),b(I).is(":checked")&&b(I).trigger("change"),t&&!u||(w.change(ba),x.change(ba),w.change(changeTaxOnFeesOrganizerStatus),x.change(changeTaxOnFeesOrganizerStatus),b(K.editLink).click(handleUpdateNewTicketsOptions)),b("#id_"+h+"-applies_to_all").change(aa),g?b("#id_group-invoice_tax_pdf-attach_invoice_tax_pdf").change(Q):b("#id_attach_invoice_tax_pdf").change(Q),b("#show_tax_option_ticket_types").click(S),b("#tax_option_country select:first").change(Z),b("#id_group-tax-is_included_0").change(changeTaxInclude),b("#id_group-tax-is_included_1").change(changeTaxInclude),b("#id_group-tax-tax_percent").change(changeTaxPercent),H.change(U),H.change(V),b("#id_group-tax-country_exemption_type_0").change(T),b("#id_group-tax-country_exemption_type_1").change(T),b("#id_group-tax-country_exemption_type_2").change(T),b("#js-country-exemptions-select-all").click(X),b("#js-country-exemptions-deselect-all").click(Y),initHelpTips(),initCheckAll(),sync_tax_validation_country_and_invoice_country(),b(".js-tax-lightbox.is-hidden").removeClass("is-hidden"),b(".tax_enabled_edit").click(function(){b(".tax_add.btn-group--responsive").children().click()})},tax_enabled:ca,get_tax_percent:ea,get_tax_included:ga,updateTaxOptions:na,changeTaxPercent:changeTaxPercent,changeTaxInclude:changeTaxInclude,isTaxAppliesToAll:ja,disable_tax_options:ka,updateTaxExemption:ma,resetTaxExemptionOption:la}}()}(window.EB=window.EB||{},jQuery,require),function(a,b){a.namespace("CreatePage"),a.CreatePage.PrivacyAndPromotion=Backbone.Model.extend({defaults:{listed:null,primary_category:"",secondary_category:"",event_format:"",event_category:"",event_subcategory:"",invitation_only:!1,password:"",password_protected:"",social_sharing:!1},initialize:function(){this.bind("change:invitation_only",this.handleInvitationOnlyChange,this)},validate:function(a){return a.primary_category&&a.primary_category===this.get("secondary_category")?gettext("Primary and Secondary Categories need to be unique."):a.secondary_category&&a.secondary_category===this.get("primary_category")?gettext("Primary and Secondary Categories need to be unique."):void 0},handleInvitationOnlyChange:function(a,b){a.get("invitation_only")===!0?(a.set({social_sharing:!1}),a.trigger("disabled_change:social_sharing",!0)):a.trigger("disabled_change:social_sharing",!1)}}),a.CreatePage.PrivacyAndPromotionView=Backbone.View.extend({initialize:function(a){this.fieldPrefix=a.fieldPrefix?a&&a.fieldPrefix:"id_",this.model.bind("change:listed",this.showPrivacyOrPromotion,this),this.model.bind("disabled_change:social_sharing",this.handleSocialSharingDisabledChange,this),ENDURANCE_FORMAT_ID=a.ENDURANCE_FORMAT_ID,this.eventCategoryOther=a.EVENT_CATEGORY_OTHER,this.eventSubcategories=a.eventSubcategories||{},this.categoryPublishError=a.categoryError,this.formatPublishError=a.formatError},render:function(){new a.UIComponents.SelectBox({element:b("#id_group-privacy_and_promotion-primary_category"),parentClass:"responsive-form__select create_select_time_field"}),new a.UIComponents.SelectBox({element:b("#id_group-privacy_and_promotion-secondary_category"),parentClass:"responsive-form__select create_select_time_field"}),b("#id_group-privacy_and_promotion-event_format").length&&new a.UIComponents.SelectBox({element:b("#id_group-privacy_and_promotion-event_format"),parentClass:"responsive-form__select create_select_time_field"}),b("#id_group-privacy_and_promotion-event_category").length&&new a.UIComponents.SelectBox({element:b("#id_group-privacy_and_promotion-event_category"),parentClass:"responsive-form__select create_select_time_field"}),b("#id_group-privacy_and_promotion-event_subcategory").length&&new a.UIComponents.SelectBox({element:b("#id_group-privacy_and_promotion-event_subcategory"),parentClass:"responsive-form__select create_select_time_field"}),this.categoryPublishError&&b(".js-create-category-error").removeClass("is-hidden"),this.formatPublishError&&b(".js-create-format-error").removeClass("is-hidden"),this.triggerChangesForAllInputs()},triggerChangesForAllInputs:function(){_.each(b('[id^="'+this.fieldPrefix+'"]'),function(a){b(a).trigger("change")})},events:{"change #id_group-privacy_and_promotion-listed_0":"changeListed","change #id_group-privacy_and_promotion-listed_1":"changeListed","change #id_group-privacy_and_promotion-invitation_only":"changeInvitationOnly","change #id_group-privacy_and_promotion-social_sharing":"changeSocialSharing","change #id_group-privacy_and_promotion-primary_category":"changePrimaryCategory","change #id_group-privacy_and_promotion-secondary_category":"changeSecondaryCategory","change #id_group-privacy_and_promotion-event_format":"changeEventFormat","change #id_group-privacy_and_promotion-event_category":"chagedEventCategory","blur #id_group-privacy_and_promotion-custom_subdomain":"saveCustomSubdomain"},changeListed:function(a){var c=b(a.currentTarget),d=null;c.is(":checked")&&(d="True"===c.val(),this.model.set({listed:d}))},changeInvitationOnly:function(a){this.model.set({invitation_only:a.currentTarget.checked})},changeSocialSharing:function(a){this.model.set({social_sharing:a.currentTarget.checked})},disableOption:function(a,c){b(a).find('option[value="'+c+'"]').attr("disabled","disabled")},chagedEventCategory:function(){var a=this.$("#id_group-privacy_and_promotion-event_category").val(),b=this.eventSubcategories[a],c=this.$("#id_group-privacy_and_promotion-event_subcategory"),d=c.val(),e=document.createElement("option");if(c.length>0)if(""===a||parseInt(a)===this.eventCategoryOther)c.val("").trigger("change").parent().addClass("hidden");else if(c.find("option").remove(),e.value="",e.innerHTML=gettext("Select a sub-topic"),c.append(e),b){for(var f=0;f<b.length;f++){var g=b[f],h=document.createElement("option");h.value=g[0],h.innerHTML=g[1],c.append(h)}c.val(d).trigger("change").parent().removeClass("hidden")}else c.val("").trigger("change").parent().addClass("hidden")},changeCategory:function(a,c,d){var e={},f=a.currentTarget.value;e[c]=f;var g=!f,h=this.model.set(e,{error:function(){b(a.currentTarget).val("")}});h&&(this.getFieldElement(d).find("option").removeAttr("disabled"),g||this.disableOption(this.getFieldElement(d),f))},changePrimaryCategory:function(a){this.changeCategory(a,"primary_category","secondary_category")},changeSecondaryCategory:function(a){this.changeCategory(a,"secondary_category","primary_category")},changeEventFormat:function(a,b,c){this.getFieldElement("event_format").find("option").removeAttr("disabled");
},getFieldElement:function(a){return b("#"+this.fieldPrefix+a)},handleSocialSharingDisabledChange:function(a){var b=this.getFieldElement("social_sharing");a?(b[0].checked=!1,b.attr("disabled","disabled")):b.removeAttr("disabled")},showPrivacyOrPromotion:function(){this.model.get("listed")?(b("#privacy_and_promotion_content .privacy").addClass("hidden"),b("#privacy_and_promotion_content .promotion").removeClass("hidden"),b("#private_event_label").addClass("hidden")):(b("#privacy_and_promotion_content .promotion").addClass("hidden"),b("#privacy_and_promotion_content .privacy").removeClass("hidden"),b("#private_event_label").removeClass("hidden"))}})}(window.EB=window.EB||{},jQuery),function(a,b){a.namespace("CreatePage"),a.CreatePage.Preview=function(){var c,d,e=333,f=!0,g=!1,h=!1,i,j,k,l,m,n,o,p,q=b("#preview_page").find("#to_new_listing"),r=b("#preview_page").find("#to_old_listing"),s=b(".js-create-theme"),t=function(){return a.CreatePage.featureFlags&&a.CreatePage.featureFlags.newListing2014},u=function(a){var b=a.contentWindow||a.contentDocument;return b.document&&(b=b.document),b},v=function(){return u(b("#preview_frame")[0])},w=function(){var a=u(b("#preview_frame")[0]);return!a.getElementById("event-page")},x=function(){var a={};return b(".swatch input").each(function(){a[this.name.replace("group-appearance-","")]=this.value}),a},y=function(){b("#preview_frame").css("height",b(window.frames.preview_frame.document).height()+"px")},z=function(){b(window).trigger("hashchange",{fragment:"preview"})},A=function(){var a=Handlebars.compile(b("#custom_css_styles_template").html());return a(x())},B=function(){var a=v(),c="";c=A(),b(a).find("head").find("#custom_css_styles").remove(),b(a).find("head").append('<style id="custom_css_styles" type="text/css">'+c+"</style>")},C=function(){k[f?"slideUp":"slideDown"](e),i.animate({top:f?"4px":l,"margin-bottom":f?"7px":m},e),j.animate({"margin-top":f?"15px":n},e),f=!f},D=function(){i=b("#preview_tray_wrapper"),j=b("#preview_frame"),k=b("#preview_tray"),l=i.css("top"),m=i.css("margin-bottom"),n=j.css("margin-top"),b("#preview_tray_tab").on("click",function(a){C()})},E=function(){var a=b("#themes_slides"),c=b("#default_themes li").length,d=b("#default_themes li.start").index()+1,e=function(a){b(a+"_deactive").hide(),b(a).show()},f=function(a){b(a).hide(),b(a+"_deactive").show()},g=function(a){1>=a?f(".prev"):a>=c?f(".next"):(e(".prev"),e(".next"))};return h||a.is(":hidden")?!1:(a.slides({container:"themes_slides_container",next:"next",prev:"prev",currentClass:"current",effect:"slide",start:d,animationComplete:function(){g(b(".pagination li.current").index()+1)}}),a.find(".themes_slides_container").css("display","inline-block"),g(d),void(h=!0))},F=function(){return!o.get("is_core")},G=function(){var d=b("#custom_colors .swatch input"),e=function(a){var d=c.all[a]||c.all.classic,e,f;g=!0;for(f in d)e=d[f]||"#FFFFFF",b("#custom_colors").find(".swatch_"+f).find("input").data("initial",e).miniColors("value",e);g=!1,c.current=a,B()};E(),b("#default_themes li img").click(function(c){var d="classic";d=b(this).attr("class").replace(/(selected\ |\ selected)/,""),e(d),b(this).addClass("selected"),a.DirtyPage.setDirty(!0)}),c.current in c.all&&(e(c.current),b("#default_themes li img."+c.current).addClass("selected")),d.each(function(a){b(this).data("initial",b(this).val())}),d.miniColors({change:function(a,d){""!=c.current&&(c.current="",b("#default_themes li img").removeClass("selected")),b(".miniColors-hex input").val(a),g||B()}}),d.bind("focus.miniColors",function(a){b(".miniColors-selector").append('<div class="miniColors-hex"><input type="text" maxlength="7" /></div><div class="miniColors-buttons"><a href="javascript:void(0)" class="eb_button tiny default cancel">'+gettext("Cancel")+'</a><a href="javascript:void(0)" class="eb_button tiny go save">'+gettext("Save")+"</a></div>"),b(".miniColors-hex input").val(b(".swatch input.active").val())}),b("body").delegate(".miniColors-buttons .eb_button","click",function(c){b(this).hasClass("save")?(b(document).trigger("mousedown.miniColors"),d.each(function(a){b(this).data("initial",b(this).val())}),a.DirtyPage.setDirty(!0)):(d.filter(".active").each(function(a){b(this).miniColors("value",b(this).data("initial"))}),b(document).trigger("mousedown.miniColors"))}),b("body").delegate(".miniColors-hex input","keyup",function(a){/^#[a-f0-9]{6}$/i.test(b(this).val())&&(b(".swatch input.active").miniColors("value",b(this).val()),13==a.keyCode&&b(".miniColors-buttons .eb_button.save").trigger("click"))}),b("#custom_colors li").click(function(a){b(this).find("input").trigger("focus")})},H=function(){var a=b("#id_group-show_attendees-show_attendees"),c=b("#show_attendees_settings"),d=b(".js-attendees-settings-trigger"),e=a.is(":checked"),f=function(){var a=!1;return c.find('input[type="checkbox"]').each(function(c){return b(this).is(":checked")?(a=!0,!1):void 0}),a};a.click(function(c){a.is(":checked")?d.trigger("click"):(b("#show_attendees_link").addClass("hidden"),e=!1)}),b("#show_attendees_link").click(function(a){a.preventDefault(),d.trigger("click")}),b("#show_attendees_settings .js-save").on("click",function(c){f()?(a.prop("checked",!0),b("#show_attendees_link").removeClass("hidden"),e=!0):(a.prop("checked",!1),b("#show_attendees_link").addClass("hidden"),e=!1)}),b("#show_attendees_settings .js-cancel").on("click",function(){e?(a.prop("checked",!0),b("#show_attendees_link").removeClass("hidden")):(a.prop("checked",!1),b("#show_attendees_link").addClass("hidden"))})},I=function(){t()&&(p=b(u(j[0])).find(".listing-change").attr("id"),"to_old"===p&&d?r.removeClass("hidden"):"to_new"===p&&(q.removeClass("hidden"),s.addClass("hidden")))},J=function(){b("#preview_frame").load(function(){I(),o.set("is_core",w())})};return{init:function(e){var f;c=e,d=e.isEventSaved,this.customThemeModel=o=new a.Models.CustomThemeModel({custom_header:b("#id_group-details-header").val(),custom_footer:b("#id_group-details-footer").val(),previewDoc:b("#preview_frame")}),D(),G(),H(),f=new a.CreatePage.CustomHTMLView({previewDoc:v(),model:o}),f.render(),o.on("changeIsCore",z),f.on("changeIsCore",z),f.on("updatedHTML",y),b(document).on("map:ready",y),J()},renderTheme:B,initThemeSlides:E,isCoreEventPage:w}}()}(window.EB||{},window.jQuery),// Information for customization of the event page
// IE, themes, header/footer, display attendees
function(a,b,c,d,e){"use strict";c.namespace("Models"),c.Models.CustomThemeModel=c.Backbone.Model.extend({defaults:{custom_header:"",custom_footer:"",is_core:null},initialize:function(){b.bindAll(this,"sanitizeCustomHTML")},sanitizeCustomHTML:function(){return a.ajax({url:"/sanitize/custom-html",type:"post",data:{headerHTML:this.get("custom_header"),footerHTML:this.get("custom_footer")}})}})}(window.jQuery,window._,window.EB,window),function(a,b,c,d){"use strict";c.namespace("CreatePage"),c.CreatePage.CustomHTMLView=c.Backbone.View.extend({el:".js-custom-html",bindings:{"#id_group-details-header":{observe:"custom_header",events:["blur"]},"#id_group-details-footer":{observe:"custom_footer",events:["blur"]}},events:{"click #add_html_link":"handleEditClick","click a.add_html_header_link":"handleHeaderFooterSelect","click a.add_html_footer_link":"handleHeaderFooterSelect","click .save":"handleSave","click .cancel":"handleCancel"},initialize:function(c){b.bindAll(this,"handleSave","handleCancel","handleUpdateHTML"),this.$previewDoc=a(c.previewDoc),this.initialHeader=this.$(".add_html_header textarea").val(),this.initialFooter=this.$(".add_html_footer textarea").val()},render:function(){return this},handleEditClick:function(a){a.preventDefault(),window.setTimeout(function(){c.Ui.placeholder("#add_html textarea")},0)},handleHeaderFooterSelect:function(b){b.preventDefault(),a(b.currentTarget).hasClass("selected")||(this.$("a.add_html_header_link, a.add_html_footer_link").toggleClass("selected"),this.$(".add_html_header, .add_html_footer").toggleClass("is-hidden"))},handleNewListing2014Change:function(b,d){var e=a("#preview_frame")[0].contentWindow||a("#preview_frame")[0].contentDocument,f=!!e.document.getElementById("event-page");c.CreatePage.featureFlags&&c.CreatePage.featureFlags.newListing2014&&(this.model.get("is_core")||this.model.set("is_core",!f),this.model.get("is_core")&&""===b&&""===d?this.trigger("changeIsCore"):this.model.get("is_core")||""===b&&""===d||(this.model.set("hasCustomHTML",!0),this.trigger("changeIsCore")))},handleUpdateHTML:function(a){var b=this.model.get("custom_header")?'<div id="customheader"><div class="main">'+a.headerHTML+"</div></div>":"",c=this.model.get("custom_footer")?'<div id="customfooter"><div class="main">'+a.footerHTML+"</div></div>":"";this.$previewDoc.find("#customheader, #customfooter").empty().remove(),this.$previewDoc.find("#contentpub").prepend(b),this.$previewDoc.find("#new_eb_footer_container, #eb_footer_container").before(c),this.initialHeader=a.headerHTML,this.initialFooter=a.footerHTML,this.$(".add_html_header textarea").val(this.initialHeader),this.$(".add_html_footer textarea").val(this.initialFooter),this.handleNewListing2014Change(b,c),this.trigger("updatedHTML")},handleSave:function(){this.showLoading(),this.model.sanitizeCustomHTML().done(this.handleUpdateHTML).always(this.hideLoading)},handleCancel:function(){this.$(".add_html_header textarea").val(this.initialHeader),this.$(".add_html_footer textarea").val(this.initialFooter)},showLoading:function(){a("#preview_frame_lightbox").css("opacity","0.8"),a("#preview_frame_message").show(),a("#preview_frame_spinner").show()},hideLoading:function(){a("#preview_frame_lightbox").css("opacity","0"),a("#preview_frame_message").hide(),a("#preview_frame_spinner").hide()}}).mixin(c.Backbone.Mixins.withStickit)}(window.jQuery,window._,window.EB,window.Handlebars),function(a,b,c){"use strict";b.namespace("CreatePage"),b.CreatePage.CurrencyModel=b.Backbone.Model.extend({defaults:{currency:"USD",currencySymbol:"$",formattedCurrency:"$ USD",country:"",paypalEmail:"",TLD:".com",TLDDefaultCurrency:"USD"},config:{atdCurrencies:["USD","CAD","GBP"]},validation:{paypalEmail:[{fn:function(a){return a.length>0&&!checkEmail(a)?(b.CreatePage.trackError&&b.CreatePage.trackError("payout_paypal_email_invalid"),window.gettext("Please enter a valid email address")):void 0}}],currency:[{fn:function(a){return a.length<1&&!this.get("eventModel").get("is_free")?(b.CreatePage.trackError&&b.CreatePage.trackError("payout_currency_required"),window.gettext("Currency is required")):void 0}}],country:[{fn:function(a){return a.length<1&&!this.countryIsOptional&&!this.get("eventModel").get("is_free")?(b.CreatePage.trackError&&b.CreatePage.trackError("payout_country_required"),window.gettext("Country is required")):void 0}}]},initialize:function(b,d){b=b||{},d=d||{},c.bindAll(this,"currencyChangedEvent","currencySymbolChangedEvent","countryChangedEvent","isCCPCurrency","isNonPaypalCountry"),this.nonEuroCCPCountries=d.nonEuroCCPCountries||[],this.CCPCurrencies=d.CCPCurrencies||[],this.euroCCPCountries=d.euroCCPCountries||[],this.TLD=b.TLD||"com",this.TLDDefaultCurrency=b.TLDDefaultCurrency,this.paypalOnlyCountries=d.paypalOnlyCountries||[],this.currencyCountryPairs=d.currencyCountryPairs||{},this.extraEppCountryCurrencies=d.extraEppCountryCurrencies||{},this.nonPaypalCountries=d.nonPaypalCountries||[],this.ATDCurrencies=d.ATDCurrencies||[],this.hasClickedMakeEventLive=!!a("#id_group-details-make_live").val(),this.publishFailed=d.publishFailed||!1,this.paymentOptionsDefaulted=d.paymentOptionsDefaulted,this.userCanUpdatePaymentOptions=d.userCanUpdatePaymentOptions,this.countryCurrencyNotAlllowedATD=d.countryCurrencyNotAlllowedATD||[],this.canChangePaymentCountry=d.canChangePaymentCountry,this.eppAsDefaultPaymentMethod=d.eppAsDefaultPaymentMethod,this.on("change:currency",this.currencyChangedEvent),this.on("change:country",this.countryChangedEvent),this.on("change:currencySymbol",this.currencySymbolChangedEvent)},toJSON:function(){var a=Backbone.Model.prototype.toJSON.call(this),b=this.get("usingPaypal"),d=!0;return(!this.isCCPCurrencySelected()||this.isCurrencyEUR()&&!this.isCCPCountrySelected())&&(d=!1),c.extend(a,{isCCP:d,isEUR:this.isCurrencyEUR(),usingPaypal:this.get("usingPaypal"),excludePayPal:this.isNonPaypalCountry(),isCCPCountrySelected:this.isCCPCountrySelected(),isTLDCurrency:this.isTLDCurrency(this.get("currency")),requiresPaypal:this.requiresPaypal(),hasCurrencyErrors:this.get("hasCurrencyErrors")}),a},currencyChangedEvent:function(b,c){return this.trigger("currency-changed",this.toJSON()),c&&c.length?void a.ajax({url:"/ajax/fee",data:{eid:this.get("eventModel").get("eid"),currency:c,include_fee:0},cache:!1}).done(function(a){b.set("currencySymbol",a.currency_symbol),b.trigger("change:currencySymbol")}):(b.set("currencySymbol",""),void b.trigger("change:currencySymbol"))},countryChangedEvent:function(){var a=this.get("country"),b=this.get("currency"),c=this.get("usingPaypal");this.trigger("country-changed",{isCCP:this.isCCPCountrySelected(),isEUR:this.isCurrencyEUR(),usingPaypal:this.get("usingPaypal"),excludePayPal:this.isNonPaypalCountry(),isCCPCountrySelected:this.isCCPCountrySelected(),isTLDCurrency:this.isTLDCurrency(b),requiresPaypal:this.requiresPaypal(),hasCurrencyErrors:this.get("hasCurrencyErrors")})},currencySymbolChangedEvent:function(){var a=this.get("currencySymbol"),b=this.get("currency");this.set("formattedCurrency",a+" "+b)},isCCPCurrency:function(a){return this.CCPCurrencies.indexOf(a)>-1},isTLDCurrency:function(a){return this.TLDDefaultCurrency===a},isCCPCurrencySelected:function(){return this.isCCPCurrency(this.get("currency"))},isCCPCountrySelected:function(){var a=this.get("country");return this.euroCCPCountries.indexOf(a)>-1?!0:this.nonEuroCCPCountries.indexOf(a)>-1},isCCP:function(){return!this.get("usingPaypal")&&(this.isCCPCurrencySelected()||this.isCCPCountrySelected())},requiresPaypal:function(){var a=this.get("currency"),b=this.get("country"),c=this.extraEppCountryCurrencies[b];return!this.isCCPCurrencySelected()||b&&this.currencyCountryPairs[b]!==a&&(!c||c.indexOf(a)<0)||b&&this.paypalOnlyCountries.indexOf(b)>-1},isCurrencyEUR:function(){return"EUR"===this.get("currency")},isNonCCPOptionsSelected:function(){return!(!this.get("usingPaypal")&&this.isCCPCurrencySelected()&&(!this.isCurrencyEUR()||this.isCCPCountrySelected()))},isNonPaypalCountry:function(){var a=this.get("country");return!this.requiresPaypal()&&a&&this.nonPaypalCountries.indexOf(a)>-1},excludeATD:function(){var a=this.get("currency"),b=this.get("country"),d={};return d[b]=a,c.findIndex(this.countryCurrencyNotAlllowedATD,d)>-1},isHiddenAtTheDoor:function(){return!c.includes(this.config.atdCurrencies,this.get("currency"))}})}(window.jQuery,window.EB,window._),function(a,b,c,d,e){"use strict";b.namespace("CreatePage");var f;e(["eb/janus"],function(a){f=a});var g=function(a,b){b&&b.length&&f&&f.logCheckpointViaAjax("create_payout_country_selection")},h=function(a,b){b&&b.length&&f&&f.logCheckpointViaAjax("create_payout_currency_selection")},i=function(){this.value&&this.value.length&&f&&f.logCheckpointViaAjax("create_paypal_email_entered")};b.CreatePage.CurrencyView=b.Backbone.View.extend({el:"#create_tickets_wrapper",bindings:{"#id_group-details-currency":"currency",".js-selected-currency":"formattedCurrency","#id_group-payment_options-epp_country":"country","#id_group-payment_options-paypal_email":"paypalEmail"},events:{"change #id_group-payment_options-epp_country":"resetTaxExemptionOption"},initialize:function(a){c.bindAll(this,"toggleDefaultsForFreeStatus","handleIsFreeChange","handleVenueCountryChange","updatePayoutOptions","updateTaxOptions","hideTaxOptions","showTaxOptions","disableCurrency","enableCurrency","isCountrySet","isCurrencySet","shouldDisplayPayPal","updateTaxExemption","showTaxExemption","hideTaxExemption","checkTaxExemptionLevel","showTaxExemptionLevel","resetTaxExemptionOption"),this.eventModel=a.eventModel,this.updateTaxOptionsDebounced=c.debounce(this.updateTaxOptions,250),this.updateTaxExemptionDebounced=c.debounce(this.updateTaxExemption,250),this.isTaxExemptionEnabled=this.eventModel.get("currency")&&this.eventModel.get("currency").get("isTaxExemptionEnabled"),this.$changePayoutWrapper=this.$(".js-change-payout"),this.$changePayoutContainer=this.$changePayoutWrapper.find(".js-change-payout-container"),this.$changePayoutCell=this.$changePayoutContainer.find(".change-payout-container"),this.$createPayoutFields=this.$changePayoutCell.find(".create-payout--fields"),this.$createPayoutTaxOptions=this.$changePayoutCell.find(".create-payout--tax-options"),this.$createPayoutTaxExemption=this.$changePayoutCell.find(".create-payout--tax-tax-exemption"),this.$paypalEmailInputContainer=this.$createPayoutFields.find(".js-payout-paypal-email"),this.$newEppMarketNoPaypalContainer=this.$createPayoutFields.find(".new-epp-market-no-paypal"),this.payoutsEditable=this.$createPayoutFields.data("editable")&&this.model.userCanUpdatePaymentOptions,this.$paypalCurrencyDisplay=this.$paypalEmailInputContainer.find(".currency-name"),this.$paypalCountryDisplay=this.$paypalEmailInputContainer.find(".country-name"),this.$paypalRequiredElements=this.$paypalEmailInputContainer.find(".requires-paypal"),this.$notPaypalRequiredElements=this.$paypalEmailInputContainer.find(".not-requires-paypal"),this.$paypalSelectedElements=this.$paypalEmailInputContainer.find(".processor-is-paypal"),this.$currencySelect=this.$("#id_group-details-currency"),this.$countrySelect=this.$("#id_group-payment_options-epp_country"),this.$paypalEmailInput=this.$("#id_group-payment_options-paypal_email"),this.$taxCountrySelect=this.$("#id_group-tax-country"),this.isNewEvent=0===this.getWindowLocationPathname().indexOf("/create"),this.paymentOptionsVisible=!this.$changePayoutWrapper.hasClass("is-hidden"),this.paymentOptionsSetByVenue=!1,this.freeEventDefaultCountry=this.$countrySelect.val(),this.freeEventDefaultCurrency=this.$currencySelect.val(),this.model.defaultCurrencyForFees=this.freeEventDefaultCurrency,this.paymentOptionsDefaulted=!0,this.isNewEvent&&(this.paymentOptionsDefaulted=this.model.paymentOptionsDefaulted),this.model.on("currency-changed country-changed",this.updatePayoutOptions),this.model.set("country",this.$countrySelect.val()),this.model.set("currency",this.$currencySelect.val()),this.model.set("paypalEmail",this.$paypalEmailInput.val()),this.countryIsOptional=!this.isNewEvent&&this.isCurrencySet()&&!this.isCountrySet(),this.model.countryIsOptional=this.countryIsOptional,this.updatePayoutOptions(this.model.toJSON()),this.updateTaxOptionsDebounced(),this.updateTaxExemptionDebounced(),this.toggleDefaultsForFreeStatus(),this.listenTo(this.eventModel,"change:is_free",this.handleIsFreeChange),this.listenTo(this.eventModel.get("venue"),"change:country",this.handleVenueCountryChange),this.model.on("change:country",g),this.model.on("change:currency",h),this.$paypalEmailInput.on("change",i),e(["backbone_wreqr"],function(a){this.channel=a.radio.channel("taxOptionsChannel"),this.channel.vent.on("change:eventLocation",this.updateTaxOptionsDebounced),this.channel.vent.on("change:postalCode",this.updateTaxExemptionDebounced)}.bind(this))},render:function(){return this.payoutsEditable||(this.disableCountry(),this.disableCurrency(),this.disablePayPal()),this},show:function(){this.updatePayoutOptions(this.model.toJSON())},resetTaxExemptionOption:function(){b.Taxes.resetTaxExemptionOption(),this.model.get("country")&&-1!==this.eventModel.get("countriesWithJurisdictions").indexOf(this.model.get("country"))?this.updateTaxExemption():this.hideTaxExemption()},toggleDefaultsForFreeStatus:function(){if(this.isNewEvent&&!this.paymentOptionsSetByVenue&&!this.paymentOptionsDefaulted){var a=this.eventModel.get("is_free");a?(this.$countrySelect.val(this.freeEventDefaultCountry).change(),this.model.set("country",this.freeEventDefaultCountry),this.$currencySelect.val(this.freeEventDefaultCurrency).change(),this.model.set("currency",this.freeEventDefaultCurrency),this.enableCurrency()):(this.$countrySelect.val("").change(),this.model.set("country",""),this.$currencySelect.val("").change(),this.model.set("currency",""))}},handleIsFreeChange:function(){this.toggleDefaultsForFreeStatus();var a=this,b=this.eventModel.get("is_free");b&&this.paymentOptionsVisible?(this.$changePayoutContainer.animate({opacity:0},800,function(){a.$changePayoutWrapper.addClass("is-hidden"),a.paymentOptionsVisible=!1}),this.updateVenuePostalCode()):b||this.paymentOptionsVisible||(this.$changePayoutWrapper.removeClass("is-hidden"),this.$changePayoutContainer.animate({opacity:1},1e3),this.paymentOptionsVisible=!0,this.updateTaxOptions())},handleVenueCountryChange:function(a,b){if(b&&b.length)if((this.isNewEvent&&!this.paymentOptionsVisible||!this.isCountrySet()&&!this.isCurrencySet())&&this.$countrySelect.find("option[value="+b+"]").length){if(this.paymentOptionsSetByVenue=!0,this.$countrySelect.val(b).change(),this.model.set("country",b),this.model.currencyCountryPairs){var c=this.model.currencyCountryPairs[b];c&&c.length&&c!==this.model.get("currency")&&(this.$currencySelect.val(c).change(),this.model.set("currency",c))}}else!this.paymentOptionsDefaulted||this.paymentOptionsVisible||this.$countrySelect.find("option[value="+b+"]").length||(this.paymentOptionsDefaulted=!1,this.paymentOptionsSetByVenue=!1)},getCurrencyFromCurrencyCountryPair:function(){return this.model.currencyCountryPairs[this.model.get("country")]},updatePayoutOptions:function(a){var b=this.model.get("country"),c=this.isCountrySet(),d=this.model.get("currency"),e=this.isCurrencySet(),f=this.getCurrencyFromCurrencyCountryPair(),g=this.eventModel.get("isLive"),h=this.eventModel.get("isEventSaved"),i;return this.$paypalRequiredElements.find(".country-listed").addClass("is-hidden"),this.$paypalRequiredElements.find(".country-unlisted").addClass("is-hidden"),this.$paypalRequiredElements.find(".currency-try").addClass("is-hidden"),this.$paypalRequiredElements.find(".currency-myr").addClass("is-hidden"),this.$paypalRequiredElements.find(".currency-brl").addClass("is-hidden"),this.$newEppMarketNoPaypalContainer.addClass("is-hidden"),this.paypalBackupEmail&&this.model.set("paypalEmail",this.paypalBackupEmail),c&&!e&&f?(this.$currencySelect.val(f).change(),void this.model.set("currency",f)):c&&e||(i=c||this.isNewEvent||this.countryIsOptional||!c&&!e,i?this.enableCurrency():this.disableCurrency(),e&&this.countryIsOptional)?(this.enableCurrency(),this.isNewEppMarket(a,b,d,g,h)?(this.hidePayPalEmailInput(),this.$paypalRequiredElements.addClass("is-hidden"),this.$paypalSelectedElements.addClass("is-hidden"),this.paypalBackupEmail=this.$paypalEmailInput.val(),this.model.set("paypalEmail",""),this.$newEppMarketNoPaypalContainer.removeClass("is-hidden")):this.shouldDisplayPayPal(a)?(a.requiresPaypal||!a.isCCP?(this.$paypalCurrencyDisplay.text(this.$currencySelect.find("option:selected").text()),this.$paypalCountryDisplay.text(this.$countrySelect.find("option:selected").text()),this.$notPaypalRequiredElements.addClass("is-hidden"),this.$paypalSelectedElements.addClass("is-hidden"),this.$paypalRequiredElements.removeClass("is-hidden"),"not_listed"===b?this.$paypalRequiredElements.find(".country-unlisted").removeClass("is-hidden"):"MYR"===d?this.$paypalRequiredElements.find(".currency-myr").removeClass("is-hidden"):"TRY"===d?this.$paypalRequiredElements.find(".currency-try").removeClass("is-hidden"):this.$paypalRequiredElements.find(".country-listed").removeClass("is-hidden")):!a.usingPaypal||this.isNewEvent||this.model.eppAsDefaultPaymentMethod?(this.$paypalRequiredElements.addClass("is-hidden"),this.$paypalSelectedElements.addClass("is-hidden"),this.$notPaypalRequiredElements.removeClass("is-hidden")):(this.$paypalRequiredElements.addClass("is-hidden"),this.$notPaypalRequiredElements.addClass("is-hidden"),this.$paypalSelectedElements.removeClass("is-hidden")),this.showPayPalEmailInput()):this.hidePayPalEmailInput(),void this.updateTaxOptionsDebounced()):void this.hidePayPalEmailInput()},shouldDisplayPayPal:function(a){return!a.excludePayPal&&(a.usingPaypal||a.requiresPaypal||!a.isCCP||a.hasCurrencyErrors)},isNewEppCombination:function(a,b){var d=[{country:"SG",currency:"SGD"},{country:"MX",currency:"MXN"},{country:"HK",currency:"HKD"}];return c.find(d,function(c){return c.country===a&&c.currency===b})},isNewEppMarket:function(a,b,c,d,e){var f=a.usingPaypal&&!a.requiresPaypal,g=this.isNewEppCombination(b,c),h=!(d||e);return f&&g&&h},postalCodeKeyUpHandler:function(b){var c=a(b.target);return a.trim(c.val()).length?(c.removeClass("error"),void a(".js-error-for-postal_code_required").addClass("is-hidden")):(c.addClass("error"),a(".js-error-for-postal_code_required").removeClass("is-hidden"),void c.val(""))},togglePostalCodeAsMandatory:function(b,c){var d=a(".js-error-for-postal_code_required");b.unbind("keyup",this.postalCodeKeyUpHandler),c?(this.eventModel.get("venue")&&this.eventModel.get("venue").get("postal_code").trim()||(d.removeClass("is-hidden"),b.addClass("error")),b.on("keyup",this.postalCodeKeyUpHandler)):(d.addClass("is-hidden"),b.removeClass("error"))},updateVenuePostalCode:function(b,c,d,e){if(this.isTaxExemptionEnabled){var f=a(".edit-taxable"),g=a(".js-location-edit-postal_code"),h=a(".edit-no-taxable");this.model.get("country")&&-1!==this.eventModel.get("countriesWithJurisdictions").indexOf(this.model.get("country"))&&this.model.get("country")===this.eventModel.get("venue").get("country")&&!this.eventModel.get("is_free")?(h.addClass("is-hidden"),h.addClass("l-mar-right-5"),a(f.children()[0]).prepend(g),f.removeClass("is-hidden"),g.addClass("l-mar-right-1"),this.eventModel.get("isEventSaved")&&this.togglePostalCodeAsMandatory(g,!0)):f.is(":visible")&&(h.removeClass("l-mar-right-5"),h.removeClass("is-hidden"),h.append(g),f.addClass("is-hidden"),g.removeClass("l-mar-right-1"),this.eventModel.get("isEventSaved")&&this.togglePostalCodeAsMandatory(g))}},updateTaxOptions:function(){this.eventModel.get("is_free")&&""==this.$taxCountrySelect.val()||(this.updateVenuePostalCode(),b.Taxes.updateTaxOptions(this.model.get("currency"),this.model.get("country"),this.eventModel.get("venue").get("state"),this.eventModel.get("venue").get("country"),this.showTaxOptions,this.hideTaxOptions)),b.PaypalCurrencies.check_for_special_requirements(this.model.get("currency"))},updateTaxExemption:function(){this.isTaxExemptionEnabled&&this.model.get("country")&&-1!==this.eventModel.get("countriesWithJurisdictions").indexOf(this.model.get("country"))&&this.eventModel.get("venue")&&this.eventModel.get("venue").get("postal_code").trim()&&(!this.eventModel.get("is_free")||""!==this.$taxCountrySelect.val())?b.Taxes.updateTaxExemption(this.eventModel.get("venue").get("postal_code"),this.model.get("country"),this.checkTaxExemptionLevel,this.hideTaxExemption):this.hideTaxExemption()},hidePayPalEmailInput:function(){this.$paypalEmailInput.attr("disabled",!0),this.$paypalEmailInputContainer.addClass("is-hidden")},showPayPalEmailInput:function(){this.enablePayPal(),this.$paypalEmailInputContainer.removeClass("is-hidden")},hideTaxOptions:function(){this.$createPayoutTaxOptions.addClass("is-hidden"),this.$createPayoutTaxExemption.addClass("no-tax-options"),this.$createPayoutTaxOptions.removeClass("tax-exemption")},showTaxOptions:function(){this.$createPayoutTaxOptions.removeClass("is-hidden"),this.$createPayoutTaxExemption.removeClass("no-tax-options"),this.$createPayoutTaxExemption.is(":visible")&&this.$createPayoutTaxOptions.addClass("tax-exemption")},hideTaxExemption:function(){this.$createPayoutTaxExemption.addClass("is-hidden"),this.$createPayoutTaxOptions.removeClass("tax-exemption")},showTaxExemptionLevel:function(b){var c;b?(c=b.is_exempt?1:0,this.eventModel.get("currency").set("taxExemptionLevel",!0),this.eventModel.get("currency").set("isTaxExempt",c)):c=a('input[name="tax_exempt_option"]:checked').val()||this.eventModel.get("currency").get("isTaxExempt"),a(".npo-component-radio").removeClass("is-hidden"),a('input[name="tax_exempt_option"][value="'+c+'"]').click(),this.showTaxExemption()},checkTaxExemptionLevel:function(){this.isTaxExemptionEnabled&&(this.eventModel.get("currency").get("taxExemptionLevel")?this.showTaxExemptionLevel():a.ajax({url:"/ajax/tax/retrieve_tax_exemption_info",data:{event_id:"0"===a("#id_eid").val()?void 0:a("#id_eid").val()},context:this}).done(function(a){this.showTaxExemptionLevel(a)}))},showTaxExemption:function(){this.$createPayoutTaxExemption.removeClass("is-hidden"),this.$createPayoutTaxOptions.is(":visible")?(this.$createPayoutTaxOptions.addClass("tax-exemption"),this.$createPayoutTaxExemption.removeClass("no-tax-options")):this.$createPayoutTaxExemption.addClass("no-tax-options")},disableCountry:function(){this.model.canChangePaymentCountry||this.$countrySelect.attr("disabled","disabled").addClass("is-disabled").parent().addClass("is-disabled")},disableCurrency:function(){this.$currencySelect.attr("disabled","disabled"),this.$currencySelect.addClass("is-disabled"),this.$currencySelect.parent().addClass("is-disabled")},enableCurrency:function(){this.payoutsEditable&&(this.$currencySelect.removeAttr("disabled"),this.$currencySelect.removeClass("is-disabled"),this.$currencySelect.parent().removeClass("is-disabled"))},disablePayPal:function(){this.$paypalEmailInput.attr("disabled","disabled")},enablePayPal:function(){this.payoutsEditable&&this.$paypalEmailInput.removeAttr("disabled")},isCountrySet:function(){return this.model.get("country")&&this.model.get("country").length},isCurrencySet:function(){return this.model.get("currency")&&this.model.get("currency").length},getWindowLocationPathname:function(){return window.location.pathname}}).mixin(b.Backbone.Mixins.withStickit).mixin(b.Backbone.Mixins.withInputValidation)}(window.jQuery,window.EB,window._,window.gettext,require),function(a,b,c,d){"use strict";b.namespace("CreatePage");var e={isHiddenClass:"is-hidden",animationHideDuration:800,animationShowDuration:1e3,selectors:{refundPolicy:".js-refund-policy",refundPolicyContainer:".js-refund-policy-container",refundPolicyOption:"input[name=refund_policy]"}};b.CreatePage.RefundPolicyView=b.Backbone.View.extend({el:".js-create-tickets-wrapper",events:{"click .js-clear-refund-policy":"handleClearRefundPolicy","change #id_group-payment_options-epp_country":"refreshRefundFeeRetentionPolicy","change #id_group-details-currency":"refreshRefundFeeRetentionPolicy"},initialize:function(a){this.eventModel=a.eventModel,this.$refundPolicyWrapper=this.$(e.selectors.refundPolicy),this.$refundPolicyContainer=this.$refundPolicyWrapper.find(e.selectors.refundPolicyContainer),this.listenTo(this.eventModel,"change:is_free",this.handleIsFreeChange.bind(this)),this.refreshRefundFeeRetentionPolicy()},render:function(){this.eventModel.get("is_free")&&this.$refundPolicyWrapper.addClass(e.isHiddenClass),this._setRefundPolicy()},_setRefundPolicy:function(){var b=this.eventModel.get("refund_policy");b&&a('input[name=refund_policy][value="'+b+'"]').attr("checked","checked")},handleClearRefundPolicy:function(b){b.preventDefault(),this.eventModel.set("refund_policy","not_defined"),a(e.selectors.refundPolicyOption).attr("checked",!1),this._setRefundPolicy()},handleIsFreeChange:function(){var a=this.eventModel.get("is_free"),b=!this.$refundPolicyWrapper.hasClass(e.isHiddenClass);a&&b?this.$refundPolicyContainer.animate({opacity:0},e.animationHideDuration,function(){this.$refundPolicyWrapper.addClass(e.isHiddenClass),this.isRefundPolicyVisible=!1}.bind(this)):a||b||(this.$refundPolicyWrapper.removeClass(e.isHiddenClass),this.$refundPolicyContainer.animate({opacity:1},e.animationShowDuration),this.isRefundPolicyVisible=!0)},refreshRefundFeeRetentionPolicy:function(){var a=this.$("#id_group-details-currency").val(),c=this.$("#id_group-payment_options-epp_country").val();b.CreatePage.featureFlags.isRefundFeeRetentionPolicyEnabled(c,a)?this.$(".js-refund-fee-retention-policy").show():this.$(".js-refund-fee-retention-policy").hide()}})}(window.jQuery,window.EB,window._,window.gettext),window.EB=window.EB||{},EB.PaypalCurrencies=function(a,b){var c={};return{init:function(a){c=a},check_for_special_requirements:function(a){a in c&&alert(c[a])}}}(jQuery,EB),/*
    Require.js notes:
        This module depends on jQuery
*/
window.EB=window.EB||{},EB.DirtyPage=function(a){var b=!1,c=function(){return b},d=function(a){b=a};return{isDirty:c,setDirty:d,init:function(){a("input, select, textarea").each(function(){a(this).data("initial",a(this).val())}),a("input, select, textarea").not("[data-ignore-dirty]").change(function(b){a(this).val()!=a(this).data("initial")&&EB.DirtyPage.setDirty(!0)}),a(window).bind("beforeunload",function(){return EB.DirtyPage.isDirty()?gettext("Your changes will not be saved."):void 0})}}}(jQuery),"function"==typeof define&&define("eb/dirty",function(){"use strict";return EB.DirtyPage}),function(a){a.datepicker.settings={closeText:gettext("Done"),prevText:gettext("Prev"),nextText:gettext("Next"),currentText:gettext("Today"),monthNames:window.EB_I18N.monthNamesFull,monthNamesShort:window.EB_I18N.monthNamesMedium,dayNames:window.EB_I18N.dayNamesFull,dayNamesShort:window.EB_I18N.dayNamesMedium,dayNamesMin:window.EB_I18N.dayNamesShort,weekHeader:gettext("Wk"),dateFormat:window.EB_I18N.datepickerFormat,firstDay:window.EB_I18N.firstWeekDay,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},a.datepicker.setDefaults(a.datepicker.settings)}(jQuery),/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Distributed by Eventbrite, where we choose the MIT license.
 *
 * Copyright (c) 2012 David Furfero

 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:

 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.

 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
function(a){function b(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var c=a.ui.mouse.prototype,d=c._mouseInit,e=c._mouseDestroy,f;c._touchStart=function(a){var c=this;!f&&c._mouseCapture(a.originalEvent.changedTouches[0])&&(f=!0,c._touchMoved=!1,b(a,"mouseover"),b(a,"mousemove"),b(a,"mousedown"))},c._touchMove=function(a){f&&(this._touchMoved=!0,b(a,"mousemove"))},c._touchEnd=function(a){f&&(b(a,"mouseup"),b(a,"mouseout"),this._touchMoved||b(a,"click"),f=!1)},c._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),d.call(b)},c._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),e.call(b)}}}(jQuery),/**
 * This script gives you the zone info key representing your device's time zone setting.
 *
 * @name jsTimezoneDetect
 * @version 1.0.5
 * @author Jon Nylander
 * @license MIT License - http://www.opensource.org/licenses/mit-license.php
 *
 * For usage and examples, visit:
 * http://pellepim.bitbucket.org/jstz/
 *
 * Copyright (c) Jon Nylander
 */
function(a){var b=function(){"use strict";var a="s",c=function(a){var b=-a.getTimezoneOffset();return null!==b?b:0},d=function(a,b,c){var d=new Date;return void 0!==a&&d.setFullYear(a),d.setMonth(b),d.setDate(c),d},e=function(a){return c(d(a,0,2))},f=function(a){return c(d(a,5,2))},g=function(a){var b=a.getMonth()>7,d=b?f(a.getFullYear()):e(a.getFullYear()),g=c(a),h=0>d,i=d-g;return h||b?0!==i:0>i},h=function(){var b=e(),c=f(),d=b-c;return 0>d?b+",1":d>0?c+",1,"+a:b+",0"},i=function(){var a=h();return new b.TimeZone(b.olson.timezones[a])},j=function(a){var b=new Date(2010,6,15,1,0,0,0),c={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Europe/Helsinki":new Date(2013,2,31,5,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":b,"Asia/Amman":new Date(2013,2,29,1,0,0,0),"Asia/Beirut":new Date(2013,2,31,2,0,0,0),"Asia/Damascus":new Date(2013,3,6,2,0,0,0),"Asia/Jerusalem":new Date(2013,2,29,5,0,0,0),"Asia/Yekaterinburg":b,"Asia/Omsk":b,"Asia/Krasnoyarsk":b,"Asia/Irkutsk":b,"Asia/Yakutsk":b,"Asia/Vladivostok":b,"Asia/Baku":new Date(2013,2,31,4,0,0),"Asia/Yerevan":new Date(2013,2,31,3,0,0),"Asia/Kamchatka":b,"Asia/Gaza":new Date(2010,2,27,4,0,0),"Africa/Cairo":new Date(2010,4,1,3,0,0),"Europe/Minsk":b,"Pacific/Apia":new Date(2010,10,1,1,0,0,0),"Pacific/Fiji":new Date(2010,11,1,0,0,0),"Australia/Perth":new Date(2008,10,1,1,0,0,0)};return c[a]};return{determine:i,date_is_dst:g,dst_start_for:j}}();b.TimeZone=function(a){"use strict";var c={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Asia/Beirut","Europe/Helsinki","Asia/Damascus"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk"],"Asia/Baku":["Asia/Yerevan","Asia/Baku"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]},d=a,e=function(){for(var a=c[d],e=a.length,f=0,g=a[0];e>f;f+=1)if(g=a[f],b.date_is_dst(b.dst_start_for(g)))return void(d=g)},f=function(){return"undefined"!=typeof c[d]};return f()&&e(),{name:function(){return d}}},b.olson={},b.olson.timezones={"-720,0":"Pacific/Majuro","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},"undefined"!=typeof exports?exports.jstz=b:a.jstz=b}(this),/* jshint forin:true, noarg:true, noempty:true, eqeqeq:true, boss:true, undef:true, curly:true, browser:true, jquery:true */
/*
 * jQuery MultiSelect UI Widget 1.13
 * Copyright (c) 2012 Eric Hynds
 *
 * http://www.erichynds.com/jquery/jquery-ui-multiselect-widget/
 *
 * Depends:
 *   - jQuery 1.4.2+
 *   - jQuery UI 1.8 widget factory
 *
 * Optional:
 *   - jQuery UI effects
 *   - jQuery UI position utility
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
*/
function(a,b){var c=0;a.widget("ech.multiselect",{options:{header:!0,height:175,minWidth:225,classes:"",checkAllText:"Check all",uncheckAllText:"Uncheck all",noneSelectedText:"Select options",selectedText:"# selected",selectedList:0,show:null,hide:null,autoOpen:!1,multiple:!0,position:{}},_create:function(){var b=this.element.hide(),c=this.options;this.speed=a.fx.speeds._default,this._isOpen=!1;var d=(this.button=a('<button type="button"><span class="ui-icon ui-icon-triangle-2-n-s"></span></button>')).addClass("ui-multiselect ui-widget ui-state-default ui-corner-all").addClass(c.classes).attr({title:b.attr("title"),"aria-haspopup":!0,tabIndex:b.attr("tabIndex")}).insertAfter(b),e=(this.buttonlabel=a("<span />")).html(c.noneSelectedText).appendTo(d),f=(this.menu=a("<div />")).addClass("ui-multiselect-menu ui-widget ui-widget-content ui-corner-all").addClass(c.classes).appendTo(document.body),g=(this.header=a("<div />")).addClass("ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix").appendTo(f),h=(this.headerLinkContainer=a("<ul />")).addClass("ui-helper-reset").html(function(){return c.header===!0?'<li><a class="ui-multiselect-all" href="#"><span class="ui-icon ui-icon-check"></span><span>'+c.checkAllText+'</span></a></li><li><a class="ui-multiselect-none" href="#"><span class="ui-icon ui-icon-closethick"></span><span>'+c.uncheckAllText+"</span></a></li>":"string"==typeof c.header?"<li>"+c.header+"</li>":""}).append('<li class="ui-multiselect-close"><a href="#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a></li>').appendTo(g),i=(this.checkboxContainer=a("<ul />")).addClass("ui-multiselect-checkboxes ui-helper-reset").appendTo(f);this._bindEvents(),this.refresh(!0),c.multiple||f.addClass("ui-multiselect-single")},_init:function(){this.options.header===!1&&this.header.hide(),this.options.multiple||this.headerLinkContainer.find(".ui-multiselect-all, .ui-multiselect-none").hide(),this.options.autoOpen&&this.open(),this.element.is(":disabled")&&this.disable()},refresh:function(b){var d=this.element,e=this.options,f=this.menu,g=this.checkboxContainer,h=[],i="",j=d.attr("id")||c++;d.find("option").each(function(b){var c=a(this),d=this.parentNode,f=this.innerHTML,g=this.title,k=this.value,l="ui-multiselect-"+(this.id||j+"-option-"+b),m=this.disabled,n=this.selected,o=["ui-corner-all"],p=(m?"ui-multiselect-disabled ":" ")+this.className,q;"OPTGROUP"===d.tagName&&(q=d.getAttribute("label"),-1===a.inArray(q,h)&&(i+='<li class="ui-multiselect-optgroup-label '+d.className+'"><a href="#">'+q+"</a></li>",h.push(q))),m&&o.push("ui-state-disabled"),n&&!e.multiple&&o.push("ui-state-active"),i+='<li class="'+p+'">',i+='<label for="'+l+'" title="'+g+'" class="'+o.join(" ")+'">',i+='<input id="'+l+'" name="multiselect_'+j+'" type="'+(e.multiple?"checkbox":"radio")+'" value="'+k+'" title="'+f+'"',n&&(i+=' checked="checked"',i+=' aria-selected="true"'),m&&(i+=' disabled="disabled"',i+=' aria-disabled="true"'),i+=" /><span>"+f+"</span></label></li>"}),g.html(i),this.labels=f.find("label"),this.inputs=this.labels.children("input"),this._setButtonWidth(),this._setMenuWidth(),this.button[0].defaultValue=this.update(),b||this._trigger("refresh")},update:function(){var b=this.options,c=this.inputs,d=c.filter(":checked"),e=d.length,f;return f=0===e?b.noneSelectedText:a.isFunction(b.selectedText)?b.selectedText.call(this,e,c.length,d.get()):/\d/.test(b.selectedList)&&b.selectedList>0&&e<=b.selectedList?d.map(function(){return a(this).next().html()}).get().join(", "):b.selectedText.replace("#",e).replace("#",c.length),this.buttonlabel.html(f),f},_bindEvents:function(){function b(){return c[c._isOpen?"close":"open"](),!1}var c=this,d=this.button;d.find("span").bind("click.multiselect",b),d.bind({click:b,keypress:function(a){switch(a.which){case 27:case 38:case 37:c.close();break;case 39:case 40:c.open()}},mouseenter:function(){d.hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},mouseleave:function(){a(this).removeClass("ui-state-hover")},focus:function(){d.hasClass("ui-state-disabled")||a(this).addClass("ui-state-focus")},blur:function(){a(this).removeClass("ui-state-focus")}}),this.header.delegate("a","click.multiselect",function(b){a(this).hasClass("ui-multiselect-close")?c.close():c[a(this).hasClass("ui-multiselect-all")?"checkAll":"uncheckAll"](),b.preventDefault()}),this.menu.delegate("li.ui-multiselect-optgroup-label a","click.multiselect",function(b){b.preventDefault();var d=a(this),e=d.parent().nextUntil("li.ui-multiselect-optgroup-label").find("input:visible:not(:disabled)"),f=e.get(),g=d.parent().text();c._trigger("beforeoptgrouptoggle",b,{inputs:f,label:g})!==!1&&(c._toggleChecked(e.filter(":checked").length!==e.length,e),c._trigger("optgrouptoggle",b,{inputs:f,label:g,checked:f[0].checked}))}).delegate("label","mouseenter.multiselect",function(){a(this).hasClass("ui-state-disabled")||(c.labels.removeClass("ui-state-hover"),a(this).addClass("ui-state-hover").find("input").focus())}).delegate("label","keydown.multiselect",function(b){switch(b.preventDefault(),b.which){case 9:case 27:c.close();break;case 38:case 40:case 37:case 39:c._traverse(b.which,this);break;case 13:a(this).find("input")[0].click()}}).delegate('input[type="checkbox"], input[type="radio"]',"click.multiselect",function(b){var d=a(this),e=this.value,f=this.checked,g=c.element.find("option");return this.disabled||c._trigger("click",b,{value:e,text:this.title,checked:f})===!1?void b.preventDefault():(d.focus(),d.attr("aria-selected",f),g.each(function(){this.value===e?this.selected=f:c.options.multiple||(this.selected=!1)}),c.options.multiple||(c.labels.removeClass("ui-state-active"),d.closest("label").toggleClass("ui-state-active",f),c.close()),c.element.trigger("change"),void setTimeout(a.proxy(c.update,c),10))}),a(document).bind("mousedown.multiselect",function(b){!c._isOpen||a.contains(c.menu[0],b.target)||a.contains(c.button[0],b.target)||b.target===c.button[0]||c.close()}),a(this.element[0].form).bind("reset.multiselect",function(){setTimeout(a.proxy(c.refresh,c),10)})},_setButtonWidth:function(){var a=this.element.outerWidth(),b=this.options;/\d/.test(b.minWidth)&&a<b.minWidth&&(a=b.minWidth),this.button.width(a)},_setMenuWidth:function(){var a=this.menu,b=this.button.outerWidth()-parseInt(a.css("padding-left"),10)-parseInt(a.css("padding-right"),10)-parseInt(a.css("border-right-width"),10)-parseInt(a.css("border-left-width"),10);a.width(b||this.button.outerWidth())},_traverse:function(b,c){var d=a(c),e=38===b||37===b,f=d.parent()[e?"prevAll":"nextAll"]("li:not(.ui-multiselect-disabled, .ui-multiselect-optgroup-label)")[e?"last":"first"]();if(f.length)f.find("label").trigger("mouseover");else{var g=this.menu.find("ul").last();this.menu.find("label")[e?"last":"first"]().trigger("mouseover"),g.scrollTop(e?g.height():0)}},_toggleState:function(a,b){return function(){this.disabled||(this[a]=b),b?this.setAttribute("aria-selected",!0):this.removeAttribute("aria-selected")}},_toggleChecked:function(b,c){var d=c&&c.length?c:this.inputs,e=this;d.each(this._toggleState("checked",b)),d.eq(0).focus(),this.update();var f=d.map(function(){return this.value}).get();this.element.find("option").each(function(){!this.disabled&&a.inArray(this.value,f)>-1&&e._toggleState("selected",b).call(this)}),d.length&&this.element.trigger("change")},_toggleDisabled:function(b){this.button.attr({disabled:b,"aria-disabled":b})[b?"addClass":"removeClass"]("ui-state-disabled");var c=this.menu.find("input"),d="ech-multiselect-disabled";c=b?c.filter(":enabled").data(d,!0):c.filter(function(){return a.data(this,d)===!0}).removeData(d),c.attr({disabled:b,"arial-disabled":b}).parent()[b?"addClass":"removeClass"]("ui-state-disabled"),this.element.attr({disabled:b,"aria-disabled":b})},open:function(b){var c=this,d=this.button,e=this.menu,f=this.speed,g=this.options,h=[];if(this._trigger("beforeopen")!==!1&&!d.hasClass("ui-state-disabled")&&!this._isOpen){var i=e.find("ul").last(),j=g.show,k=d.offset();a.isArray(g.show)&&(j=g.show[0],f=g.show[1]||c.speed),j&&(h=[j,f]),i.scrollTop(0).height(g.height),a.ui.position&&!a.isEmptyObject(g.position)?(g.position.of=g.position.of||d,e.show().position(g.position).hide()):e.css({top:k.top+d.outerHeight(),left:k.left}),a.fn.show.apply(e,h),this.labels.eq(0).trigger("mouseover").trigger("mouseenter").find("input").trigger("focus"),d.addClass("ui-state-active"),this._isOpen=!0,this._trigger("open")}},close:function(){if(this._trigger("beforeclose")!==!1){var b=this.options,c=b.hide,d=this.speed,e=[];a.isArray(b.hide)&&(c=b.hide[0],d=b.hide[1]||this.speed),c&&(e=[c,d]),a.fn.hide.apply(this.menu,e),this.button.removeClass("ui-state-active").trigger("blur").trigger("mouseleave"),this._isOpen=!1,this._trigger("close")}},enable:function(){this._toggleDisabled(!1)},disable:function(){this._toggleDisabled(!0)},checkAll:function(a){this._toggleChecked(!0),this._trigger("checkAll")},uncheckAll:function(){this._toggleChecked(!1),this._trigger("uncheckAll")},getChecked:function(){return this.menu.find("input").filter(":checked")},destroy:function(){return a.Widget.prototype.destroy.call(this),this.button.remove(),this.menu.remove(),this.element.show(),this},isOpen:function(){return this._isOpen},widget:function(){return this.menu},getButton:function(){return this.button},_setOption:function(b,c){var d=this.menu;switch(b){case"header":d.find("div.ui-multiselect-header")[c?"show":"hide"]();break;case"checkAllText":d.find("a.ui-multiselect-all span").eq(-1).text(c);break;case"uncheckAllText":d.find("a.ui-multiselect-none span").eq(-1).text(c);break;case"height":d.find("ul").last().height(parseInt(c,10));break;case"minWidth":this.options[b]=parseInt(c,10),this._setButtonWidth(),this._setMenuWidth();break;case"selectedText":case"selectedList":case"noneSelectedText":this.options[b]=c,this.update();break;case"classes":d.add(this.button).removeClass(this.options.classes).addClass(c);break;case"multiple":d.toggleClass("ui-multiselect-single",!c),this.options.multiple=c,this.element[0].multiple=c,this.refresh()}a.Widget.prototype._setOption.apply(this,arguments)}})}(jQuery),/**
 * Represent a single instance in a repeating event series.  Holds only the values required for
 * repeating event scheduling.  Its main feature is translating in and out of a compressed JSON
 * representation.  Since an event may have hundreds of these keeping it small decreases load time.
 *
 * For more information on the format see the docs:
 * https://docs.evbhome.com/features/repeating_events/index.html
 */
function(a,b,c,d,e){"use strict";c.namespace("Models"),c.Models.SeriesModel=c.Backbone.Model.extend({defaults:{can_delete:1},toString:function(){return this.get("start_date").format("YYYY-MMMM-dddd HH:mm:ss")},sync:function(){return!1},canReplaceWith:function(a){return this.get("can_delete")?!this.get("id")||a.get("id"):!1},toSeriesJSON:function(){var a=this.get("id")||"null",b=this.get("start_date").toArray().slice(0,5),c=this.get("end_date").toArray().slice(0,5),d=this.get("can_delete")||"null";return b[1]=b[1]+1,c[1]=c[1]+1,"["+a+",["+b+"],["+c+"]]"},scheduleKey:function(){return this.get("start_date").format("hh:mm:A")+this.get("end_date").diff(this.get("start_date"))}}),c.Models.SeriesModel.fromDecodedJSON=function(a){var b={EID:0,START:1,END:2,DELETE:3,MONTH:1};return a[b.START][b.MONTH]=a[b.START][b.MONTH]-1,a[b.END][b.MONTH]=a[b.END][b.MONTH]-1,new c.Models.SeriesModel({id:a[b.EID],start_date:d.moment(a[b.START]),end_date:d.moment(a[b.END]),can_delete:a[b.DELETE]})}}(window.jQuery,window._,window.EB,window),/**
 * Represent a new schedule of dates to be created.
 */
function(a,b,c,d,e){"use strict";c.namespace("Models"),c.Models.NewScheduleModel=c.Backbone.Model.extend({defaults:{period:"days",event_overnights:0,monthly_by_weekday:!1,weekly_weekdays:[0],monthly_weekdays:[0],monthly_offset:0,monthly_day:1},isEditModel:function(){return!1},sync:function(){return!1},initLocaleFormats:function(){c.Intl.usesDDMMYYYY()?this.set("dateFormat","DD/MM/YYYY"):this.set("dateFormat","MM/DD/YYYY"),c.Intl.getUsesAMPM()?this.set("timeFormat","h:mm A"):this.set("timeFormat","HH:mm"),this.set("dateTimeFormat",this.get("dateFormat")+" "+this.get("timeFormat"))},initialize:function(){this.initLocaleFormats(),this.set("start_time",d.moment().hour(19).minute(0).format(this.get("timeFormat"))),this.set("end_time",d.moment().hour(22).minute(0).format(this.get("timeFormat"))),this.set("start_date",d.moment().add("d",40).format("L")),this.set("end_date",d.moment().add("d",40).add("M",1).format("L")),this.set("custom_date",d.moment().add("d",40).format("L")),this.getScheduleStartDates()},getScheduleSummary:function(a){var b,c,d,e,f,g="";return d=this.get("event_minutes"),0===a.length||0===d?gettext("No dates created by schedule"):(b=a[0],c=a[a.length-1],e=Math.floor(d/60),f=d%60,g=60>d?interpolate(gettext("%(minutes)s minutes"),{minutes:f},!0):0===f?interpolate(gettext("%(hours)s %(plural)s"),{hours:e,plural:e>1?gettext("hours"):gettext("hour")},!0):interpolate(gettext("%(hours)s %(plural)s %(minutes)s minutes"),{hours:e,plural:e>1?gettext("hours"):gettext("hour"),minutes:f},!0),1===a.length?interpolate(gettext("1 date (%(duration)s)<br>Starting on %(start)s"),{duration:g,start:b.format("LL")},!0):interpolate(gettext("%(count)s dates (%(duration)s each)<br>Starting %(start)s through %(end)s"),{count:a.length,duration:g,start:b.format("LL"),end:c.format("LL")},!0))},isValidDate:function(a){var b=d.moment(a,this.get("dateFormat")),c=b.diff(d.moment(),"days");return!(-2>c||c>730)},getScheduleStartDates:function(){var b,c,e,f,g,h=[],i=parseInt(this.get("monthly_offset")),j=parseInt(this.get("monthly_day"));if(this.isValidDate(this.get("start_date"))||this.set("start_date",d.moment().add("d",40).format(this.get("dateFormat"))),this.isValidDate(this.get("end_date"))||this.set("end_date",d.moment().add("d",40).add("M",1).format(this.get("dateFormat"))),this.isValidDate(this.get("custom_date"))||this.set("custom_date",d.moment().add("d",40).format(this.get("dateFormat"))),this.get("seriesCollection")&&(this.set("weekly_weekdays",[parseInt(this.get("weekly_weekday"))]),this.set("monthly_weekdays",[parseInt(this.get("monthly_weekday"))])),"custom"===this.get("period")?(b=d.moment(this.get("custom_date")+" "+this.get("start_time"),this.get("dateTimeFormat")),c=d.moment(this.get("custom_date")+" "+this.get("start_time"),this.get("dateTimeFormat")),e=d.moment(this.get("custom_date")+" "+this.get("end_time"),this.get("dateTimeFormat"))):(b=d.moment(this.get("start_date")+" "+this.get("start_time"),this.get("dateTimeFormat")),c=d.moment(this.get("end_date")+" "+this.get("start_time"),this.get("dateTimeFormat")),e=d.moment(this.get("end_date")+" "+this.get("end_time"),this.get("dateTimeFormat"))),e.add("days",this.get("event_overnights")),this.set("event_minutes",e.diff(c,"minutes")),this.set("start_moment",b),this.set("end_moment",c),g=d.moment(b),"custom"===this.get("period"))h.push(b);else if("days"===this.get("period"))for(;g.isBefore(c)||g.isSame(c);)h.push(d.moment(g)),g.add("days",1);else if("weeks"===this.get("period"))for(;g.isBefore(c)||g.isSame(c);)-1!=a.inArray(g.day(),this.get("weekly_weekdays"))&&h.push(d.moment(g)),g.add("days",1);else if("months"===this.get("period"))if(this.get("monthly_by_weekday"))for(;g.isBefore(c)||g.isSame(c);)-1!=a.inArray(g.day(),this.get("monthly_weekdays"))&&g.date()>7*i&&g.date()<=7*(i+1)&&h.push(d.moment(g)),g.add("days",1);else for(;g.isBefore(c)||g.isSame(c);)g.date()===j&&h.push(d.moment(g)),g.add("days",1);return this.set("summary",this.getScheduleSummary(h)),h},isMaxLimitReached:function(a,b,c){return a+b>c},saveNewSchedule:function(a){var b,e,f=[];if(b=this.getScheduleStartDates(),0!==b.length&&0!==this.get("event_minutes")){for(var g=0,h=b.length;h>g;g++)e=d.moment(b[g]),e.add("minutes",this.get("event_minutes")),a.findDuplicate(b[g],e)||f.push(new c.Models.SeriesModel({start_date:b[g],end_date:e}));if(this.isMaxLimitReached(f.length,a.length,a.maxLimitEvents))return void d.alert(interpolate(gettext("Unable to add more than %(max)s dates to a repeating event."),{max:a.maxLimitEvents},!0));a.add(f),a.checkLimitReached()}}})}(window.jQuery,window._,window.EB,window),/**
 * Represent an existing schedule of dates to edited.
 */
function(a,b,c,d,e){"use strict";c.namespace("Models"),c.Models.EditScheduleModel=c.Models.NewScheduleModel.extend({isEditModel:function(){return!0},saveUpdatedSchedule:function(a,b){function c(c,d,e,f,g){var h;if(d.isBefore(f)||d.isAfter(g))return void i.push(c);if(!d.isSame(c.get("start_date"))||!e.isSame(c.get("end_date"))){if(h=a.findDuplicate(d,e)){if(!h.canReplaceWith(c))return void i.push(c);b.execute("navigate:delete:model",h)}c.set({start_date:d,end_date:e})}}var e,f,g,h,i=[];"custom"===this.get("period")?(e=this.get("seriesCollection").first(),f=d.moment(this.get("custom_date")+" "+this.get("start_time"),this.get("dateTimeFormat")),g=d.moment(f).add("minutes",this.get("event_minutes")),c(e,f,g,this.get("start_moment"),this.get("end_moment"))):"days"===this.get("period")?this.get("seriesCollection").each(function(a){f=d.moment(a.get("start_date").format(this.get("dateFormat"))+" "+this.get("start_time"),this.get("dateTimeFormat")),g=d.moment(f).add("minutes",this.get("event_minutes")),c(a,f,g,this.get("start_moment"),this.get("end_moment"))},this):"weeks"===this.get("period")?this.get("seriesCollection").each(function(a){f=d.moment(a.get("start_date").format(this.get("dateFormat"))+" "+this.get("start_time"),this.get("dateTimeFormat")),f.day(parseInt(this.get("weekly_weekday"))),g=d.moment(f).add("minutes",this.get("event_minutes")),c(a,f,g,this.get("start_moment"),this.get("end_moment"))},this):"months"===this.get("period")&&(this.get("monthly_by_weekday")?this.get("seriesCollection").each(function(a){for(f=d.moment(a.get("start_date").format(this.get("dateFormat"))+" "+this.get("start_time"),this.get("dateTimeFormat")),f.date(1),f.add("days",7*this.get("monthly_offset"));f.day()!=parseInt(this.get("monthly_weekday"));)f.add("days",1);g=d.moment(f).add("minutes",this.get("event_minutes")),c(a,f,g,this.get("start_moment"),this.get("end_moment"))},this):this.get("seriesCollection").each(function(a){f=d.moment(a.get("start_date").format(this.get("dateFormat"))+" "+this.get("start_time"),this.get("dateTimeFormat")),f.date(parseInt(this.get("monthly_day"))),g=d.moment(f).add("minutes",this.get("event_minutes")),c(a,f,g,this.get("start_moment"),this.get("end_moment"))},this)),i&&b.execute("navigate:delete:models",i),this.saveNewSchedule(a)},initialize:function(){var b,c,d,f,g="",h="",i,j,k="",l=this.get("seriesCollection");if(l!==e&&0!==l.length){switch(this.initLocaleFormats(),b=l.first().get("start_date"),c=l.first().get("end_date"),d=l.at(l.length-1).get("start_date"),this.set("count",l.length),this.set("start_moment",b),this.set("end_moment",d),this.set("start_date",b.format(this.get("dateFormat"))),this.set("start_time",b.format(this.get("timeFormat"))),this.set("end_date",d.format(this.get("dateFormat"))),this.set("end_time",c.format(this.get("timeFormat"))),this.set("event_minutes",c.diff(b,"minutes")),this.set("custom_date",b.format(this.get("dateFormat"))),this.set("can_delete",l.canDelete()),this.set("weekly_weekday",b.day()),this.set("monthly_weekday",b.day()),this.set("monthly_day",b.date()),this.set("event_overnights",c.diff(b,"days")),c.format("HHmm")<=b.format("HHmm")&&this.set("event_overnights",this.get("event_overnights")+1),"custom"===this.get("period")&&this.get("seriesCollection").length>1?this.set("can_edit",!1):this.set("can_edit",!0),this.get("perfect")||(g=gettext("(with exceptions)")),this.get("event_overnights")>0&&(1===this.get("event_overnights")?h=gettext("on the next day"):2===this.get("event_overnights")?h=gettext("on the 2nd day"):3===this.get("event_overnights")?h=gettext("on the 3rd day"):4===this.get("event_overnights")?h=gettext("on the 4th day"):5===this.get("event_overnights")?h=gettext("on the 5th day"):6===this.get("event_overnights")&&(h=gettext("on the 6th day"))),this.get("monthly_by_weekday")&&(j=Math.floor((b.date()-1)/7),this.set("monthly_offset",j),0===j?k=gettext("1st"):1===j?k=gettext("2nd"):2===j?k=gettext("3rd"):3===j&&(k=gettext("4th"))),1===l.length?this.set("date_label",gettext("Date")):this.set("date_label",gettext("Dates")),this.get("period")){case"days":f=interpolate(gettext("Daily %(exceptions)s %(start)s - %(end)s %(overnights)s"),{exceptions:g,start:b.format("LT"),end:c.format("LT"),overnights:h},!0);break;case"weeks":f=interpolate(gettext("Weekly on %(weekday)s %(exceptions)s %(start)s - %(end)s %(overnights)s"),{weekday:b.format("dddd"),exceptions:g,start:b.format("LT"),end:c.format("LT"),overnights:h},!0);break;case"months":f=this.get("monthly_by_weekday")?interpolate(gettext("Monthly on the %(offset)s %(weekday)s %(exceptions)s %(start)s - %(end)s %(overnights)s"),{offset:k,weekday:b.format("dddd"),exceptions:g,start:b.format("LT"),end:c.format("LT"),overnights:h},!0):interpolate(gettext("Monthly on the %(monthday)s %(exceptions)s %(start)s - %(end)s %(overnights)s"),{monthday:b.format("Do"),exceptions:g,start:b.format("LT"),end:c.format("LT"),overnights:h},!0);break;default:f=1===this.get("seriesCollection").length?interpolate(gettext("Single event %(start)s - %(end)s %(overnights)s"),{start:b.format("LT"),end:c.format("LT"),overnights:h},!0):interpolate(gettext("Custom schedule %(start)s - %(end)s %(overnights)s"),{start:b.format("LT"),end:c.format("LT"),overnights:h},!0)}f=a.trim(f.replace(/\s{2,}/g," ")),this.set("label",f)}}}),c.Models.EditScheduleModel.fromEventModel=function(a){var b,d;return b=c.Intl.usesDDMMYYYY()?"DD/MM/YYYY":"MM/DD/YYYY",d=c.Intl.getUsesAMPM()?"h:mm A":"HH:mm",new c.Models.EditScheduleModel({period:"custom",start_time:a.get("start_date").format(d),end_time:a.get("end_date").format(d),start_date:a.get("start_date").format(b),end_date:a.get("end_date").format(b),seriesCollection:new c.Models.SeriesCollection([a])})}}(window.jQuery,window._,window.EB,window),/**
  * @class SeriesCollection
  * A collection of SeriesModels with supporting functions.
  * Each model represents one instance of the event series, so
  * this collection is used for configuring all available dates.
  */
function(a){"use strict";a.namespace("Models"),a.Models.SeriesCollection=a.Backbone.Collection.extend({model:a.Models.SeriesModel,maxLimitEvents:1e3,comparator:function(a){return a.get("start_date").unix()},findDuplicate:function(a,b){return this.find(function(c){return c.get("start_date").isSame(a)&&c.get("end_date").isSame(b)})},savedEventsToJSON:function(){var a=[];return this.each(function(b){b.get("id")&&a.push(b.toSeriesJSON())}),"["+a.join()+"]"},newEventsToJSON:function(){var a=[];return this.each(function(b){void 0===b.get("id")&&a.push(b.toSeriesJSON())}),"["+a.join()+"]"},firstStartDate:function(){var a=window.moment([9e3]);return this.each(function(b){b.get("start_date").isBefore(a)&&(a=b.get("start_date"))}),a.isSame(window.moment[9e3])?null:a},lastEndDate:function(){var a=window.moment([0]);return this.each(function(b){b.get("end_date").isAfter(a)&&(a=b.get("end_date"))}),a.isSame(window.moment[0])?null:a},canDelete:function(){return this.every(function(a){return a.get("can_delete")})},checkLimitReached:function(){this.trigger("seriesCollectionMaxLimitReached",this.length>=this.maxLimitEvents)},toScheduleCollection:function(){function b(b,c,d,e,f,g){var h,i=b.length,j=[],k=[],l=[],m,n=[];for(h=0;i>h;h++)0===h?j[h]=0:g?(j[h]=b.at(h).get("start_date").diff(b.at(h-1).get("start_date"),"days"),j[h]=Math.floor(j[h]/28)):j[h]=b.at(h).get("start_date").diff(b.at(h-1).get("start_date"),d);for(h=0,m=!0;i>h;h++)j[h]>e?(l.push(k),n.push(m),m=!0,k=[b.shift()]):(j[h]>1&&(m=!1),k.push(b.shift()));for(l.push(k),n.push(m),h=0,i=l.length;i>h;h++)l[h].length<f?_.each(l[h],function(a){b.add(a)}):c.add(new a.Models.EditScheduleModel({period:d,monthly_by_weekday:g,perfect:n[h],seriesCollection:new a.Models.SeriesCollection(l[h])}))}function c(c,d,e,f,g,h,i){var j,k,l;j=d.groupBy(function(a){return i?(l=Math.floor((a.get("start_date").date()-1)/7),a.get("start_date").format(c)+l):a.get("start_date").format(c)}),d.reset(),_.each(j,function(c){k=new a.Models.SeriesCollection(c),c.length>=h&&b(k,e,f,g,h,i),k.each(function(a){d.add(a)})})}var d={},e=new a.Backbone.Collection,f;e.comparator=function(a){return a.get("start_moment")},this.each(function(b){f=b.scheduleKey(),f in d?d[f].add(b):d[f]=new a.Models.SeriesCollection([b])});for(f in d)d[f].length>1&&b(d[f],e,"days",1,4,!1),d[f].length>1&&c("dddd",d[f],e,"weeks",1,3,!1),d[f].length>1&&c("dddd",d[f],e,"months",1,3,!0),d[f].length>1&&c("D",d[f],e,"months",1,3,!1),d[f].length>1&&c("dddd",d[f],e,"weeks",1,2,!1),d[f].length>1&&c("dddd",d[f],e,"months",1,2,!0),d[f].length>1&&c("D",d[f],e,"months",1,2,!1),d[f].length>1&&c("dddd",d[f],e,"months",2,4,!0),d[f].length>1&&c("D",d[f],e,"months",2,4,!1),d[f].length>1&&c("dddd",d[f],e,"weeks",2,4,!1),d[f].length>1&&b(d[f],e,"days",1,3,!1),d[f].length>1&&b(d[f],e,"days",3,5,!1),d[f].length&&e.add(new a.Models.EditScheduleModel({period:"custom",seriesCollection:d[f]}));return e}}),a.Models.SeriesCollection.fromSeriesJSON=function(b){var c,d;if(c=new a.Models.SeriesCollection,void 0===b||""===b)return c;if(d=JSON.parse(b),_.isArray(d))for(var e=0,f=d.length;f>e;e++)c.push(a.Models.SeriesModel.fromDecodedJSON(d[e]));return c.sort(),c}}(window.EB),/*
 * Marionette component for displaying lists of repeating event dates, and
 * updating that list with a schedule editor.
 */
function(a,b,c,d,e){"use strict";b.namespace("CreatePage");var f=Marionette.Layout.extend({template:e.templates.series_layout,regions:{content:".js-region-series-content",create:".js-region-series-create"}}),g=d.Marionette.ItemView.extend({template:e.templates.series_placeholder,ui:{addDatesButton:".js-series-create"},config:{disabledClass:"btn--disabled"},events:{"click .js-series-create":"navigateToEditor","click .js-series-delete":"deleteSeries","click #event_timezone_series":"displayTimezoneEditor"},initialize:function(a){this.sandbox=a.sandbox},navigateToEditor:function(a){a.preventDefault(),this.ui.addDatesButton.hasClass(this.config.disabledClass)||this.sandbox.execute("navigate:editor")},deleteSeries:function(a){var b=this.collection.length;a.preventDefault(),b&&!window.confirm(window.interpolate(window.gettext("Cancelling the repeating schedule for this event will permanently delete %(count)s event dates.\n\nAre you sure you want to delete these dates?"),{count:b},!0))||this.sandbox.execute("navigate:delete")},displayTimezoneEditor:function(b){b.preventDefault(),a("#event_timezone").trigger("click"),a("#timezone_short_series").html(a("#timezone_short").html())}});b.CreatePage.SeriesComponentFactory=b.ComponentFactory.extend({requests:{},commands:{"navigate:browser":function(){void 0!==this.editorView&&this.editorView.close(),void 0!==this.browserView&&this.browserView.close(),this.layout.$(".js-region-series-create").removeClass("is-hidden"),this.browserView=new b.CreatePage.SeriesBrowserView({sandbox:this.sandbox,collection:this.collection,region:this.region}),this.layout.content.show(this.browserView)},"navigate:editor":function(a){void 0!==this.editorView&&this.editorView.close(),void 0!==this.browserView&&this.browserView.close(),this.layout.$(".js-region-series-create").addClass("is-hidden"),void 0===a&&(a=new b.Models.NewScheduleModel),this.editorView=new b.CreatePage.SeriesEditorView({sandbox:this.sandbox,collection:this.collection,model:a}),this.layout.content.show(this.editorView)},"navigate:editor:first":function(){this.sandbox.execute("navigate:editor"),this.editorView.isFirstDate=!0},"navigate:delete:model":function(a){a.get("can_delete")&&(a.get("id")&&this.seriesDeleteEvents.push(a.get("id")),a.destroy())},"navigate:delete:models":function(a){var b,c;for(b=0,c=a.length;c>b;b++)a[b].get("can_delete")&&(a[b].get("id")&&this.seriesDeleteEvents.push(a[b].get("id")),a[b].destroy())},"navigate:delete:collection":function(a){a.canDelete()&&(a.each(function(a){a.get("id")&&this.seriesDeleteEvents.push(a.get("id"))},this),_.invoke(a.toArray(),"destroy"))},"navigate:delete":function(){this.collection.canDelete()&&(this.sandbox.execute("navigate:delete:collection",this.collection),this.sandbox.execute("navigate:editor:first"),this.trigger("disable"))}},componentMethods:{},postCreate:function(a){this.collection=a.collection,this.seriesDeleteEvents=a.seriesDeleteEvents,this.canCancelSeries=a.canCancelSeries},start:function(a){this.region=a.region,this.browserView=void 0,this.editorView=void 0,this.placeholderView=void 0,this.layout=new f,this.region.show(this.layout);var c=new b.Backbone.Model({can_cancel_series:this.canCancelSeries});this.placeholderView=new g({sandbox:this.sandbox,collection:this.collection,model:c}),this.layout.create.show(this.placeholderView),0===this.collection.length?this.sandbox.execute("navigate:editor:first"):this.sandbox.execute("navigate:browser")}})}(window.jQuery,window.EB,window.EB.App,window.Backbone,window.Handlebars),/*
 * Marionette component for displaying lists of events.
 * This is a collection view (schedule cards) containing composite views (lists of event dates).
 * Each composite view is fed its own collection of dates matching that schedule card.
 * The composite views are hidden until the user expands one to see its dates.
 */
function(a,b,c,d,e){"use strict";b.namespace("CreatePage");var f=d.Marionette.ItemView.extend({tagName:"tr",className:"report__row series-row",template:e.templates.series_list_row,triggers:{"click .js-series-edit-row":"series:instance:edit","click .js-series-delete-row":"series:instance:delete"}}),g=d.Marionette.CompositeView.extend({tagName:"table",className:"report report--horizontal-grid report--compact",itemViewContainer:"tbody",itemView:f,template:e.templates.series_list}),h=d.Marionette.CompositeView.extend({tagName:"table",className:"report report--horizontal-grid report--compact series-cards",template:e.templates.series_card,itemViewContainer:"tbody",itemView:f,triggers:{"click .js-series-expand":"series:schedule:toggle","click .js-series-edit":"series:schedule:edit","click .js-series-delete":"series:schedule:delete"},initialize:function(a){this.seriesCollection=a.seriesCollection,this.collection=new b.Backbone.Collection,this.sandbox=a.sandbox,this.listenTo(this,"itemview:series:instance:delete",this.deleteInstance),this.listenTo(this,"itemview:series:instance:edit",this.editInstance)},editInstance:function(a){this.sandbox.execute("navigate:editor",b.Models.EditScheduleModel.fromEventModel(a.model))},deleteInstance:function(a){this.sandbox.execute("navigate:delete:model",a.model),this.collection.length?(this.model.initialize(),this.render()):this.close()}});b.CreatePage.SeriesBrowserView=d.Marionette.CollectionView.extend({itemView:h,itemViewOptions:function(a){return{sandbox:this.sandbox,seriesCollection:a.get("seriesCollection")}},initialize:function(a){this.collection=a.collection.toScheduleCollection(),this.sandbox=a.sandbox,this.listenTo(this,"itemview:series:schedule:toggle",this.toggleSchedule),this.listenTo(this,"itemview:series:schedule:edit",this.editSchedule),this.listenTo(this,"itemview:series:schedule:delete",this.deleteSchedule)},toggleSchedule:function(a){return a.collection.length?void this.sandbox.execute("navigate:browser"):(a.collection=a.seriesCollection,void a.render())},editSchedule:function(a){this.sandbox.execute("navigate:editor",a.model)},deleteSchedule:function(a){this.sandbox.execute("navigate:delete:collection",a.seriesCollection),a.close()}}),e.registerHelper("momentFormat",function(a,b){return window.moment.isMoment(a)?a.format(b):gettext("Invalid date")}),e.registerHelper("eventDateFormat",function(a,b){return window.moment.isMoment(a)&&window.moment.isMoment(b)?a.format("YYYY MM DD")===b.format("YYYY MM DD")?window.interpolate(window.gettext("%(weekday)s, %(start_date)s (%(start_time)s to %(end_time)s)"),{weekday:a.format("dddd"),start_date:a.format("LL"),start_time:a.format("LT"),end_time:b.format("LT")},!0):window.interpolate(window.gettext("%(start)s to %(end)s"),{start:a.format("LLLL"),end:b.format("LLLL")},!0):gettext("Invalid date")}),e.registerHelper("cardDateFormat",function(a,b){return window.moment.isMoment(a)&&window.moment.isMoment(b)?a.format("YYYY MM DD")===b.format("YYYY MM DD")?window.interpolate(window.gettext("Starting %(start)s"),{start:a.format("LL")},!0):window.interpolate(window.gettext("Starting %(start)s through %(end)s"),{start:a.format("LL"),end:b.format("LL")},!0):gettext("Invalid date")})}(window.jQuery,window.EB,window.EB.App,window.Backbone,window.Handlebars),/*
 * Marionette component for editing schedules events.  This form is used to
 * create new event series, and also editing and extending existing schedules.
 */
function(a,b,c,d,e){"use strict";b.namespace("CreatePage"),b.CreatePage.SeriesEditorView=d.Marionette.ItemView.extend({className:"g-group l-pad-vert-1 pod",events:{"click .js-series-show-monthday":"showMonthDay","click .js-series-show-monthweek":"showMonthWeek","click .js-series-new-add":"saveNewSchedule","click .js-series-edit":"saveEditSchedule","click .js-series-new-close":"hideCreateForm"},bindings:{".js-series-period":"period",".js-series-start-date":"start_date",".js-series-end-date":"end_date",".js-series-custom-date":"custom_date",".js-series-start-time":"start_time",".js-series-end-time":"end_time",".js-series-overnights":{observe:"event_overnights",afterUpdate:"afterOvernightsSet"},".js-series-monthly-offset":"monthly_offset",".js-series-monthly-day":"monthly_day",".js-series-weekly-weekday":"weekly_weekday",".js-series-monthly-weekday":"monthly_weekday"},persistentModelAttrs:["start_time","end_time","start_date","end_date","custom_date","event_overnights","weekly_weekdays","monthly_by_weekday","monthly_day","monthly_offset","monthly_weekdays","period"],initialize:function(a){this.collection=a.collection,this.model=a.model,this.sandbox=a.sandbox,this.isFirstDate=!1,_.bindAll(this,"handleMultiselectWeekly","handleMultiselectMonthly","afterOvernightsSet"),this.listenTo(this.model,"change:period",this.handlePeriodChange),this.listenTo(this.model,"change:period change:custom_date change:start_date change:start_time change:event_overnights change:end_time change:end_date change:weekly_weekdays change:monthly_weekdays change:monthly_offset change:monthly_day change:monthly_by_weekday change:weekly_weekday change:monthly_weekday",this.handleScheduleChange),this.listenTo(this.model,"change:start_time change:end_time change:event_overnights",this.fixOvernight)},getTemplate:function(){return this.model.get("seriesCollection")?"days"===this.model.get("period")?e.templates.series_edit_daily:"weeks"===this.model.get("period")?e.templates.series_edit_weekly:"months"===this.model.get("period")?this.model.get("monthly_by_weekday")?e.templates.series_edit_monthly_weekday:e.templates.series_edit_monthly_day:"custom"===this.model.get("period")?e.templates.series_edit_single:void 0:e.templates.series_new},storeLastValues:function(){if(!this.model.isEditModel())for(var a in this.persistentModelAttrs){var b=this.persistentModelAttrs[a];this.sandbox[b]=this.model.get(b)}},loadLastValues:function(){if(!this.model.isEditModel()){for(var a in this.persistentModelAttrs){var b=this.persistentModelAttrs[a],c=this.sandbox[b];void 0!==c&&this.model.set(b,this.sandbox[b])}this.loadMultiSelect(this.$(".js-series-weekly-weekdays"),"weekly_weekdays"),this.loadMultiSelect(this.$(".js-series-monthly-weekdays"),"monthly_weekdays")}},loadMultiSelect:function(a,b){a.val(this.model.get(b)),a.multiselect("refresh")},onClose:function(){this.storeLastValues(),this.$(".js-series-start-time").remove(),this.$(".js-series-end-time").remove(),this.$(".js-series-weekly-weekdays").multiselect("destroy"),this.$(".js-series-monthly-weekdays").multiselect("destroy"),this.$(".js-series-start-date").datepicker("destroy"),this.$(".js-series-end-date").datepicker("destroy")},render:function(){var c;a(this.el).html(this.getTemplate()(this.model.toJSON())),this.stickit(),this.periodBox=new b.UIComponents.SelectBox({element:this.$(".js-series-period"),parentClass:"responsive-form__select"}),this.periodBox.val(this.model.get("period")),this.monthlyOffsetBox=new b.UIComponents.SelectBox({element:this.$(".js-series-monthly-offset"),parentClass:"responsive-form__select"}),this.monthlyOffsetBox.val(this.model.get("monthly_offset")),this.monthlyDayBox=new b.UIComponents.SelectBox({element:this.$(".js-series-monthly-day"),parentClass:"responsive-form__select"}),this.monthlyDayBox.val(this.model.get("monthly_day")),this.weeklyWeekdayBox=new b.UIComponents.SelectBox({element:this.$(".js-series-weekly-weekday"),parentClass:"responsive-form__select"}),this.weeklyWeekdayBox.val(this.model.get("weekly_weekday")),this.monthlyWeekdayBox=new b.UIComponents.SelectBox({element:this.$(".js-series-monthly-weekday"),parentClass:"responsive-form__select"}),this.monthlyWeekdayBox.val(this.model.get("monthly_weekday")),this.overnightsBox=new b.UIComponents.SelectBox({element:this.$(".js-series-overnights"),parentClass:"responsive-form__select"}),this.overnightsBox.val(this.model.get("event_overnights")),c="# "+gettext("of")+" # "+gettext("days selected"),this.$(".js-series-weekly-weekdays").multiselect({selectedText:c,selectedList:2,header:!1,classes:"series",click:this.handleMultiselectWeekly}),this.$(".js-series-monthly-weekdays").multiselect({selectedText:c,selectedList:2,header:!1,classes:"series",click:this.handleMultiselectMonthly}),this.$(".js-series-start-time").timePicker({startTime:"0:00",endTime:"23:30",separator:":",show24Hours:!b.Intl.getUsesAMPM(),step:30}),this.$(".js-series-end-time").timePicker({startTime:"0:00",endTime:"23:30",separator:":",show24Hours:!b.Intl.getUsesAMPM(),step:30}),this.$(".js-series-start-date").datepicker({minDate:"0D",maxDate:"+2Y"}),this.$(".js-series-end-date").datepicker({minDate:"0D",maxDate:"+2Y"}),this.$(".js-series-custom-date").datepicker({minDate:"0D",maxDate:"+2Y"}),this.$(".series-schedule-summary").html(this.model.get("summary")),require(["dorsal"],function(b){b.rewire(a("a[href=#event_repeating_learn_whats_new]").get(0),"modal")}),this.loadLastValues()},handleMultiselectWeekly:function(a,b){var c=this.$(".js-series-weekly-weekdays").multiselect("getChecked").map(function(){return parseInt(this.value)}).get();this.model.set("weekly_weekdays",c)},handleMultiselectMonthly:function(a,b){var c=this.$(".js-series-monthly-weekdays").multiselect("getChecked").map(function(){return parseInt(this.value)}).get();this.model.set("monthly_weekdays",c)},fixOvernight:function(){this.model.get("event_minutes")<0&&this.$(".js-series-overnights").val("1").change()},showMonthDay:function(a){a.preventDefault(),this.model.set("monthly_by_weekday",!1),this.handlePeriodChange()},showMonthWeek:function(a){a.preventDefault(),this.model.set("monthly_by_weekday",!0),this.handlePeriodChange()},handlePeriodChange:function(){var a=this.model.get("period");this.periodBox.val(a),"custom"===a?(this.$(".series-schedule-custom").removeClass("is-hidden"),this.$(".series-schedule-dates").addClass("is-hidden")):(this.$(".series-schedule-dates").removeClass("is-hidden"),this.$(".series-schedule-custom").addClass("is-hidden")),"months"===a?this.model.get("monthly_by_weekday")?(this.$(".series-schedule-monthly-weekday").removeClass("is-hidden"),this.$(".series-schedule-monthly-day").addClass("is-hidden")):(this.$(".series-schedule-monthly-day").removeClass("is-hidden"),this.$(".series-schedule-monthly-weekday").addClass("is-hidden")):(this.$(".series-schedule-monthly-weekday").addClass("is-hidden"),this.$(".series-schedule-monthly-day").addClass("is-hidden")),"weeks"===a?this.$(".series-schedule-weekly").removeClass("is-hidden"):this.$(".series-schedule-weekly").addClass("is-hidden")},afterOvernightsSet:function(){this.overnightsBox.$el.trigger("change")},handleScheduleChange:function(){this.model.getScheduleStartDates(),this.$(".series-schedule-summary").html(this.model.get("summary"))},showCreateForm:function(a){a.preventDefault(),this.render()},hideCreateForm:function(a){a.preventDefault(),this.isFirstDate?this.sandbox.execute("navigate:delete"):this.sandbox.execute("navigate:browser")},saveNewSchedule:function(b){b.preventDefault(),a("#id_group-details-display_start_date").prop("checked",!0),this.model.saveNewSchedule(this.collection),this.isFirstDate=!1,this.hideCreateForm(b)},saveEditSchedule:function(b){b.preventDefault(),a("#id_group-details-display_start_date").prop("checked",!0),this.model.saveUpdatedSchedule(this.collection,this.sandbox),this.hideCreateForm(b)}}).mixin(b.Backbone.Mixins.withStickitForMarionette),e.registerHelper("selected",function(a,b){return a==b?" selected":""})}(window.jQuery,window.EB,window.EB.App,window.Backbone,window.Handlebars);
//# sourceMappingURL=create.js.map